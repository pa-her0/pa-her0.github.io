{"posts":[{"title":"ç®—æ³•çŸ¥è¯†å†Œ","text":"æœ¬æ–‡ç« æ˜¯ åŸºäº å·¦ç¥è¯¾ç¨‹ + ç‰›å®¢è¯¾ç¨‹ è¿›è¡Œç®—æ³•ç³»ç»Ÿå¼å­¦ä¹ çš„çŸ¥è¯†æ±‡æ€»ã€‚ ä»»åŠ¡å®‰æ’ï¼ˆğŸ“‘ï¼‰ å®Œæˆæƒ…å†µï¼ˆâœ…ï¼‰ çº¿æ€§åŸº 136 + 137 + é«˜æ–¯æ¶ˆå…ƒ åŸºç¡€ç®—æ³•æ±‡æ€» åŸºç¡€ç®—æ³• å•è°ƒé˜Ÿåˆ— è¿™æ˜¯ä¸€æ¬¡å°è¯• å•è°ƒæ ˆ é€†åºå¯¹ æ ‘çŠ¶æ•°ç»„ ä½¿ç”¨æ ‘çŠ¶æ•°ç»„æ¥æ±‚é€†åºé˜Ÿï¼Œä¸»è¦è¦è¿›è¡Œç¦»æ•£åŒ–ï¼Œåº”ä¸ºå¯ä»¥ a[i] çš„å€¼å¾ˆå¤§ï¼Œä½†æ˜¯ æ•°ç»„å¤§å°æœ‰é™ï¼Œä¸ç¦»æ•£åŒ–çš„è¯ï¼Œå¯èƒ½æ ‘çŠ¶æ•°ç»„çš„ treeæ•°ç»„å­˜ä¸ä¸‹ã€‚ æ€è·¯ï¼šä»æ•°ç»„çš„å³è¾¹å¼€å§‹ä¾¿åˆ©ï¼Œè®¿é—®åˆ°å½“å‰å…ƒç´ çš„æ—¶å€™ï¼Œæ£€æŸ¥æ ‘çŠ¶æ•°ç»„ä¸­æ±‚å’Œï¼ˆæ¯”å½“å‰å…ƒç´ å°çš„å…ƒç´ ï¼‰ï¼Œå› ä¸ºæ˜¯ä»å³å¾€å·¦ä¾¿åˆ©ï¼Œå¦‚æœæœ‰æ¯”å½“å‰å…ƒç´ å°çš„ï¼Œè‚¯å®šåœ¨æ•°ç»„ä¸­æ˜¯åœ¨å½“å‰å…ƒç´ çš„å³è¾¹ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344#include&lt;bits/stdc++.h&gt;using namespace std;const int N = 1e5 + 10;int n;int tree[N];int lowbit(int i){ return i &amp; -i;}void add(int i, int w){ while(i &lt;= n){ tree[i] += w; i += lowbit(i); }}// 1 - rint sum(int r){ int ans = 0; while(r &gt; 0){ ans += tree[r]; r-= lowbit(r); } return ans;}signed main(){ cin &gt;&gt; n; vector&lt;int&gt; a(n); for(int i = 0; i &lt; n; i++) cin &gt;&gt; a[i]; // ç¦»æ•£åŒ– vector&lt;int&gt; b(n); b = a sort(b.begin(), b.end()); map&lt;int, int&gt; mp; for(int i = 0; i &lt; n; i++) mp[b[i]] = i + 1; // æ±‚é€†åºé˜Ÿ int ans = 0; for(int i = n - 1; i &gt;= 0; i--){ int r = sum(mp[a[i]] - 1); ans += r; add(mp[a[i]], 1); } cout &lt;&lt; ans &lt;&lt; endl; return 0;} å½’å¹¶åˆ†æ²» åˆ†æ²»çš„å«ä¹‰æ˜¯ æ•´ä½“çš„ç­”æ¡ˆ $?=$ å·¦è¾¹çš„ç­”æ¡ˆ + å³è¾¹çš„ç­”æ¡ˆ å½’å¹¶æ’åº å½’å¹¶æ’åºæ˜¯ä¸€ä¸ªç¨³å®šçš„æ’åº æ•´ä½“çš„æœ‰åº æ˜¯ å·¦è¾¹æœ‰åº + å³è¾¹æœ‰åº + åˆå¹¶è¿‡ç¨‹ 123456789101112131415161718192021void merge(int l, int r){ int mid = (l + r) &gt;&gt; 1; int i = l, j = mid + 1, t1 = 0; while(i &lt;= mid &amp;&amp; j &lt;= r){ help[t1++] = (a[i] &lt;= a[j]) ? a[i++] :a[j++]; } while(i &lt;= mid) help[t1++] = a[i++]; while(j &lt;= r) help[t1++] = a[j++]; for(int i = r; i &gt;= l; i--){ a[i] = help[--t1]; }}void guibin(int l, int r){ if(l &gt;= r) return; int mid = (l + r) &gt;&gt; 1; guibin(l, mid); guibin(mid + 1, r); merge(l, r);} åˆ†æ²»é¢˜ç›®ï¼š leetcode-åˆ†æ²» éšæœºå¿«æ’ $$ $$ ç¦»æ•£åŒ– å¦‚æœæ•°æ®è§„æ¨¡å¤§ï¼Œä½†æ˜¯æ•°æ®é‡å°çš„è¯ï¼Œæˆ‘ä»¬å¯ä»¥è¿›è¡Œç¦»æ•£åŒ–å¤„ç†ã€‚ ç»™æ¯ä¸€ä¸ªå€¼ä¸€ä¸ªç¼–å· æ³•ä¸€ 123456vector&lt;int&gt; b(n);b = a;sort(b.begin(), b.end());b.erase(unique(b.begin(), b.end()), b.end());map&lt;int, int&gt; mp;for(int i = 0; i &lt; b.size(); i++){mp[b[i]] = i;} ç±»å¹¶æŸ¥é›† å¦‚æœæ˜¯åˆ†è”é€šå—è¿›è¡Œè®¡ç®—ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ä½¿ç”¨å¹¶æŸ¥é›†ï¼Œä½¿ç”¨ä¸€ä¸ªç®€å•çš„æ€è·¯ï¼Œç»™æ¯ä¸€ä¸ªè”é€šå—ç¼–å·ï¼Œä»è€Œæ¥è€ƒè™‘æ¯ä¸€ä¸ªè”é€šå—ä¹‹é—´çš„å…³ç³»ã€‚ E. Graph Composition(div3) 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162#include&lt;bits/stdc++.h&gt;using namespace std;#define int long longvoid __(){ int n, m1, m2; cin &gt;&gt; n &gt;&gt; m1 &gt;&gt; m2; vector&lt;vector&lt;int&gt;&gt; a1(n + 1); vector&lt;vector&lt;int&gt;&gt; a2(n + 1); for(int i = 0; i &lt; m1; i++){ int u, v; cin &gt;&gt; u &gt;&gt; v; a1[u].push_back(v); a1[v].push_back(u); } for(int i = 0; i &lt; m2; i++){ int u, v; cin &gt;&gt; u &gt;&gt; v; a2[u].push_back(v); a2[v].push_back(u); } // è¿›è¡Œç¼–å· vector&lt;int&gt; col1(n + 1,0); vector&lt;int&gt; col2(n + 1, 0); auto dfs2 = [&amp;](auto f,int u, int k) -&gt; void{ col2[u] = k; for(auto x : a2[u]){ if(col2[x] == 0){ f(f,x,k); } } }; auto dfs1 = [&amp;](auto f, int u, int k) -&gt; int{ int cnt = 0; col1[u] = k; for(auto x : a1[u]){ if(col1[x] == 0){ if(col2[x] != k) cnt++; else cnt += f(f,x,k);} } return cnt; }; int ans = 0; for(int i = 1; i &lt;= n; i++){ if(col2[i] == 0){ dfs2(dfs2,i,i); } if(col1[i] == 0){ ans += dfs1(dfs1,i,col2[i]); if(col2[i] &lt; i) ans ++; // åœ¨å‰é¢æœ‰ä»£è¡¨èŠ‚ç‚¹çš„æ—¶å€™ä¾¿å·²ç»è®¿é—®è¿‡è¿™ä¸ªèŠ‚ç‚¹ï¼Œä½†æ˜¯åœ¨Få›¾ä¸­è¿™ä¸ª i èŠ‚ç‚¹å¹¶æ²¡æœ‰è¢« åˆå§‹åŒ–ï¼Œè¯´æ˜å‰é¢çš„ä»£è¡¨èŠ‚ç‚¹å’Œè¿™ä¸ªèŠ‚ç‚¹ä¹‹é—´åº”è¯¥è¦å¢åŠ ä¸€æ¡è¾¹ } } cout &lt;&lt; ans &lt;&lt; endl;}signed main(){ int _; cin &gt;&gt; _; while(_--) __();} å¿«é€Ÿå¹‚ æ—  mod 123456789int fpw(int a, int b){ int res = 1; while(b){ if(b &amp; 1) res *= a; a *= a; b &gt;&gt;= 1; } return res;} æœ‰mod 1234567891011int fpw(int a, int b, int mod){ int res = 1; while(b){ if(b &amp; 1){ res = res * a % mod; } a = a * a % mod; b &gt;&gt;= 1; } return res % mod;} ä¹˜æ³•é€†å…ƒ çº¿æ€§ 1234inv[1] = 1;for (int i = 2; i &lt;= n; ++i) { inv[i] = (long long)(p - p / i) * inv[p % i] % p;} æ‰©å±•æ¬§å‡ é‡Œå¾— è´¹é©¬å° $$ ax \\equiv 1(mod ; b) \\ x = a^{b - 2}(mod ; b) $$ 1x = fpw(a, b-2,b) æ•°æ®ç»“æ„ æŠ˜åŠæœç´¢ OI WIKI - Meet in the middle å¹¶æŸ¥é›† åŸºç¡€å¹¶æŸ¥é›† 1234567891011121314int father[N];void init(){ for(int i = 0; i &lt; N; i++) father[i] = i; }int find(int x){ if(x != father[x]){ father[x] = find(father[x]); } return x;}void un(int x, int y){ int fx = find(x), fy = find(y); if(fx != fy){ father[fx] = fy; }} å¸¦æƒå¹¶æŸ¥é›† ä¸ªäººæ„Ÿè§‰å¸¦æƒå¹¶æŸ¥é›†æœ‰ç‚¹ç±»ä¼¼äº æ ‘å½¢DPï¼Œåç»­è¡¥å…… â€˜helloâ€™ å‰ç¼€å’Œ + å·®åˆ† å‰ç¼€å’Œ ä¸€ç»´ $$ sum[i] = sum[i - 1] + a[i] $$ äºŒç»´ $$ sum[i][j] = a[i][j] + sum[i - 1][j] + sum[i][j - 1] - sum[i - 1][j - 1] $$ æ ‘ä¸Šå‰ç¼€å’Œ ç‚¹æƒ $$ x\\rightarrow y çš„è·¯å¾„ = sum_x + sum_y - sum_{lca} - sum_{f_{alca}} $$ è¾¹æƒ $$ x \\rightarrow y çš„è·¯å¾„ = sum_x + sum_y - 2 * sum_{lca} $$ å·®åˆ† ç”¨äºå¿«é€Ÿè§£å†³åŒºé—´ä¿®æ”¹é—®é¢˜ ä¸€ç»´ $$ b_i = a_i - a_{i - 1} $$ å¦‚æœå­˜åœ¨ [l, r] åŒºé—´å†…çš„å€¼è¿›è¡ŒèŒƒå›´ä¿®æ”¹,åœ¨å·®åˆ†æ•°ç»„ä¸Šé¢ $b_l + d,b_{r + 1} - d$ äºŒç»´ $$ diff[i][j] = a[i][j] - a[i - 1][j] - a[i][j - 1] + a[i - 1][j - 1] $$ $$ a[i][j] = \\sum_{t1 = 1}^{i}\\sum_{t2 = 1}^{j} diff[t1][t2] $$ æ ‘ä¸Šå·®åˆ† ç‚¹å·®åˆ† å¦‚æŸ¥è¯¢ä¸€æ£µæ ‘ä¸Š èŠ‚ç‚¹è¢«è®¿é—®çš„æ¬¡æ•° Ex: s åˆ° t è·¯å¾„èŠ‚ç‚¹çš„è®¿é—®ä¿®æ”¹ $$ d_s = d_s + 1 \\ d_{lca} = d_{lca} - 1\\ d_t = d_t + 1\\ d_{f(lca)} = d_{f(lca)} - 1 $$ å½“å‰èŠ‚ç‚¹çš„æƒé‡,ç”±äºå½“å‰èŠ‚ç‚¹çš„æƒé‡ä¸å­èŠ‚ç‚¹æœ‰å…³ï¼Œä¾¿å¯ä»¥å¾ˆå¥½çš„è§£é‡Š ä¸Šé¢è¿™ä¸ªå·®åˆ†è®¿é—®ä¿®æ”¹ $$ a[i] = \\sum^{içš„å­èŠ‚ç‚¹}diff[t] $$ è¾¹å·®åˆ† Ex: s åˆ° t è·¯å¾„çš„è¾¹çš„è®¿é—®ä¿®æ”¹ $$ d_s = d_s + 1\\ d_t = d_t + 1\\ d_{lca} = d_{lca} - 1 $$ å½“å‰èŠ‚ç‚¹çš„æƒé‡,ç”±äºå½“å‰èŠ‚ç‚¹çš„æƒé‡ä¸å­èŠ‚ç‚¹æœ‰å…³ï¼Œä¾¿å¯ä»¥å¾ˆå¥½çš„è§£é‡Š ä¸Šé¢è¿™ä¸ªå·®åˆ†è®¿é—®ä¿®æ”¹ $$ a[i] = \\sum^{içš„å­èŠ‚ç‚¹}diff[t] $$ çº¿æ®µæ ‘ åŸºç¡€çº¿æ®µæ ‘ æ‡’æ›´æ–°çš„æ„ä¹‰æ˜¯ï¼Œå¦‚æœè¿™ä¸ªå¤§åŒºé—´è¿›è¡Œäº†ä¿®æ”¹ï¼Œå½“è®¿é—®åˆ°è¿™ä¸ªå¤§åŒºé—´çš„å­åŒºé—´æ—¶æˆ‘ä»¬å†å»ä¸‹å‘å¤§åŒºé—´çš„ä¿®æ”¹ä¿¡æ¯ã€‚ åŒºé—´æŸ¥è¯¢ï¼ŒåŒºé—´å˜åŒ–ï¼ŒåŒºé—´é‡ç½® 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125#include&lt;bits/stdc++.h&gt;using namespace std;#define int long long#define endl '\\n'#define fr first#define sc secondconst int N = 1e5 + 10;int sum[4 * N];int ad[4 * N];int a[N];int change[4 *N];bool vis[4 * N];/* åŒºé—´æŸ¥è¯¢ï¼ŒåŒºé—´å˜åŒ–ï¼ŒåŒºé—´é‡ç½®*/void build(int l, int r, int i){ if(l == r){ sum[i] = a[r]; return; } int mod = (l + r) &gt;&gt; 1; build(l, mod, i &lt;&lt; 1); build(mod + 1, r, i &lt;&lt; 1 | 1); sum[i] = sum[i &lt;&lt; 1] + sum[i &lt;&lt; 1 | 1]; ad[i] = 0; change[i] = 0; vis[i] = false;}void down(int i, int ln, int rn){ if(vis[i]){ sum[i &lt;&lt; 1] = change[i] * ln; change[i &lt;&lt; 1] = change[i]; vis[i &lt;&lt; 1] = true; sum[i &lt;&lt; 1 | 1] = change[i] * rn; change[i &lt;&lt; 1 | 1] = change[i]; vis[i &lt;&lt; 1 | 1] = true; vis[i] = false; } if(ad[i] != 0){ sum[i &lt;&lt; 1] += (ln * ad[i]); ad[i &lt;&lt; 1] += ad[i]; sum[i &lt;&lt; 1 | 1] += (rn * ad[i]); ad[i &lt;&lt; 1 | 1] += ad[i]; ad[i] = 0; }}void add(int wol, int wor, int wov, int l, int r, int i){ if(l &gt;= wol &amp;&amp; r &lt;= wor){ sum[i] += (r - l + 1) * wov; ad[i] += wov; return; } int mid = (l + r) &gt;&gt; 1; /* l -&gt; mid mid + 1-&gt; r */ down(i, (mid - l + 1), (r - mid)); if(wol &lt;= mid){ add(wol, wor, wov, l, mid, i &lt;&lt; 1); } if(wor &gt;= mid + 1){ add(wol, wor, wov, mid + 1, r, i &lt;&lt; 1 | 1); } sum[i] = sum[i &lt;&lt; 1] + sum[i &lt;&lt; 1 | 1];}void cha(int wol, int wor, int wov, int l, int r, int i){ if(l &gt;= wol &amp;&amp; r &lt;= wor){ sum[i] = (r - l + 1) * wov; change[i] = wov; vis[i] = true; return; } int mid = (l + r) &gt;&gt; 1; down(i, (mid - l + 1), (r - mid)); if(wol &lt;= mid){ cha(wol, wor, wov, l, mid, i &lt;&lt; 1); } if(wor &gt;= mid + 1){ cha(wol, wor, wov, mid + 1, r, i &lt;&lt; 1 | 1); } sum[i] = sum[i &lt;&lt; 1] + sum[i &lt;&lt; 1 | 1];}int query(int wol, int wor, int l, int r, int i){ if(wol &lt;= l &amp;&amp; r &lt;= wor){ return sum[i]; } int mid = (l + r) &gt;&gt; 1; down(i, (mid - l + 1), (r - mid)); int ans = 0; if(wol &lt;= mid){ ans += query(wol, wor, l, mid, i &lt;&lt; 1); } if(wor &gt;= mid + 1){ ans += query(wol, wor, mid + 1, r, i &lt;&lt; 1 | 1); } return ans;}signed main(){ /* 1 1 1 1 6 */ int n; cin &gt;&gt; n; for(int i = 1; i &lt;= n; i++) cin &gt;&gt; a[i]; build(1, n, 1); int q1,q2; cin &gt;&gt; q1; while(q1--){ int t1, t2, t3; cin &gt;&gt; t1 &gt;&gt; t2 &gt;&gt; t3; add(t1, t2, t3,1,n,1); } int chl, chr, chv; cin &gt;&gt; chl &gt;&gt; chr &gt;&gt; chv; cha(chl, chr, chv, 1, n, 1); cin &gt;&gt; q2; while(q2--){ int l,r; cin &gt;&gt; l &gt;&gt; r; cout &lt;&lt; query(l , r, 1, n, 1) &lt;&lt; endl; }} åŒºé—´é‡ç½® + èŒƒå›´æŸ¥è¯¢ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106#include&lt;bits/stdc++.h&gt;using namespace std;#define int long long#define endl '\\n'#define PII pair&lt;int,int&gt;#define fr first#define sc second/* èŒƒå›´é‡ç½® + èŒƒå›´æŸ¥è¯¢ï¼ˆçº¿æ®µæ ‘ï¼‰*/const int N = 1e5 + 10;int Max[4 * N]; // éœ€è¦ 4 * Nint a[N];// æ‡’æ›´æ–° (è®¿é—®æ‰å¾€ä¸‹æ¨)int change[4 * N];bool update[4 * N];/* ad è¡¨ç¤ºå½“å‰éœ€è¦ä¸‹å‘çš„ä¿¡æ¯ï¼Œå½“å‰èŠ‚ç‚¹å·²ç»ä¿®æ­£*/// O(n)void build(int l, int r, int i){ if(l == r){ Max[i] = a[r]; return; } int mid = (l + r) &gt;&gt; 1; // æœ€åä¸€å®šä¼šè¾¾åˆ°ç›¸ç­‰ï¼Œä¸ä¼šå‡ºç°è¶Šç•Œæƒ…å†µ build(l, mid, i &lt;&lt; 1); build(mid + 1, r, i &lt;&lt; 1 | 1); Max[i] =max( Max[i &lt;&lt; 1],Max[i &lt;&lt; 1 | 1]); change[i] = 0, update[i] = false;}// æ‡’ä¿¡æ¯ä¸‹å‘void down(int i, int ln, int rn){ if(update[i]){ update[i &lt;&lt; 1] = true; change[i &lt;&lt; 1] = change[i]; Max[i &lt;&lt; 1] = change[i]; update[i &lt;&lt; 1 | 1] = true; change[i &lt;&lt; 1 | 1] = change[i]; Max[i &lt;&lt; 1 | 1] = change[i]; update[i] = false; }}// O(nlog(n)) èŒƒå›´æŸ¥è¯¢int query(int wol, int wor, int l, int r, int i){ if(l &gt;= wol &amp;&amp; r &lt;= wor){ return Max[i]; } int ans = 0; int mid = (l + r) &gt;&gt; 1; down(i, mid - l + 1, r - mid); if(mid &gt;=wol){ ans =max(ans,query(wol, wor, l, mid, i &lt;&lt; 1)); } if(mid + 1&lt;= wor){ ans = max(ans,query(wol, wor, mid + 1, r, i &lt;&lt; 1 | 1)); } return ans;}// èŒƒå›´iå¢åŠ void up(int wol, int wor, int wov, int l, int r, int i){ if(wol &lt;= l &amp;&amp; r &lt;= wor){ change[i] = wov; update[i] = true; Max[i] = wov; return; } int mid = (l + r) &gt;&gt; 1; down(i, mid - l + 1, r - mid); if(wol &lt;= mid){ up(wol, wor, wov, l, mid, i &lt;&lt; 1); } if(wor &gt;= mid + 1){ up(wol, wor, wov, mid + 1, r, i &lt;&lt; 1 | 1); } Max[i] = max(Max[i &lt;&lt; 1], Max[i &lt;&lt; 1 | 1]); // cout &lt;&lt; i &lt;&lt; &quot; &quot; &lt;&lt; Max[i] &lt;&lt; endl;}signed main(){ int n; cin &gt;&gt; n; for(int i = 1; i &lt;= n; i++) cin &gt;&gt; a[i]; build(1, n, 1); int q1; cin &gt;&gt; q1; while(q1--){ int l, r, v; cin &gt;&gt; l &gt;&gt; r &gt;&gt; v; up(l, r, v, 1, n, 1); } int q; cin &gt;&gt; q; while(q --){ int l, r; cin &gt;&gt; l &gt;&gt; r; cout &lt;&lt; query(l, r, 1, n, 1) &lt;&lt; endl; }} èŒƒå›´ä¿®æ”¹ + èŒƒå›´æŸ¥è¯¢ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100#include&lt;bits/stdc++.h&gt;using namespace std;#define int long long#define endl '\\n'#define PII pair&lt;int,int&gt;#define fr first#define sc second/* èŒƒå›´ä¿®æ”¹ + èŒƒå›´æŸ¥è¯¢ï¼ˆçº¿æ®µæ ‘ï¼‰*/const int N = 1e5 + 10;int sum[4 * N]; // éœ€è¦ 4 * Nint a[N];int ad[4 * N]; // æ‡’æ›´æ–° (è®¿é—®æ‰å¾€ä¸‹æ¨)/* ad è¡¨ç¤ºå½“å‰éœ€è¦ä¸‹å‘çš„ä¿¡æ¯ï¼Œå½“å‰èŠ‚ç‚¹å·²ç»ä¿®æ­£*/// O(n)void build(int l, int r, int i){ if(l == r){ sum[i] = a[r]; return; } int mid = (l + r) &gt;&gt; 1; // æœ€åä¸€å®šä¼šè¾¾åˆ°ç›¸ç­‰ï¼Œä¸ä¼šå‡ºç°è¶Šç•Œæƒ…å†µ build(l, mid, i &lt;&lt; 1); build(mid + 1, r, i &lt;&lt; 1 | 1); sum[i] = sum[i &lt;&lt; 1] + sum[i &lt;&lt; 1 | 1]; ad[i] = 0;}// æ‡’ä¿¡æ¯ä¸‹å‘void down(int i, int ln, int rn){ if(ad[i] != 0){ sum[i &lt;&lt; 1] += ln * ad[i]; ad[i &lt;&lt; 1] += ad[i]; sum[i &lt;&lt; 1 | 1] += rn * ad[i]; ad[i &lt;&lt; 1 | 1] += ad[i]; ad[i] = 0; }}// O(nlog(n)) èŒƒå›´æŸ¥è¯¢int query(int wol, int wor, int l, int r, int i){ if(l &gt;= wol &amp;&amp; r &lt;= wor){ return sum[i]; } int ans = 0; int mid = (l + r) &gt;&gt; 1; down(i, mid - l + 1, r - mid); if(mid &gt;=wol){ ans += query(wol, wor, l, mid, i &lt;&lt; 1); } if(mid + 1&lt;= wor){ ans += query(wol, wor, mid + 1, r, i &lt;&lt; 1 | 1); } return ans;}// èŒƒå›´iå¢åŠ void add(int wol, int wor, int wov, int l, int r, int i){ if(wol &lt;= l &amp;&amp; r &lt;= wor){ ad[i] += wov; // å¾€ä¸‹ä¼ é€’ sum[i] += wov*(r - l + 1); return; } int mid = (l + r) &gt;&gt; 1; down(i, mid - l + 1, r - mid); if(wol &lt;= mid){ add(wol, wor, wov, l, mid, i &lt;&lt; 1); } if(wor &gt;= mid + 1){ add(wol, wor, wov, mid + 1, r, i &lt;&lt; 1 | 1); } sum[i] = sum[i &lt;&lt; 1] + sum[i &lt;&lt; 1 | 1];}signed main(){ int n; cin &gt;&gt; n; for(int i = 1; i &lt;= n; i++) cin &gt;&gt; a[i]; build(1, n, 1); int q1; cin &gt;&gt; q1; while(q1--){ int l, r, v; cin &gt;&gt; l &gt;&gt; r &gt;&gt; v; add(l, r, v, 1, n, 1); } int q; cin &gt;&gt; q; while(q --){ int l, r; cin &gt;&gt; l &gt;&gt; r; cout &lt;&lt; query(l, r, 1, n, 1) &lt;&lt; endl; }} çº¿æ®µæ ‘çš„åŠ¿èƒ½åˆ†æ çº¿æ®µæ ‘åŒºé—´åˆå¹¶ å¤„ç† å­ä¸² å­æ•°ç»„(ç›¸äº’è¿æ¥) çš„ä¿¡æ¯ åºåˆ—æ“ä½œ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213#include &lt;bits/stdc++.h&gt;using namespace std;#define int long long #define fr first#define sc secondusing PII = pair&lt;int, int&gt;;const int N = 1e5;int a[N];int sum[N &lt;&lt; 2];int tree0[N &lt;&lt; 2];int pre0[N &lt;&lt; 2];int la0[N &lt;&lt; 2];int tree1[N &lt;&lt; 2];int pre1[N &lt;&lt; 2];int la1[N &lt;&lt; 2];bool update[N &lt;&lt; 2];int up_data[N &lt;&lt; 2];bool reversed[N &lt;&lt; 2];void up(int i, int ln, int rn) { pre0[i] = (pre0[i &lt;&lt; 1] == ln) ? (pre0[i &lt;&lt; 1] + pre0[i &lt;&lt; 1 | 1]) : pre0[i &lt;&lt; 1]; pre1[i] = (pre1[i &lt;&lt; 1] == ln) ? (pre1[i &lt;&lt; 1] + pre1[i &lt;&lt; 1 | 1]) : pre1[i &lt;&lt; 1]; la0[i] = (pre0[i &lt;&lt; 1 | 1] == rn) ? (la0[i &lt;&lt; 1] + pre0[i &lt;&lt; 1 | 1]) : la0[i &lt;&lt; 1 | 1]; la1[i] = (pre1[i &lt;&lt; 1 | 1] == rn) ? (la1[i &lt;&lt; 1] + pre1[i &lt;&lt; 1 | 1]) : la1[i &lt;&lt; 1 | 1]; tree0[i] = max({tree0[i &lt;&lt; 1], tree0[i &lt;&lt; 1 | 1], la0[i &lt;&lt; 1] + pre0[i &lt;&lt; 1 | 1]}); tree1[i] = max({tree1[i &lt;&lt; 1], tree1[i &lt;&lt; 1 | 1], la1[i &lt;&lt; 1] + pre1[i &lt;&lt; 1 | 1]}); sum[i] = sum[i &lt;&lt; 1] + sum[i &lt;&lt; 1 | 1];}void build(int l, int r, int i) { reversed[i] = false; update[i] = false; if (l == r) { tree0[i] = (a[r] == 0) ? 1 : 0; tree1[i] = (a[r] == 1) ? 1 : 0; sum[i] = a[r]; la0[i] = pre0[i] = tree0[i]; la1[i] = pre1[i] = tree1[i]; return; } int mid = (r + l) &gt;&gt; 1; build(l, mid, i &lt;&lt; 1); build(mid + 1, r, (i &lt;&lt; 1 | 1)); up(i, mid - l + 1, r - mid);}void down(int i, int ln, int rn) { if (update[i]) { if (up_data[i] == 1) { pre1[i &lt;&lt; 1] = la1[i &lt;&lt; 1] = tree1[i &lt;&lt; 1] = ln; pre0[i &lt;&lt; 1] = la0[i &lt;&lt; 1] = tree0[i &lt;&lt; 1] = 0; pre1[i &lt;&lt; 1 | 1] = la1[i &lt;&lt; 1 | 1] = tree1[i &lt;&lt; 1 | 1] = rn; pre0[i &lt;&lt; 1 | 1] = la0[i &lt;&lt; 1 | 1] = tree0[i &lt;&lt; 1 | 1] = 0; sum[i &lt;&lt; 1] = ln; sum[i &lt;&lt; 1 | 1] = rn; update[i] = false; update[i &lt;&lt; 1] = update[i &lt;&lt; 1 | 1] = true; up_data[i &lt;&lt; 1] = up_data[i &lt;&lt; 1 | 1] = 1; } else { pre0[i &lt;&lt; 1] = la0[i &lt;&lt; 1] = tree0[i &lt;&lt; 1] = ln; pre1[i &lt;&lt; 1] = la1[i &lt;&lt; 1] = tree1[i &lt;&lt; 1] = 0; pre0[i &lt;&lt; 1 | 1] = la0[i &lt;&lt; 1 | 1] = tree0[i &lt;&lt; 1 | 1] = rn; pre1[i &lt;&lt; 1 | 1] = la1[i &lt;&lt; 1 | 1] = tree1[i &lt;&lt; 1 | 1] = 0; sum[i &lt;&lt; 1] = 0; sum[i &lt;&lt; 1 | 1] = 0; update[i] = false; update[i &lt;&lt; 1] = update[i &lt;&lt; 1 | 1] = true; up_data[i &lt;&lt; 1] = up_data[i &lt;&lt; 1 | 1] = 0; } reversed[i &lt;&lt; 1] = reversed[i &lt;&lt; 1 | 1] = false; } if (reversed[i]) { swap(pre1[i &lt;&lt; 1], pre0[i &lt;&lt; 1]); swap(la1[i &lt;&lt; 1], la0[i &lt;&lt; 1]); swap(tree0[i &lt;&lt; 1], tree1[i &lt;&lt; 1]); swap(pre1[i &lt;&lt; 1 | 1], pre0[i &lt;&lt; 1 | 1]); swap(la1[i &lt;&lt; 1 | 1], la0[i &lt;&lt; 1 | 1]); swap(tree0[i &lt;&lt; 1 | 1], tree1[i &lt;&lt; 1 | 1]); sum[i &lt;&lt; 1] = ln - sum[i &lt;&lt; 1]; sum[i &lt;&lt; 1 | 1] = rn - sum[i &lt;&lt; 1 | 1]; reversed[i &lt;&lt; 1] = !reversed[i &lt;&lt; 1]; reversed[i &lt;&lt; 1 | 1] = !reversed[i &lt;&lt; 1 | 1]; reversed[i] = false; }}void change(int jobl, int jobr, int w, int l, int r, int i) { if (jobl &lt;= l &amp;&amp; r &lt;= jobr) { if (w == 0) { pre0[i] = la0[i] = tree0[i] = (r - l + 1); sum[i] = 0; pre1[i] = la1[i] = tree1[i] = 0; update[i] = true; up_data[i] = w; } else { pre1[i] = la1[i] = tree1[i] = (r - l + 1); sum[i] = (r - l + 1); pre0[i] = la0[i] = tree0[i] = 0; update[i] = true; up_data[i] = w; } reversed[i] = false; return; } int mid = (l + r) &gt;&gt; 1; down(i, mid - l + 1, r - mid); if (jobl &lt;= mid) { change(jobl, jobr, w, l, mid, i &lt;&lt; 1); } if (jobr &gt;= mid + 1) { change(jobl, jobr, w, mid + 1, r, i &lt;&lt; 1 | 1); } up(i, mid - l + 1, r - mid);}int query1(int jobl, int jobr, int l, int r, int i) { if (jobl &lt;= l &amp;&amp; r &lt;= jobr) { return sum[i]; } int ans = 0; int mid = (l + r) &gt;&gt; 1; down(i, mid - l + 1, r - mid); if (jobl &lt;= mid) { ans += query1(jobl, jobr, l, mid, i &lt;&lt; 1); } if (jobr &gt;= mid + 1) { ans += query1(jobl, jobr, mid + 1, r, i &lt;&lt; 1 | 1); } return ans;}// è¿”å› [l, r] èŒƒå›´ä¸Š è¢« [jobl, jobr] å½±å“çš„åŒºåŸŸ çš„ ä¿¡æ¯vector&lt;int&gt; query2(int jobl, int jobr, int l, int r, int i) { if (jobl &lt;= l &amp;&amp; r &lt;= jobr) { return {tree1[i], pre1[i], la1[i]}; } int mid = (l + r) &gt;&gt; 1; down(i, mid - l + 1, r - mid); vector&lt;int&gt; a1 = {0, 0, 0}; vector&lt;int&gt; a2 = {0, 0, 0}; if (jobl &lt;= mid) { a1 = query2(jobl, jobr, l, mid, i &lt;&lt; 1); } if (jobr &gt;= mid + 1) { a2 = query2(jobl, jobr, mid + 1, r, i &lt;&lt; 1 | 1); } int max_len = max(a1[0], a2[0]); if (jobl &lt;= mid &amp;&amp; jobr &gt;= mid + 1) { max_len = max(max_len, a1[2] + a2[1]); } int prefix_len = (jobl &lt;= l) ? a1[1] : 0; /* [l, r] [jobl,jobr] è¿”å› [l, r] èŒƒå›´ä¸Š è¢« [jobl, jobr] å½±å“çš„åŒºåŸŸ çš„ ä¿¡æ¯ */ if (jobl &lt;= l &amp;&amp; a1[1] == (mid - l + 1) &amp;&amp; jobr &gt;= mid + 1) { prefix_len += a2[1]; } int suffix_len = (jobr &gt;= r) ? a2[2] : 0; if (jobr &gt;= r &amp;&amp; a2[1] == (r - mid) &amp;&amp; jobl &lt;= mid) { suffix_len += a1[2]; } return {max_len, prefix_len, suffix_len};}void reverse(int jobl, int jobr, int l, int r, int i) { if (jobl &lt;= l &amp;&amp; r &lt;= jobr) { reversed[i] = !reversed[i]; swap(pre1[i], pre0[i]); swap(la1[i], la0[i]); swap(tree0[i], tree1[i]); sum[i] = (r - l + 1) - sum[i]; return; } int mid = (l + r) &gt;&gt; 1; down(i, mid - l + 1, r - mid); if (jobl &lt;= mid) { reverse(jobl, jobr, l, mid, i &lt;&lt; 1); } if (jobr &gt;= mid + 1) { reverse(jobl, jobr, mid + 1, r, i &lt;&lt; 1 | 1); } up(i, mid - l + 1, r - mid);}signed main() { int n, m; cin &gt;&gt; n &gt;&gt; m; for (int i = 1; i &lt;= n; i++) cin &gt;&gt; a[i]; build(1, n, 1); while (m--) { int pos, l, r; cin &gt;&gt; pos &gt;&gt; l &gt;&gt; r; l++; r++; if (pos == 0) { change(l, r, 0, 1, n, 1); } else if (pos == 1) { change(l, r, 1, 1, n, 1); } else if (pos == 2) { reverse(l, r, 1, n, 1); } else if (pos == 3) { cout &lt;&lt; query1(l, r, 1, n, 1) &lt;&lt; endl; } else if (pos == 4) { cout &lt;&lt; query2(l, r, 1, n, 1)[0] &lt;&lt; endl; } } return 0;} å¼€ç‚¹çº¿æ®µæ ‘ é—®é¢˜ æ”¯æŒå¾ˆå¤§çš„èŒƒå›´ï¼Œä½†æ˜¯æŸ¥è¯¢æ¬¡æ•°å°‘ï¼ŒæŸ¥è¯¢åŒºé—´å° æ—¶é—´å¤æ‚åº¦ 2 * m * log(n)ï¼Œç”¨ cnt æ¥è®°å½•ç¼–å·ï¼Œçœ‹èŠ‚ç‚¹åˆ†æ”¯æ˜¯å¦è®¿é—®è¿‡ã€‚ çº¿æ®µæ ‘å†å²æœ€å€¼æ“ä½œ æ ‡ç­¾å›æ”¶ â†’ è¿›è¡Œå‰ªæ å›¾è®º æœ€çŸ­è·¯é—®é¢˜ é‡è§è¿‡å¾ˆå¤š æœ€çŸ­è·¯ é—®é¢˜ï¼Œé¢˜ç›®çš„æ„æ€ä¸€èˆ¬éƒ½æŒ‡å‘æ˜ç¡®ï¼Œå°±æ˜¯(i $\\rightarrow$ j)çš„è·¯å¾„æœ€å°ã€‚ ä½†æ˜¯ä¸€èˆ¬éƒ½æ˜¯ æœ€çŸ­è·¯çš„æ‰©å±•ï¼Œ exï¼šåˆ°è¾¾ç»ˆç‚¹æ—¶å€™éœ€è¦æ»¡è¶³ä»€ä¹ˆæ ·çš„çŠ¶æ€ é¢˜ç›®é“¾æ¥ï¼š æ‰©å±•è¿·å®«é—®é¢˜ ä¸ªäººè®¤ä¸ºè¿™é“é¢˜éå¸¸çš„å…¸ï¼Œé¢˜ä¸­è¿˜åº”ç”¨äº†ä¸€ç±» è‡ªå®šä¹‰ç‚¹ï¼Œæ¥ç®¡ç†ç›¸åŒç±»åˆ«çš„ç‚¹ä¹‹é—´çš„è·³è½¬ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657#include&lt;bits/stdc++.h&gt;using namespace std;#define int long long#define fr first#define sc second#define endl '\\n'using PII = pair&lt;int,int&gt;;void slove(){int n, m, x;cin &gt;&gt; n &gt;&gt; m &gt;&gt; x;vector&lt;int&gt; a(n + 1, 0);vector&lt;array&lt;int, 3&gt;&gt; g[2 * n + 1];for(int i = 1; i &lt;= n; i++) cin &gt;&gt; a[i];for(int i = 1; i &lt;= n; i++){ g[a[i] + n].push_back({i,0,0}); g[i].push_back({a[i] + n, x, 1 });}for(int i = 0; i &lt; m; i++){ int u, v, w; cin &gt;&gt; u &gt;&gt; v &gt;&gt; w; g[u].push_back({v,w,1});}priority_queue&lt; array&lt;int,3&gt;, vector&lt;array&lt;int,3&gt;&gt;, greater&lt;array&lt;int,3&gt;&gt;&gt; q;q.push({0,1,0});vector&lt;vector&lt;int&gt;&gt; dist(2 * n + 1, vector&lt;int&gt;(3, INT_MAX));vector&lt;vector&lt;bool&gt;&gt; vis(2 * n + 1,vector&lt;bool&gt;(3,false));dist[1][0] = 0;while(!q.empty()){ auto temp = q.top(); q.pop(); int v = temp[1],step = temp[2]; if(vis[v][step]) continue; // cout &lt;&lt; v &lt;&lt; &quot; &quot; &lt;&lt; w &lt;&lt; endl; vis[v][step] = 1; for(auto[u, w, l] : g[v]){ // cout &lt;&lt; u &lt;&lt; &quot; &quot; &lt;&lt; w &lt;&lt; endl; int op = (step + l) % 3; if(dist[u][op] &gt; dist[v][step] + w){ dist[u][op] = dist[v][step] + w; q.push({dist[u][op],u, op});}} } if(dist[n][0] == INT_MAX){ cout &lt;&lt; &quot;-1&quot; &lt;&lt; endl; }else{ cout &lt;&lt; dist[n][0] &lt;&lt; endl; }}signed main(){ ios::sync_with_stdio(false); cout.tie(0); int t; cin &gt;&gt; t; while(t--) slove(); return 0;} æ‹“æ‰‘æ’åº é€‚ç”¨äºé‚£äº› èŠ‚ç‚¹çŠ¶æ€æœ‰å…ˆåæ€§çš„é—®é¢˜ã€‚ å¦‚æœéœ€è¦æ±‚ æœ€å¤§/æœ€å°çš„æ‹“æ‰‘æ’åºçš„è¯ï¼Œå¯ä»¥å°†å­˜å‚¨çš„ deque æ”¹æˆ ä¼˜å…ˆé˜Ÿåˆ— 12345678910111213141516171819202122232425signed main(){ int n; cin &gt;&gt; n; vector&lt;vector&lt;int&gt;&gt; a(n + 1); vector&lt;int&gt; in(n + 1); for(int i = 0; i &lt; n; i++){ int u, v; cin &gt;&gt; u &gt;&gt; v; a[u].push_back(v); in[v]++; } deque&lt;int&gt; q; for(int i = 1; i &lt;= n; i++){ if(in[i] == 0){q.push_back(i);} } while(!q.empty()){ int x = q.front(); q.pop_front(); cout &lt;&lt; x &lt;&lt; endl; for(auto t : a[x]){ in[t]--; if(in[t] == 0) q.push_back(t); } } return 0;} æ¿å­é¢˜ï¼šP1347 è´Ÿç¯ å·®åˆ†çº¦æŸ å½¢å¼ $$ x_i - x_j \\leq C_i \\quad \\text{($C_i$ ä¸ºå¸¸æ•°)}\\ æ‰¾åˆ°ä¸€ç»„æ»¡è¶³è¿™ç§å¼å­çš„è§£ $$ æ ¹æ® å°äºå· çš„ä¸ç­‰å¼æ¥å»ºå›¾ $$ x_i \\leq x_j + C_i $$ å°†è¿™ä¸ªå¼å­åº”ç”¨åˆ° å›¾ä¸­,å¦‚æœå›¾ä¸­å­˜åœ¨è´Ÿç¯å°±ä¸å­˜åœ¨æ»¡è¶³çš„è§£ã€‚ è´Ÿç¯åˆ¤æ–­ï¼š å¦‚æœè¿™ä¸ªèŠ‚ç‚¹è¿›é˜Ÿåˆ— $\\geq$ æ‰€æœ‰èŠ‚ç‚¹çš„ ä¸ªæ•° - 1 å¦‚æœé˜Ÿåˆ—ä¸ºç©ºï¼Œdist[n] ä¾¿æ˜¯ä¸€ç»„è§£ æ•°å­¦ åŸºç¡€æ•°è®º ä»»ä½•ä¸€ä¸ªæ•´æ•° éƒ½å¯ä»¥åˆ†è§£ä¸º æœ‰é™ä¸ªè´¨æ•°çš„ä¹˜ç§¯ $$ N = p_1^{c_1} * p_2^{c_2} \\dots p_x^{c_x} $$ åˆ™ N çš„çº¦æ•°é›†åˆä¸º $$ çº¦æ•°é›†åˆ = {p_1^{b_1} * p_2 ^ {b_2} \\dots p_x^{b_x}} \\ 0\\le b_i \\le c_i $$ æ­£çº¦æ•°çš„ä¸ªæ•° ğŸ˜’\\prod_{i=1}^{m}{(c_i +1)}$ è´¨æ•°ç­›çš„ç®—æ³•åªéœ€è¦ $log{(n)}$ é«˜æ–¯æ¶ˆå…ƒ é«˜æ–¯æ¶ˆå…ƒ æœ‰ä¸‰ç§ç±»åˆ«ï¼Œæˆ‘ä»¬ä¼šé€ä¸€è¡¥å……ï¼Œç›®å‰å…ˆè¡¥å…… å¼‚æˆ–æ¶ˆå…ƒï¼Œä½†æ˜¯å…¶å®æœ¬è´¨æ˜¯ä¸å˜çš„ã€‚ çº¿æ€§åŸº ç»™å‡ºä¸€ä¸ªæ•°ç»„ï¼Œè¯·æ‰¾å‡ºè¿™ä¸ª æ•°ç»„çš„ä»»æ„å…ƒç´ è¿›è¡Œå¼‚æˆ–ï¼Œå¯ä»¥å¾—åˆ°å¤šå°‘ç§æƒ…å†µã€‚ çº¿æ€§åŸºçš„å¤§å°ä¾¿å†³å®šäº† èƒ½å¼‚æˆ–çš„å¤šå°‘ç§æƒ…å†µ ï¼ˆ2 ^ n - 1) 123456789101112131415161718192021222324252627282930313233343536373839404142#include&lt;bits/stdc++.h&gt;using namespace std;#define int long long #define fr first#define sc second#define endl '\\n'using PII = pair&lt;int,int&gt;;/* çº¿æ€§åŸº*/void _1(){ int n; cin &gt;&gt; n; vector&lt;int&gt; a(n + 1, 0); for(int i = 1; i &lt;= n; i++) cin &gt;&gt; a[i]; /* æŸ¥æ‰¾æ¯ä¸€ä½çš„ åŸº é¦–å…ˆ ä» æ¯ä¸€ä¸ªæ•° å¼€å§‹éå†ï¼Œç„¶åæšä¸¾ æ¯ä¸€ä¸ªä½ç½®ï¼Œå¦‚æœè¿™ä¸ªä½ç½®æœ‰ åŸºï¼Œå°†è¿™ä¸ªæ•° å˜æˆ ä¸¤è€…çš„å¼‚æˆ–å€¼ */ int h = 61; bool zero = false; vector&lt;int&gt; ans; vector&lt;int&gt; base(h + 1, 0); for(int i = 1; i &lt;= n; i++){ for(int j = h; j &gt;= 0; j--){ if(((a[i] &gt;&gt; j) &amp; 1) == 1){ if(base[j] == 0){ base[j] = a[i]; ans.push_back(a[i]); break; }else a[i] = a[i] ^ base[j]; } if(a[i] == 0) zero = true; } } for(auto x : ans) cout &lt;&lt; x &lt;&lt; &quot; &quot;; cout &lt;&lt; endl; if(zero) cout &lt;&lt; &quot;yes&quot; &lt;&lt; endl; else cout &lt;&lt; &quot;no&quot; &lt;&lt; endl;} é«˜æ–¯æ¶ˆå…ƒ 12345678910111213141516171819202122232425262728293031323334void _2(){ int n; cin &gt;&gt; n; vector&lt;int&gt; a(n + 1, 0); for(int i = 1; i &lt;= n; i++) cin &gt;&gt; a[i]; int len = 1, h = 61; // ä¸Šé¢æ˜¯ç¡®å®šçš„ bool zero = false; vector&lt;int&gt; base(1,0); for(int i = h; i &gt;= 0; i--){ for(int j = len; j &lt;= n; j++){ if(((a[j] &gt;&gt; i) &amp; 1) == 1){ swap(a[len],a[j]); break; } } if(((a[len] &gt;&gt; i) &amp; 1) == 1){ for(int k = 1; k &lt;= n; k++){ if(k != len &amp;&amp; ((a[k] &gt;&gt; i) &amp; 1) == 1){ a[k] = a[k] ^ a[len]; } } len++; } } len --; if(len != n) zero = true; for(int i = 1; i &lt;= len; i++) cout &lt;&lt; a[i] &lt;&lt; &quot; &quot;; cout &lt;&lt; endl; if(zero) cout &lt;&lt; &quot;yes&quot; &lt;&lt; endl; else cout &lt;&lt; &quot;no&quot; &lt;&lt; endl; } å¸¸è§è€ƒç‚¹ï¼š æ±‚å¼‚æˆ–æœ€å¤§å€¼ ä» æœ€é«˜ä½å¼€å§‹æšä¸¾ï¼Œæ¥è¿›è¡Œæ›´æ–°æœ€å¤§å€¼ 1234567891011121314151617181920212223242526272829303132333435#include&lt;bits/stdc++.h&gt;using namespace std;#define int long long #define fr first#define sc second#define endl '\\n'using PII = pair&lt;int,int&gt;;signed main(){ int n; cin &gt;&gt; n; vector&lt;int&gt; a(n + 1, 0); for(int i = 1; i &lt;= n; i++) cin &gt;&gt; a[i]; vector&lt;int&gt; base(53,0); for(int i = 1; i &lt;= n; i++){ for(int k = 52; k &gt;= 0; k--){ if(((a[i] &gt;&gt; k) &amp; 1) == 1){ if(base[k] == 0){ base[k] = a[i]; break; }else{ a[i] ^= base[k]; } } } } int mx = 0; for(int i = 52; i &gt;= 0; i--){ mx = max(mx, mx ^ base[i]); } cout &lt;&lt; mx &lt;&lt; endl; return 0;} æ±‚ å¼‚æˆ– ç¬¬ k å°å€¼ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970#include&lt;bits/stdc++.h&gt;using namespace std;#define int long long #define fr first#define sc second#define endl '\\n'using PII = pair&lt;int,int&gt;;/* çº¿æ€§åŸº*/signed main(){ int n; cin &gt;&gt; n; vector&lt;int&gt; a(n + 1,0); for(int i = 1; i &lt;= n; i++) cin &gt;&gt; a[i]; auto swp = [&amp;](int i, int j) -&gt; void{ int t = a[i]; a[i] = a[j]; a[j] = t; }; int len = 1; for(int i = 53; i &gt;= 0; i--){ for(int j = len; j &lt;= n; j++){ if(((a[j] &gt;&gt; i) &amp; 1) == 1){ swp(j, len); break; } } if(((a[len] &gt;&gt; i) &amp; 1) == 1){ for(int j = 1; j &lt;= n; j++){ if(j != len &amp;&amp; (((a[j] &gt;&gt; i) &amp; 1) == 1)){ a[j] ^= a[len]; } } len ++; } } len --; // for(int i = 1; i &lt;= len; i++) cout &lt;&lt; a[i] &lt;&lt; &quot; &quot;; // cout &lt;&lt; endl; bool zero = (len != n); int m; cin &gt;&gt; m; int mx = (1 &lt;&lt; len); // cout &lt;&lt; mx &lt;&lt; endl; for(int i = 0; i &lt; m; i++){ int t; cin &gt;&gt; t; if(zero) t--; if(t == 0 &amp;&amp; zero) cout &lt;&lt; &quot;0&quot; &lt;&lt; &quot;\\n&quot;; else if(t == 0 || t &gt;= mx) cout &lt;&lt; &quot;-1&quot; &lt;&lt; &quot;\\n&quot;; else{ int ans = 0; // cout &lt;&lt; t &lt;&lt; endl; for (int i = len, j = 0; i &gt;= 1; i--, j++) { if ((t &amp; (1L &lt;&lt; j)) != 0) { ans ^= a[i]; } } cout &lt;&lt; ans &lt;&lt; &quot;\\n&quot;; // cout &lt;&lt; endl; } } return 0;} æ‰©å±•æ¬§å‡ é‡Œå¾— ä¸­å›½å‰©ä½™å®šç† ç”±æ‰©å±•æ¬§å‡ é‡Œå¾—ç®—æ³•ï¼ˆåç»­å¡«å®Œæ‰©å±•æ¬§å‡ é‡Œå¾—ä¼šè¡¥å……ï¼‰ åŠ¨æ€è§„åˆ’ åŒºé—´DP å½“å®ç° åŒºé—´DP çš„æ—¶å€™ï¼Œå¦‚ä½•å°†é€’å½’è¯¥è¿­ä»£ é¦–å…ˆæšä¸¾æ¯ä¸€ä¸ªé•¿åº¦çš„åŒºé—´ï¼Œç„¶ååœ¨æšä¸¾æ¯ä¸€ä¸ªåŒºé—´çš„å¼€å¤´ï¼ˆè¿™æ ·å¯ä»¥é¿å…åˆ¤æ–­è¾¹ç•Œæ¡ä»¶ï¼‰ï¼Œç„¶ååˆ¤æ–­è¿™ä¸ªåŒºé—´çš„æ‰©å±•ï¼Œå› ä¸ºå½“ä½ æšä¸¾åˆ°è¿™ä¸ªé•¿åº¦çš„åŒºé—´çš„æ—¶å€™ï¼Œä½ æ˜¯ä¸€å®šæšä¸¾å®Œè¿™ä¸ªåŒºé—´çš„å­åŒºé—´çš„ã€‚ æ³¨æ„ å­åŒºé—´ä¸­å­˜åœ¨ä¸€äº›ç‰¹åˆ¤çš„æƒ…å†µï¼ é¢„æµ‹èµ¢å®¶ è®¡ç®—å‡ ä½• åšå¼ˆè®º æ‚é¡¹ æ•°æ® é€šè¿‡æ•°æ®é‡çš„ç»™å‡ºï¼Œå¯ä»¥å¤§æ¦‚çš„ä¼°è®¡æ˜¯ä¸€ä¸ªä»€ä¹ˆæ—¶é—´å¤æ‚åº¦çš„ç®—æ³•ï¼Œä»è€Œæ¥æ¨æ¼”è¿™ä¸ªç®—æ³•çš„ç±»å‹ã€‚ æˆ–( | ) å’Œ ä¸( &amp; ) å¯¹äºæˆ–å’Œä¸çš„ä¸€äº›è®¨è®º æˆ– æ˜¯åªè¦æœ‰ä¸€ä¸ª 1ï¼Œæˆ–å€¼ ä¸­è¿™ä¸ªä½ç½®å°±ä¸€å®šä¼šå­˜åœ¨ä¸€ä¸ª 1 å¯ä»¥è€ƒè™‘ è¿™ä¸ªä½ç½®çš„ ä¸€æ˜¯å¦éœ€è¦å­˜åœ¨æ¥è¿›è¡ŒæŒ‰ä½åˆ¤æ–­ ä¸ æ˜¯éœ€è¦å…¨éƒ¨éƒ½æ˜¯1ï¼Œä¸å€¼ ä¸­è¿™ä¸ªä½ç½®å°±ä¸€å®šå­˜åœ¨ 1 æœ€å¤§å…¬çº¦æ•° å’Œ æœ€å°å…¬å€æ•° çš„å…³ç³» é¢„å¤„ç†ä¸¤ä¸ªæ•°å­—çš„æœ€å¤§å…¬çº¦æ•° è¿™ä¸ª g[y][x%y] å…¶å®å°±ç›¸å½“äºä¸€ä¸ª åŠ¨è§„çš„è½¬è¾—ç›¸é™¤æ³•çš„ä¸€ä¸ªåº”ç”¨ 123456for(int x = 0; x &lt; N; x ++) g[x][0] = g[0][x] = g[x][x] = x;for(int x = 1; x &lt; N; x ++){ for(int y = 1; y &lt; x; y++){ g[x][y] = g[y][x] = g[y][x % y]; }} ç‰¹æ®Šæ€§è´¨å¯¹äºä»»ä½•æ­£æ•´æ•° a1â€‹,a2â€‹,â€¦,anâ€‹ å’Œå®ƒä»¬çš„ GCD g=gcd(a1â€‹,a2â€‹,â€¦,anâ€‹)ï¼Œå¦‚æœæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªæ–°æ•°ç»„ aiâ€²â€‹=aiâ€‹/gï¼Œé‚£ä¹ˆæ–°æ•°ç»„ a1â€²â€‹,a2â€²â€‹,â€¦,anâ€²â€‹ çš„æœ€å¤§å…¬çº¦æ•°å¿…ç„¶æ˜¯ 1 lcm(a, b) * gcd(a, b) = a * b â€‹ a * b = è´¨æ•° â†’ (a = 1, b ä¸º è´¨æ•°) åœ¨è¿›è¡Œ GCD çš„è¿‡ç¨‹ä¸­ï¼Œéšç€ ä¸æ–­è¿›è¡Œ GCDï¼ŒGCDçš„å€¼åªå¯èƒ½ä¸å˜æˆ–è€…å˜å° å¼‚æˆ–å€¼ é‡åˆ°å¼‚æˆ–å€¼å¯ä»¥è€ƒè™‘ æšä¸¾æ¯ä¸€ä¸ªä½ç½®ï¼Œçœ‹æ˜¯ä¸æ˜¯æ¯ä¸€ä¸ªä½ç½®çš„å˜åŒ–ä¼šå¯¹ç­”æ¡ˆæœ‰å½±å“ï¼ˆè§„å¾‹æ€§ï¼‰ 2094E äºŒè¿›åˆ¶ åœ¨äºŒè¿›åˆ¶çš„ä½ç§»ä¸­ 1æ˜¯ä¼šè¢«é»˜è®¤å½“ä½œ (int)ç±»å‹çš„ éœ€è¦ (1ll &lt;&lt; j) é˜²æ­¢æº¢å‡º å¦‚ ï¼ˆ1 &lt;&lt; j) ä¼šè¢«é»˜è®¤ä¸º int ç±»å‹ å›¾çš„åˆ›æ–°çŸ¥è¯† å­˜åœ¨å¤šä¸ª èµ·ç‚¹çš„æ—¶å€™ï¼Œå¯ä»¥è®¾ç½®è™šç‚¹ã€‚ é‡åˆ°ä¸­ä½æ•°ï¼ˆå¯¹é¡¶å †ï¼‰ æ ‘ä¸Šçš„ ä¸¤ä¸ªèŠ‚ç‚¹ä¹‹é—´ åªå­˜åœ¨ä¸€æ¡æœ€çŸ­è·¯å¾„ äºŒåˆ† äºŒåˆ†æ˜¯ x å€¼æˆç«‹ $\\leq or \\geq$ x çš„å€¼éƒ½æˆç«‹ äºŒåˆ†å…·æœ‰å•è°ƒæ€§ï¼š å½“ x æˆç«‹çš„ æ—¶å€™ï¼Œ å°äº x çš„å€¼éƒ½æ˜¯ä¸€å®šæˆç«‹çš„ã€‚ å¯¹äºæ•°ç»„ä¸­ ä¸åŒä½ç½®çš„å€¼ èƒ½å¦ç›¸äº’æŠµæ¶ˆï¼Œå˜æˆå…¨æ˜¯ 0 çš„æ•°ç»„ å¦‚æœå½“å‰ å…ƒç´ çš„ä¸ªæ•°å¤§äºäº† æ•°ç»„çš„å’Œçš„ä¸€åŠè‚¯å®šæ˜¯ä¸æˆç«‹çš„ åŒºé—´å¼‚æˆ–é—®é¢˜ å¯¹äºä¸€ä¸ªåŒºé—´ [l, r] æ¥è¯´, l ^ r ä¸­çš„ æœ€é«˜ä½çš„ 1ï¼Œç›¸å½“äº æœ€é«˜ä½åé¢çš„ 1éƒ½å¯ä»¥ç”± [l, r] ä¸­çš„å€¼å¼‚æˆ–å¾—åˆ°ã€‚ 1 åœ¨è®¡ç®—æœºä¸­ä¼šè‡ªåŠ¨è¢«é»˜è®¤è®¾ç½®ä¸º int å‹ï¼Œæ‰€ä»¥å¦‚æœæœ‰long long çš„è¯ï¼Œéœ€è¦ æ”¹å˜ 1 çš„ç±»å‹, (long long) çŸ©é˜µé—®é¢˜ çŸ©é˜µ è¡Œåˆ—å¼‚æˆ– çŸ©é˜µæ„é€  é€šç”¨æ€è€ƒï¼šæ‰¾ä¸€ä¸‹ æ€»çš„å¼‚æˆ– çš„å€¼çš„å…³ç³» å°è¯•å»æ„é€ çŸ©é˜µ","link":"/2025/05/06/%E7%AE%97%E6%B3%95%E6%9D%BF%E5%AD%90/"},{"title":"Codeforces","text":"ç”¨äºè®°å½• CFæ¯”èµ› è¡¥é¢˜ æç¤º è¿™æ˜¯ä¸€ä¸ªæç¤º æ³¨æ„ è¿™æ˜¯ä¸€ä¸ªè­¦å‘Š è­¦å‘Š è¿™æ˜¯ä¸€ä¸ªå±é™©ä¿¡å· æˆåŠŸ è¿™æ˜¯ä¸€ä¸ªæˆåŠŸä¿¡å· &nbsp;ç‚¹å‡»æŠ˜å è¿™æ˜¯è¢«éšè—çš„å†…å®¹ DIV2(1030) B TipS çº¯å±æ„é€ é¢˜ï¼Œä¸€å¼€å§‹æ€è·¯æ²¡é—®é¢˜ï¼Œä½†æ˜¯å°±æ˜¯ $æ“ä½œæ­¥éª¤ \\leq 2 * n$, å…¶å®å¯¹äºæ¯ä¸€è¡Œæ“ä½œéƒ½æ˜¯å›ºå®šçš„ï¼Œå‰é¢ç¿»è½¬ï¼Œåé¢ç¿»è½¬ï¼Œæ€»ä½“ç¿»è½¬ï¼Œå› ä¸ºæ¯ä¸€è¡Œéƒ½éœ€è¦æ•´ä½“ç¿»è½¬ï¼Œæ‰€ä»¥æ˜¯å¯ä»¥çœå»çš„ã€‚ 123456789101112131415161718192021222324#include&lt;bits/stdc++.h&gt;using namespace std;#define int long long #define fr first#define sc second#define endl '\\n'using PII = pair&lt;int,int&gt;;signed main(){ int t; cin &gt;&gt; t; while(t--){ int n; cin &gt;&gt; n; cout &lt;&lt; 2 * n - 1 &lt;&lt; endl; cout &lt;&lt; 1 &lt;&lt; &quot; &quot; &lt;&lt; 1 &lt;&lt; &quot; &quot; &lt;&lt; n &lt;&lt; endl; for(int i = 2; i &lt;= n; i++){ cout &lt;&lt; i &lt;&lt; &quot; &quot; &lt;&lt; 1 &lt;&lt; &quot; &quot; &lt;&lt; i - 1 &lt;&lt; endl; cout &lt;&lt; i &lt;&lt; &quot; &quot; &lt;&lt; i &lt;&lt; &quot; &quot; &lt;&lt; n &lt;&lt; endl; } } return 0;}","link":"/2025/06/10/Codeforces/"},{"title":"ç‰›å®¢èµ›","text":"æ±‡æ€»ç‰›å®¢çº¿ä¸Šèµ›é¢˜ç›® ç‰›å®¢å‘¨èµ›Round-93 F ä¸€ä¸ªçº¿æ€§çŠ¶æ€ DP è¿™ä¸ªé¢˜ç›®çš„æ€è·¯æ¯”è¾ƒç®€å•ï¼Œä½†æ˜¯å…¶å®å®ç°æ˜¯æœ‰ä¸€ç‚¹è€ƒéªŒç é‡çš„ï¼Œé‚£ä¸ªå¥‡å¶æ€§çš„åˆ¤æ–­ã€‚å°±æ˜¯ä¸€ä¸ªçº¿æ€§DP è¿™ä¸ªä½ç½®ä¸åªä¸ä¸Šä¸€ä¸ªä½ç½®æœ‰å…³ç³»ï¼Œæ‰€ä»¥è‡ªç„¶å¯ä»¥æƒ³åˆ°åŠ¨æ€è§„åˆ’ï¼Œä½†æ˜¯è¿™ä¸ªé¢˜ç›®çš„ç é‡æœ‰ä¸€ç‚¹è¦æ±‚ï¼Œæ•´ä½“æ€ç»´éš¾åº¦ä¸å¤§ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283#include&lt;bits/stdc++.h&gt;using namespace std;#define int long longconst int mod = 1e9 + 7;signed main(){ int n; cin &gt;&gt; n; vector&lt;vector&lt;int&gt;&gt; a(n + 1, vector&lt;int&gt;(n + 1, -1)); for(int i = 1; i &lt;= n; i++){ for(int j = 1; j &lt;= i; j++){ cin &gt;&gt; a[i][j]; } } vector&lt;vector&lt;vector&lt;int&gt;&gt;&gt; dp(2, vector&lt;vector&lt;int&gt;&gt;(n + 3, vector&lt;int&gt;(n + 3, 0))); if(n % 2 == 0){ int t1 = n / 2, t2 = n / 2 + 1; for(int i = 1; i &lt;= t1; i++){ if(a[t1][i] == a[t2][i]) dp[0][i][i]++; if(a[t1][i] == a[t2][i + 1]) dp[0][i][i + 1]++; } int temp = 1; for(int d = 1; d &lt; n / 2; d++){ for(int i = 1; i &lt;= n; i ++){ for(int j = 1; j &lt;= n; j++){ dp[d &amp; 1][i][j] = 0; } } temp &amp;= 1; for(int i = 1; i &lt;= n; i++){ for(int j = 1; j &lt;= n; j++){ if(a[t1 - d][i] == a[t2 + d][j]){ dp[d &amp; 1][i][j] = (dp[(d - 1) &amp; 1][i][j]+dp[d &amp; 1][i][j]) % mod; dp[d &amp; 1][i][j] = (dp[(d - 1) &amp; 1][i + 1][j] + dp[d &amp; 1][i][j])% mod; dp[d &amp; 1][i][j] = (dp[(d - 1) &amp; 1][i][j - 1] + dp[d &amp; 1][i][j])% mod; dp[d &amp; 1][i][j] = (dp[(d - 1) &amp; 1][i + 1][j - 1] + dp[d &amp; 1][i][j])% mod; } } } } int ans = 0; for(int i = 1; i &lt;= n; i++){ ans = (ans + dp[(n + 1) / 2 - 1 &amp; 1][1][i]) % mod; } cout &lt;&lt; ans &lt;&lt; endl; }else{ int t1 = (n / 2) + 1; for(int i = 1; i &lt;= t1; i++){ dp[0][i][i] = 1; } int temp = 1; for(int d = 1; d &lt;= n / 2; d++){ for(int i = 1; i &lt;= n; i++){ for(int j = 1; j &lt;= n; j++){ dp[d &amp; 1][i][j] = 0; } } temp &amp;= 1; for(int i = 1; i &lt;= n; i++){ for(int j = 1; j &lt;= n; j++){ if(a[t1-d][i] == a[t1 + d][j]){ dp[d &amp; 1][i][j] = (dp[(d - 1) &amp; 1][i][j]+dp[d &amp; 1][i][j]) % mod; dp[d &amp; 1][i][j] = (dp[(d - 1) &amp; 1][i + 1][j] + dp[d &amp; 1][i][j])% mod; dp[d &amp; 1][i][j] = (dp[(d - 1) &amp; 1][i][j - 1] + dp[d &amp; 1][i][j])% mod; dp[d &amp; 1][i][j] = (dp[(d - 1) &amp; 1][i + 1][j - 1] + dp[d &amp; 1][i][j])% mod; } } } } int ans = 0; for(int i = 1; i &lt;= n; i++){ ans = (ans + dp[(n + 1)/2 - 1 &amp; 1][1][i]) % mod; } cout &lt;&lt; ans &lt;&lt; endl; } } ç‰›å®¢å‘¨èµ›Round-94 è¿™ä¸€åœºæˆ‘æ„Ÿè§‰åæ¨ç†åœºå§ï¼Œä¸»è¦è¢«å‰é¢çš„é¢˜ç›®å”¬åˆ°äº†ï¼Œç„¶ååé¢åšèµ·æ¥æœ‰ç‚¹å®³æ€•ï¼Œçœ‹åˆ°äº†é‚£ä¸ªç±»ä¼¼ æˆéƒ½èµ›åœºä¸Šé¢æ²¡åšå‡ºæ¥çš„ä¸€ä¸ªç­¾åˆ°é¢˜ç›®ï¼Œæ„Ÿè§‰å¿ƒé‡Œå¾ˆæ…Œã€‚ 2024æˆéƒ½åŒºåŸŸèµ›A-Arrow a Row è¿™ä¸ªå¥½åƒä¸æ˜¯ä¸€ä¸ªæ‹“æ‰‘æ’åºçš„é¢˜ç›®ï¼Œæ˜¯ä¸€ä¸ªæ„é€ é¢˜ï¼ æœ€è®¨åŒçœ‹åˆ°çš„æ˜¾ç„¶æˆç«‹ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960#include&lt;bits/stdc++.h&gt;using namespace std;#define int long long #define fr first#define sc second#define endl '\\n'using PII = pair&lt;int,int&gt;;void slove(){ string s; cin &gt;&gt; s; int n = s.size(); /* - çš„ä½ç½®è¦ å°äºå€’æ•°ç¬¬ä¸‰ä¸ªä½ç½® ç›¸è¿‘çš„ - ä¹‹é—´çš„è·ç¦»å¿…é¡»å¤§äº 4 å­˜å‚¨æ¯ä¸€å¯¹çš„ä½ç½® - çš„å·¦å³ */ bool ex = true; for(int i = 0; i &lt; n; i++){ if(s[i] == '-'){ ex = false; break; } } if(ex){ cout &lt;&lt; &quot;No&quot; &lt;&lt; endl; return; } int d[4] = {0, n - 1, n - 2, n - 3}; for(int i = 0; i &lt; 4; i++){ if(s[d[i]] != '&gt;'){ cout &lt;&lt; &quot;No&quot; &lt;&lt; endl; return; } } vector&lt;pair&lt;int, int&gt;&gt; ans; int i; for( i = n - 3; i &gt; 1; i--){ if(s[i] == '&gt;'){ ans.push_back({0, i + 3}); }else break; } for(int j = 1; j &lt; i; j++){ if(s[j] == '&gt;'){ ans.push_back({j, i + 3 - j + 1}); } } cout &lt;&lt; &quot;Yes&quot; &lt;&lt; &quot; &quot; &lt;&lt; ans.size() &lt;&lt; endl; for(auto[x, y] : ans){ cout &lt;&lt; x + 1 &lt;&lt; &quot; &quot; &lt;&lt; y &lt;&lt; endl; }}signed main(){ int t; cin &gt;&gt; t; while(t--) slove(); return 0;} E-å°è‹¯çš„æ•°å­—æ“ä½œ çŸ¥è¯†ç‚¹ï¼šå¯¹äºä¸€ä¸ªæ•°å­—çš„äºŒè¿›åˆ¶å½¢å¼ï¼Œ$\\times$ 2 ç›¸å½“äºåœ¨äºŒè¿›åˆ¶åé¢æ–°å¢0ï¼Œ$\\div$ 2 ç›¸å½“äºåˆ é™¤äºŒè¿›åˆ¶çš„æœ€åä¸€ä½ æœ‰ä¸€ä¸ªå‘ï¼šå¦‚æœå½“ n ä¸º 1çš„æ—¶å€™ï¼Œæ˜¯ä¸è¦è¿›è¡Œç‰¹åˆ¤é‡Œé¢çš„ï¼Œå› ä¸ºå¦‚æœä¸º 1 çš„æ—¶å€™ï¼Œä»–çš„2 çš„å€æ•°ä¸€å®šæ˜¯æ—©å°±å‡ºç°è¿‡çš„ 12345678910111213141516171819202122232425262728293031#include&lt;bits/stdc++.h&gt;using namespace std;#define int long long #define fr first#define sc second#define endl '\\n'using PII = pair&lt;int,int&gt;;signed main(){ int t; cin &gt;&gt; t; while(t--){ int n, k; cin &gt;&gt; n &gt;&gt; k; int ans = k + 1; for(int i = 1; i &lt;= k; i++){ if(n % 2 != 0 &amp;&amp; n != 1){ ans += (k - i); } ans ++; n /= 2; if(n == 0){ break; } } cout &lt;&lt; ans &lt;&lt; endl; } return 0;} F-å°è‹¯çš„å°çƒåˆ†ç»„ æœ‰ä¸€ä¸ªç»“è®º ç»“è®º å®šä¹‰å°çƒé›†åˆ$\\Bbb S$çš„å‡½æ•° $f(\\Bbb S)$ï¼Œè¡¨ç¤ºå°†å°çƒé›†åˆ $\\Bbb S$ åˆ†ä¸ºè‹¥å¹²ç»„ï¼Œæ»¡è¶³ä»¥ä¸‹æ‰€æœ‰æ¡ä»¶çš„æœ€å°‘åˆ†ç»„ä¸ªæ•°ï¼š æ¯ç»„æœ€å¤šæœ‰ 2 ä¸ªçƒ ç»„å†…æœ‰ 2 ä¸ªçƒçš„ç»„ï¼Œè¿™ 2 ä¸ªçƒçš„é¢œè‰²ä¸åŒã€‚ **è¿™ä¸ªçš„æœ€å°åˆ†ç»„ä¸ªæ•°ä¸º ï¼š$max(a_{max},(sum/2)_{å‘ä¸Šå–æ•´}ï¼‰$","link":"/2025/06/10/%E7%89%9B%E5%AE%A2%E8%B5%9B/"},{"title":"ç¬¬ä¸€ä¸ªåšå®¢ï¼æ–°çš„ä¸–ç•Œï¼","text":"è¿™æ˜¯ç¬¬ä¸€ç¯‡æ ‡è®°ï¼Œä¹Ÿæ˜¯ ä¸€ä¸ªåšå®¢çš„å¼€ç«¯ã€‚","link":"/2025/03/25/%E5%8D%9A%E5%AE%A2%E5%BC%80%E7%AB%AF/"},{"title":"PYTHON ç®—æ³•å­¦ä¹ ","text":"14å¤© PY æˆç¥è®¡åˆ’ OVER å­¦ä¹ ç»“æŸï¼å¯èƒ½ä»¥åéƒ½ä¸ä¼šç”¨PYTHONå†™ç®—æ³•é¢˜ç›®äº†ï¼Œå› ä¸ºPYTHONçš„ä¸€äº›ç®—æ³•è¯­æ³•åŸºç¡€ä¸ç‰¢å›ºå¯¼è‡´ä¸€é“é¢˜çœ‹äº†2ä¸ªå°æ—¶ï¼ æ—¶é—´ é¢˜ç›®é“¾æ¥ å®Œæˆæƒ…å†µ 3.29 æ¯”èµ›é“¾æ¥ï¼šhttps://www.nowcoder.com/acm/contest/106557 ç™¾åˆ†ä¹‹50 3.30 æ¯”èµ›é“¾æ¥ï¼šhttps://www.nowcoder.com/acm/contest/106558 3.31 æ¯”èµ›é“¾æ¥ï¼šhttps://www.nowcoder.com/acm/contest/106559 4.1 æ¯”èµ›é“¾æ¥ï¼šhttps://www.nowcoder.com/acm/contest/106560 4.2 æ¯”èµ›é“¾æ¥ï¼šhttps://www.nowcoder.com/acm/contest/106562 ä¼˜å…ˆé˜Ÿåˆ— + å¹¶æŸ¥é›† 4.3 æ¯”èµ›é“¾æ¥ï¼šhttps://www.nowcoder.com/acm/contest/106563 æœç´¢ + å‰ªæ 4.4 æ¯”èµ›é“¾æ¥ï¼šhttps://www.nowcoder.com/acm/contest/106564 åŠ¨æ€è§„åˆ’1 4.5 æ¯”èµ›é“¾æ¥ï¼šhttps://www.nowcoder.com/acm/contest/106565 åŠ¨æ€è§„åˆ’2 4.6 æ¯”èµ›é“¾æ¥ï¼šhttps://www.nowcoder.com/acm/contest/106566 å›¾è®º + æœ€çŸ­è·¯ 4.7 æ¯”èµ›é“¾æ¥ï¼šhttps://www.nowcoder.com/acm/contest/106567 æ•°å­¦ 4.8 æ¯”èµ›é“¾æ¥ï¼šhttps://www.nowcoder.com/acm/contest/106568 çº¿æ®µæ ‘ + æ ‘çŠ¶æ•°ç»„ 4.9 æ¯”èµ›é“¾æ¥ï¼šhttps://www.nowcoder.com/acm/contest/106569 LCA + RMQ 4.10 4.11 4.12 è“æ¡¥æ¯ çŸ¥è¯†ç‚¹å®Œæˆæƒ…å†µ å¾…åŠ æ•°å­¦ LCA + RMQæ ‘ä¸Šé—®é¢˜ PY ç¬”è®° é€’å½’ å…ˆé€’å½’çš„åç®—ï¼Œé€’å½’çš„ç‰¹æ€§æ˜¯ è‡ªä¸‹è€Œä¸Š fold title:é€’å½’12345def fun(x): if exam(): return return fun(min_x) DFS å’Œ BFS çš„å®ç° DFS æ˜¯å±äº é€’å½’è¿­ä»£ çš„ç®—æ³•è¿‡ç¨‹ï¼Œ BFS æ˜¯å±äº å±‚æ¬¡æ‰©å±•ï¼ˆé˜Ÿåˆ—å®Œæˆï¼‰ å› ä¸ºæœ‰æ—¶å€™DFSçš„æ—¶é—´å¤æ‚åº¦æ˜¯ 2 çš„næ¬¡æ–¹ï¼Œæ‰€ä»¥å¦‚æœå±‚æ¬¡è¶³å¤Ÿå°‘çš„è¯ï¼Œä¾¿å¯ä»¥ä½¿ç”¨BFSæ¥å®ç° PYä¸­çš„DP ç¼“å­˜ fold title:DPç¼“å­˜12dp = {} PY å†…ç½®å‡½æ•° fold title:å†…ç½®å‡½æ•°123456789101112131415161. å¿«é€Ÿå¹‚pow(a,b,mod)pow(a,b)2. gcdï¼ˆæœ€å¤§å…¬çº¦æ•°ï¼‰import mathmath.gcd(a,b)def gcd(a, b): if b == 0: return a return gcd(b, a % b)3. æ‰¾æ»¡è¶³å€¼next(i for i in range(n - 1) if not fa[i]) Deque(é˜Ÿåˆ—) fold title:é˜Ÿåˆ—åŸºæœ¬æ“ä½œ12345678910111213141516171819from collections import dequeorigin = int(input())q = deque([origin]) # éœ€è¦åˆ—è¡¨å­˜å…¥x1, x2 = map(int, input().split())q.append(x1)q.appendleft(x2)x = q.popleft()y = q.pop()print(q[0],q[-1],x,y,len(q))if not q: print(&quot;YES&quot;) æ’åºç®—æ³• åŸºç¡€æ’åº fold title:ç»“æ„ä½“æ’åº1234567891011121314151617181920nums.sort(key=())class Node: def __init__(self, a, b,c): self.a = a self.b = b self.c = c def __repr__(self): return f'({self.a}, {self.b}, {self.c})' t = int(input())nodes = []for _ in range(t): a, b, c = map(int, input().split()) nodes.append(Node(a,b,c))nodes = sorted(nodes, key = lambda x : (x.a, -x.b,x.c)) åŸºæ•°æ’åºï¼ˆåŸºäºæ¯ä¸€ä½çš„å¤§å°æ’åºï¼‰ å½’å¹¶æ’åº fold title:å½’å¹¶ç®—æ³•1234567891011121314151617181920212223def guibing(arr): if len(arr) == 1: return arr mid = (len(arr)) // 1 left = guibing(arr[:mid]) right = guibing(arr[mid:]) return merge(left, right)def merge(left ,right): ans = [] i = j = 0 while(i &lt; len(left) and j &lt; len(right)): if(left[i] &lt; right[j]): ans.append(left[i]) i += 1 else: ans.appemd(right[j]) j += 1 ans.extend(left[i:]) ans.extend(right[j:]) return ans å½’å¹¶æ’åº æ±‚ é€†åºé˜Ÿ fold title:é€†åºé˜Ÿ123456789101112131415161718192021222324252627count = 0def merge(left, right): global count ans = [] i = j = 0 while i &lt; len(left) and j &lt; len(right): if(left[i] &lt;= right[j]): # ä¸€å®šè¦ = ans.append(left[i]) i += 1 else: ans.append(right[j]) count += (len(left) - i) j += 1 ans.extend(left[i:]) ans.extend(right[j:]) return ansdef f(arr): if len(arr) == 1: return arr mid = len(arr) // 2 left = f(arr[:mid]) right = f(arr[mid:]) return merge(left, right) å¿«æ’ ç†è§£ ç¬¬ä¸€ç§å¿«æ’çš„æ’åºæ–¹æ³• fold title:C++ç‰ˆæœ¬1234567891011121314151617def quick_sort(l, r,arr): if l &gt;= r: return; i ,j = l, r x = arr[l] while i &lt; j: while i &lt; j and arr[j] &gt;= x: j -= 1 while i &lt; j and arr[i] &lt;= x: i += 1 if i &lt; j: arr[i], arr[j] = arr[j], arr[i] arr[l], arr[i] = arr[i], arr[l] quick_sort(l, i - 1, arr) quick_sort(i + 1, r, arr) fold title:PYç‰ˆæœ¬12345678def quick_sort1(arr): if len(arr) &lt;= 1: return arr povit = arr[0] left = [x for x in arr[1:] if x &lt;= povit] right = [x for x in arr[1:] if x &gt; povit] return quick_sort1(left) + [povit] + quick_sort1(right) å»ºæ ‘ fold title:vector å»ºæ ‘12345671. æœ‰æƒdj = [[] for _ in range(n + 1)]dj[a].append((b,w))2. æ— æƒdj[a].append(b) äºŒåˆ†æŸ¥æ‰¾ C++ lower_bound() æŸ¥æ‰¾å¯æ’å…¥å…ƒç´ çš„æœ€å°ä½ç½® upper_bound() æŸ¥æ‰¾å¯æ’å…¥å…ƒç´ çš„æœ€å¤§ä½ç½® binary_bound() æŸ¥æ‰¾å…ƒç´ æ˜¯å¦å­˜åœ¨ PY fold title:bisect12345import bisectbisect.bisect_left() # é å·¦ &gt;= ä¸¥æ ¼å¤§äºç­‰äºbisect.bisect_right() # é å³ &gt; ä¸¥æ ¼å¤§äº# ä» lo -&gt; hi x = bisect.bisect_right(a, need, lo=1, hi=i) ä¸‰åˆ† ä¸‰åˆ†ç”¨æ¥æ±‚å‡½æ•°æå€¼ ä¸€èˆ¬ æœ‰ å…ˆå¢åå‡ï¼Œå…ˆå‡åå¢ çš„ç‰¹æ€§ ä¸‰åˆ†æ¨¡ç‰ˆï¼š 12345678while l &lt; r: mid1 = l + (r - l) // 3 mid2 = r - (r - l) // 3 if f(mid1) &gt; f(mid2): r = mid2 - 1 else: l = mid1 + 1 print(f(l)) å¸¸è€ƒä¸‰åˆ†åµŒå¥—é—®é¢˜ æœ€å°åœ†è¦†ç›–é—®é¢˜ ğŸ”—ï¼šhttps://ac.nowcoder.com/acm/contest/106559/1009 åˆ†æ²»å¸¸è§é¢˜ç›® è§£å†³æœ€è¿‘æ›¼å“ˆé¡¿è·ç¦» ä¼˜å…ˆé˜Ÿåˆ— heapq heapqæ˜¯ é»˜è®¤ä¸º å°æ ¹å † éœ€è¦ç”¨å¤§æ ¹å †çš„è¯å¯ä»¥ å¯ä»¥ç”¨ å€¼ * -1æ¥å­˜å‚¨ å½“ a åˆå§‹åŒ– ä¸ºheapqå, ä¼˜å…ˆé˜Ÿåˆ—çš„é•¿åº¦ å’Œ æ˜¯å¦ä¸ºç©ºçš„åˆ¤æ–­éƒ½æ˜¯ åˆ¤æ–­ a è¿™ä¸ªåˆ—è¡¨ 1234567891011121314151617181920212223import heapqa = []# æ’å…¥heapq.heappush(a, item)# å¼¹å‡ºheapq.heappop(a)# åˆ¤æ–­æ˜¯å¦ä¸ºç©º æˆ–è€… é•¿åº¦ ä»¥ a ä¸ºåˆ¤æ–­len(a)if not a# å¦‚æœè¦å°† list(a) ç›´æ¥å˜æˆ ä¼˜å…ˆé˜Ÿåˆ—heapq.heapify(a)# å– å‰ n å¤§ ç”¨é˜Ÿåˆ—å­˜heapq.nlargest(n, a)# å– é’±å‰ n å° ç”¨é˜Ÿåˆ—å­˜heapq.nsmallest(n, a) ä¼˜å…ˆé˜Ÿåˆ— è‡ªå®šä¹‰æ’åºç»“æ„ fold title:è‡ªå®šä¹‰æ’åºç»“æ„12a = []heapq.heappush(a, (-item[0], item[1], item[2])) ä¼˜å…ˆé˜Ÿåˆ—ç›¸å…³é—®é¢˜ ä¸­ä½æ•°é—®é¢˜ï¼š ä¸€ä¸ªå°æ ¹å †ï¼Œä¸€ä¸ªå¤§æ ¹é˜Ÿæ¥ç»´æŠ¤ä¸­ä½æ•° å‰ k å¤§é—®é¢˜ ä¸€ä¸ª é•¿åº¦ä¸º k å°æ ¹å †æ¥ç»´æŠ¤ Python çš„è¾“å…¥å¤„ç† fold title:å¿«è¯»12import sysinput = sys.stdin.readline å•ä¸ªè¯»å–ï¼šn = int(input()) ä¸€è¡Œè¯»å–ï¼ša = list(map(int, input().split())) å¤šè¡Œè¯»å– æ¯è¡Œä¸€ä¸ªå…ƒç´ ï¼šnums = [int(input()) for _ in range(n)] å¤šè¡Œè¯»å– æ¯è¡Œå¤šä¸ªå…ƒç´ ï¼šnums = [list(map(int, input().split())) for _ in range(n)] Python çš„è¾“å‡ºå¤„ç† å°†å­—ç¬¦ä¸²è¿æ¥: â€˜mâ€™.join(list)ï¼šå°†åˆ—è¡¨ä¸­çš„å­—ç¬¦ä¸²ç”¨mè¿æ¥èµ·æ¥ å°†åˆ—è¡¨ä¸­çš„å…ƒç´ å…ˆè½¬åŒ–ä¸º å­—ç¬¦ä¸²å†è¾“å‡ºï¼š â€˜mâ€™.join(map(str, list)) mapçš„æ„æ€æ˜¯å°†listä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ éƒ½è½¬åŒ–ä¸ºå­—ç¬¦ æ ¼å¼åŒ–è¾“å‡ºï¼š print(f â€œ{x : .2f}â€) ä¿ç•™ä¸¤ä½å°æ•° print(f&quot;{name} got {score} points.&quot;) print(x, end = â€™ ') å¤šç»„æµ‹è¯• fold title:å¤šç»„æµ‹è¯•123456while True: try: except EOFError: # è¾“å…¥ç»“æŸæ—¶é€€å‡º break except ValueError: # æ— æ•ˆè¾“å…¥æ—¶é€€å‡º break å­—å…¸çš„æ“ä½œ åŸºç¡€map fold title:ma123mp = {}# é˜²æ­¢è®¿é—®æ²¡æœ‰å­˜åœ¨çš„å­—å…¸ï¼Œå¦‚æœä¸å­˜åœ¨ å°±è¿”å› kmp.get(a[r], k) æ›´æ–¹ä¾¿çš„map fold title:MAP123from collections import defaultdict# å¯ä»¥é¿å…è®¿é—®ä¸å­˜åœ¨çš„å­—å…¸å‡ºç°æŠ¥é”™mp = defaultdict(int) MAPå»é‡ç¦»æ•£åŒ– fold title:ç¦»æ•£åŒ–1234567# æ’åº + å»é‡sorted(set(arr))# enumerate è¿”å›çš„æ˜¯ (index, vavlue)# ç°åœ¨éœ€è¦çš„æ˜¯ key : index# æ‰€ä»¥éœ€è¦ å°† i, x åè½¬mp = {x : i for i , x in enumerate(sorted(set(arr)))} æ ˆå’Œé˜Ÿåˆ— åœ¨ PY ä¸­ï¼Œ æ ˆå’Œé˜Ÿåˆ—éƒ½å¯ä»¥ä½¿ç”¨ deque(åŒç«¯é˜Ÿåˆ—)æ¥å®ç° æ ˆ fold title:æ ˆ1234567891011from collections import dequestack = deque()stack.append(x)# è®¿é—®æ ˆå¤´top = stack[-1]top = stack.pop()# æ¸…ç©ºæ ˆstack.clear() é˜Ÿåˆ— fold title:é˜Ÿåˆ—1234567891011from collections import dequeq = deque()# åŠ å…¥q.append(x)q.appendleft(x)q.insert(l, item)# å‡ºé˜Ÿleft = q.popleft() 01 åˆ†æ•°è§„åˆ’ æœ€å¤§åŒ– (âˆ‘a[i]) / (âˆ‘b[i]) äºŒåˆ† + è´ªå¿ƒ è®¾ X = (âˆ‘a[i]) / (âˆ‘b[i]) -&gt; âˆ‘a[i] - X * âˆ‘b[i] = 0 äºŒåˆ†æŸ¥æ‰¾ Xï¼Œçœ‹ X å¯¹äº è¿™ä¸ªå¼å­çš„å½±å“æ˜¯è¿‡å¤§è¿˜æ˜¯è¿‡å°ã€‚ fold title:æµ®ç‚¹äºŒåˆ†123456789l = 0r = 1e6eps = 1e-6while (r - l) &gt; eps: mid = (r + l) / 2 if exam(mid): l = mid else: r = mid åŠ¨æ€è§„åˆ’ ä¸€å®šæ˜¯ ä»æœ€ä¼˜ åˆ° æœ€ä¼˜ è®¡ç®—å½“å‰èŠ‚ç‚¹æ—¶ï¼Œç»Ÿè®¡éœ€è¦çš„å†å²ä¿¡æ¯ï¼ˆdpçš„å­˜å‚¨ï¼‰ 01 èƒŒåŒ… / å®Œå…¨èƒŒåŒ… dp[i][j] = max(dp[i - 1][j], dp[i - 1][j - w[i]] + v[i]) ä¸€ä¸ªæ˜¯ ä»·å€¼ ä»å°åˆ°å¤§ï¼ˆå®Œå…¨èƒŒåŒ…ï¼‰ ä¸€ä¸ªæ˜¯ ä»·å€¼ ä»å¤§åˆ°å°ï¼ˆ01 èƒŒåŒ…ï¼‰ 12345678# 01 èƒŒåŒ…for i in range(1, n+1): for j in range(C, w[i]-1, -1): f[j] = max(f[j], f[j - w[i]] + v[i])# å®Œå…¨èƒŒåŒ…for i in range(1, n+1): for j in range(C, w[i]-1, -1): f[j] = max(f[j], f[j - w[i]] + v[i]) å¤šé‡èƒŒåŒ… é—®é¢˜ï¼šæ¯ä¸€ä¸ªç‰©å“æœ‰ é€‰æ‹©æ¬¡æ•°é™åˆ¶ s[i] ä½¿ç”¨äºŒè¿›åˆ¶ä¼˜åŒ– è½¬åŒ–æˆ01èƒŒåŒ… å°† s[i] ä½¿ç”¨äºŒè¿›åˆ¶è¿›è¡Œæ‹†åˆ† (k * w, k * v) kæ˜¯ 2 çš„ næ¬¡æ–¹ 1234567891011new = []for i in range(n): w, v, s = W[i], V[i], S[i] k = 1 while k &lt; s: new.append((w * k, v * k)) s -= k k &lt;&lt;= 1 if s &gt; 0: new.append((w * s, v * s)) # è½¬åŒ–æˆæ–°çš„ 01 èƒŒåŒ… åˆ†ç»„èƒŒåŒ… é—®é¢˜ï¼šåˆ†æˆ n ç»„ï¼Œæ¯ä¸€ç»„ é€‰ ä¸€ä¸ª çš„æœ€å¤§ä»·å€¼ dp[i][j] = max(dp[i][j],dp[i - 1][j - w[i]] + v[i]) 12345for group in groups: for j in range(V,-1,-1): for w,v in group: if j &gt;= w: f[j] = max(f[j],f[j - w] + v) æœ‰ä¾èµ–èƒŒåŒ… æ ‘å‹DP åŒºé—´DP æ•°è®º åŸƒå¼ç­› 1234567891011prime = []is_prime = [True] * (n + 1)for i in range(2,n): if if_prime[i]: prime.append(i) for j in range(i * i, n + 1, i): is_prime[j] = Falsereturn prime æ‹†åˆ†å› å­ 1234567ans = set()for i in range(1, int(n ** 0.5) + 1): if n % i == 0: ans.add(i) ans.add(n // i) return sorted(ans) å› å­é¢„å¤„ç† 123456fac = [[] for i in range(n + 1)]for i in range(1, n + 1): for j in range(i, n + 1, i): fac[j].append(i)return fac Python è§£å†³å­—ç¬¦ä¸²åˆ†å‰²é—®é¢˜ å·§å¦™çš„ä½¿ç”¨ split(â€˜charâ€™) 1234567891011121314s = input().strip()terms = s.split('+')ans = 0for fa in terms: s1 = fa.split('*') temp = 1 for fac in s1: if fac: temp *= int(fac) ans += temp å­—ç¬¦ä¸² KMP 1234567891011121314151617181920212223242526272829303132# NEXT[I] è¡¨ç¤º å‰ i - 1 ä¸ªå…ƒç´ çš„ æœ€é•¿å‰åç¼€åŒ¹é…é•¿åº¦next = [0] * len(s2) def get_next(s2): n = len(s2) next[0] = -1 next[1] = 0 i, cn = 2,0 # cn è¡¨ç¤º i - 1 çš„nextå€¼ while i &lt; n: if s2[i - 1] == s2[cn]: next[i++] = ++cn elif cn &gt; 0: cn = next[cn] else: next[i++] = 0def kmp(s1, s2): n, m = len(s1),len(s2) x, y = 0, 0 get_next(s2) while x &lt; n and y &lt; m: if s1[x] == s2[y]: x += 1 y += 1 elif y == 0: x += 1 else: y = next[y] å­—å…¸æ ‘ 123456789101112131415161718192021222324252627282930313233343536373839cnt = 1n, s # n è¡¨ç¤º å±‚, s è¡¨ç¤º ç§ç±»# ç¬¬ä¸€å±‚ä»€ä¹ˆä¸éƒ½å­˜å‚¨ï¼Œç›¸å½“äºç©ºå­—ç¬¦tree = [[0]*s for i in range(n)]# pass è¡¨ç¤º æ¯ä¸€ä¸ªå‰ç¼€çš„ è®¿é—®æ¬¡æ•°pass = [0] * N # end è¡¨ç¤º æ¯ä¸€ä¸ªå­—ç¬¦ä¸²çš„ç»“å°¾ è®¿é—®æ¬¡æ•°def insert(word): cur = 1 pass[cur] += 1 for x in word: path = x - 'a' if tree[cur][path] == 0: tree[cur][path] = ++cnt cur = tree[cur][path] pass[cur] += 1 end[cur] += 1 def prenum(pre): cur = 1 for x in pre: path = x - 'a' if tree[cur][path] == 0: return 0 cur = tree[cur][path] return pass[cur]def delete(word): if prenum(word) &gt; 0: cur = 1 for x in word: path = x - 'a' pass[tree[cur][path]] -= 1 if pass[tree[cur][path]] == 0: tree[cur][path] = 0 return; cur = tree[cur][path] end[cur] -= 1 Dijkstra 12345678910111213141516import heapqdef dj(n, g, start): dist = [float('inf')] * n dist[start] = 0 heap = [(0,start)] while heap: d, u = heapq.heappop(heap) if d &gt; dist[u]: continue for v, w in g[u]: if dist[v] &gt; dist[u] + w: dist[v] = dist[u] + w heapq.heappush(heap,(dist[v],v)) return dist","link":"/2025/03/24/PYTHON%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0/"},{"title":"æ“ä½œç³»ç»Ÿç¬”è®° --ç‹é“è€ƒç ”","text":"æ¥è‡ª ç‹é“è€ƒç ”2024â€“æ“ä½œç³»ç»Ÿåšçš„ç¬”è®°ï¼Œç»“åˆäº†Bç«™çš„ä¸€ä¸ªè¯„è®ºçš„ç¬”è®°ã€‚ æ“ä½œç³»ç»Ÿ æ“ä½œç³»ç»Ÿæ¦‚è¿° 1.1_1 æ“ä½œç³»ç»Ÿçš„æ¦‚å¿µã€åŠŸèƒ½å’Œç›®æ ‡ ä½œä¸ºç”¨æˆ·å’Œè®¡ç®—æœºç¡¬ä»¶ä¹‹é—´çš„æ¥å£ å°†æœ‰é™çš„ï¼Œç¦»æ•£çš„èµ„æº æŠ½è±¡ä¸º æ— é™çš„ï¼Œè¿ç»­çš„èµ„æº æä¾›çš„åŠŸèƒ½ å‘½ä»¤æ¥å£ï¼ˆè”æœºå‘½ä»¤æ¥å£|è„±æœºå‘½ä»¤æ¥å£ï¼‰ ç¨‹åºæ¥å£ GUIï¼ˆå›¾å½¢ç”¨æˆ·ç•Œé¢win|ios|andrioï¼‰ ç›®æ ‡ æ–¹ä¾¿ç”¨æˆ·ä½¿ç”¨ 1.1_2 æ“ä½œç³»ç»Ÿçš„ç‰¹å¾ å¹¶å‘|å¹¶è¡Œ å¹¶å‘ï¼šå¤šä¸ªäº‹ä»¶äº¤æ›¿å‘ç”Ÿï¼ˆå®è§‚åŒæ—¶å‘ç”Ÿã€å¾®è§‚äº¤æ›¿è¿›è¡Œï¼‰å¹¶è¡Œï¼šå¤šä¸ªäº‹ä»¶åŒæ—¶å‘ç”Ÿ å…±äº« äº’æ–¥å…±äº«æ–¹å¼ï¼šä¸€ä¸ªæ—¶é—´æ®µå†…åªå…è®¸ä¸€ä¸ªè¿›ç¨‹è®¿é—®è¯¥èµ„æº åŒæ—¶å…±äº«æ–¹å¼ï¼šå…è®¸ä¸€ä¸ªæ—¶é—´æ®µå†…ç”±å¤šä¸ªè¿›ç¨‹â€œåŒæ—¶â€å¯¹å®ƒä»¬è¿›è¡Œè®¿é—® è™šæ‹Ÿ æ¦‚å¿µï¼šæŠŠä¸€ä¸ªç‰©ç†ä¸Šçš„å®ä½“å˜ä¸ºè‹¥å¹²ä¸ªé€»è¾‘ä¸Šçš„å¯¹åº”ç‰© ç©ºåˆ†å¤ç”¨è®¡æ•° æ—¶åˆ†å¤ç”¨è®¡æ•° å¼‚æ­¥ æ¦‚å¿µï¼šåœ¨å¤šé“ç¨‹åºç¯å¢ƒä¸‹ï¼Œå…è®¸å¤šä¸ªç¨‹åºå¹¶å‘æ‰§è¡Œï¼Œä½†ç”±äºèµ„æºæœ‰é™ï¼Œè¿›ç¨‹çš„æ‰§è¡Œä¸æ˜¯ä¸€è´¯åˆ°åº•çš„ï¼Œè€Œæ˜¯èµ°èµ°åœåœçš„ï¼Œä»¥ä¸å¯é¢„çŸ¥çš„é€Ÿåº¦å‘å‰æ¨è¿›ã€‚åªæœ‰ç³»ç»Ÿæ‹¥æœ‰å¹¶å‘æ€§ï¼Œæ‰æœ‰å¯èƒ½å¯¼è‡´å¼‚æ­¥æ€§ã€‚ 1.1_3 æ“ä½œç³»ç»Ÿçš„å‘å±•ä¸åˆ†ç±» OSçš„å‘å±•ä¸åˆ†ç±» æ‰‹å·¥æ“ä½œé˜¶æ®µ çº¸å¸¦æœºï¼ˆç”¨æˆ·ç‹¬å å…¨æœºã€äººæœºé€Ÿåº¦çŸ›ç›¾ï¼‰ æ‰¹å¤„ç†é˜¶æ®µâ€”â€”danâ€™dao å•é“æ‰¹å¤„ç†ç³»ç»Ÿï¼ˆå¤–å›´æœºâ€”â€”ç£å¸¦ï¼‰ å¤šé“æ‰¹å¤„ç†ç³»ç»Ÿï¼ˆæ“ä½œç³»ç»Ÿå¼€å§‹å‡ºç°ï¼‰ åˆ†æ—¶æ“ä½œç³»ç»Ÿ è½®æµå¤„ç†ä½œä¸š ä¸èƒ½å¤„ç†ç´§æ€¥ä»»åŠ¡ å®æ—¶æ“ä½œç³»ç»Ÿ ä¼˜å…ˆå¤„ç†ç´§æ€¥ä»»åŠ¡ ç¡¬å®æ—¶ç³»ç»Ÿï¼šå¿…é¡»åœ¨ä¸¥æ ¼çš„æ—¶é—´å†…å®Œæˆå¤„ç† è½¯å®æ—¶ç³»ç»Ÿï¼šå¯ä»¥å¶å°”çŠ¯é”™ ç½‘ç»œæ“ä½œç³»ç»Ÿ åˆ†å¸ƒå¼æ“ä½œç³»ç»Ÿ ä¸ªäººè®¡ç®—æœºæ“ä½œç³»ç»Ÿ 1.1_4 æ“ä½œç³»ç»Ÿçš„è¿è¡Œæœºåˆ¶ä¸ä½“ç³»ç»“æ„ æ“ä½œç³»ç»Ÿå¤æ‚åº¦ç®¡ç†æ–¹æ³• æ¨¡å—åŒ– æŠ½è±¡åŒ–ï¼šç”¨æˆ·æ¥å£å’Œå†…éƒ¨ç¡¬ä»¶å®ç°åˆ†ç¦» â€“ æŠ½è±¡çš„æ¥å£ï¼ˆæ¨¡å—åŒ–çš„åŸºç¡€ä¸‹ï¼Œæ¨¡å—ä¹‹é—´çš„é€šä¿¡ï¼‰ åˆ†å±‚ï¼šå°†**æ¨¡å—ï¼ˆä¸åŒç±»ï¼‰**è¿›è¡Œå±‚æ¬¡åˆ’åˆ†ï¼Œå‡å°‘æ¨¡å—ä¹‹é—´çš„äº¤äº’ å±‚çº§ï¼šæ˜¯å¯¹äºåŒç±»æ¨¡å—ä¹‹é—´é€šè¿‡ä¸€ä¸ªå¤§æ¥å£ç»Ÿä¸€è°ƒç”¨ OSçš„è¿è¡Œæœºåˆ¶å’Œä½“ç³»ç»“æ„ è¿è¡Œæœºåˆ¶ ä¸¤ç§æŒ‡ä»¤ ç‰¹æƒæŒ‡ä»¤ éç‰¹æƒæŒ‡ä»¤ ä¸¤ç§å¤„ç†å™¨çŠ¶æ€ æ ¸å¿ƒæ€ï¼ˆrootï¼‰ ç”¨æˆ·æ€ ä¸¤ç§ç¨‹åº å†…æ ¸ç¨‹åº(è¿è¡Œåœ¨æ ¸å¿ƒæ€ ) åº”ç”¨ç¨‹åº æ“ä½œç³»ç»Ÿå†…æ ¸ æ—¶é’Ÿç®¡ç†ï¼ˆå®ç°è®¡æ—¶åŠŸèƒ½ï¼‰ ä¸­æ–­å¤„ç† åŸè¯­ï¼ˆç¨‹åºè¿è¡Œå…·æœ‰åŸå­æ€§ï¼Œä¸å¯ä¸­æ–­ï¼‰ å¯¹ç³»ç»Ÿèµ„æºè¿›è¡Œç®¡ç†çš„åŠŸèƒ½ è¿›ç¨‹ç®¡ç† å­˜å‚¨å™¨ç®¡ç† è®¾å¤‡ç®¡ç† æ“ä½œç³»ç»Ÿçš„ä½“ç³»ç»“æ„ å¤§å†…æ ¸ï¼ˆå°†æ“ä½œç³»ç»Ÿçš„ä¸»è¦åŠŸèƒ½æ¨¡å—éƒ½ä½œä¸ºç³»ç»Ÿå†…æ ¸ï¼Œè¿è¡Œåœ¨æ ¸å¿ƒæ€ï¼‰ å¾®å†…æ ¸ï¼ˆåªæŠŠæœ€åŸºæœ¬çš„åŠŸèƒ½ä¿ç•™åœ¨å†…æ ¸ï¼‰æ“ä½œç³»ç»Ÿæ¥å£ï¼šç³»ç»Ÿè°ƒç”¨æ¥å£ï¼ŒPOSIXæ¥å£ï¼Œé¢†åŸŸåº”ç”¨æ¥å£ ç¡¬ä»¶ç»“æ„ å†¯è¯ºä¾æ›¼ç»“æ„ å¸¸è§çš„æ“ä½œç³»ç»Ÿå†…æ ¸æ¶æ„ å¸¸è§å†…æ ¸æ¶æ„ç®€è¦ç»“æ„ï¼Œ å®å†…æ ¸ï¼Œ å¾®å†…æ ¸ï¼Œ å¤–æ ¸ï¼Œ å¤šå†…æ ¸ ç®€è¦ç»“æ„å°†åº”ç”¨ç¨‹åºå’Œæ“ä½œç³»ç»Ÿæ”¾ç½®åœ¨åŒä¸€åœ°å€ç©ºé—´ é€šè¿‡å‡½æ•°ä¹‹é—´è°ƒç”¨æ“ä½œç³»ç»Ÿï¼Œæ•ˆç‡é«˜ ç¼ºä¹éš”ç¦»èƒ½åŠ›ï¼Œä¸å®‰å…¨ åº”ç”¨ï¼šMSDOS å®å†…æ ¸ç»“æ„åˆ†ä¸ºå†…æ ¸æ€ å’Œ ç”¨æˆ·æ€ åº”ç”¨ç¨‹åºè¿è¡Œåœ¨ç”¨æˆ·æ€ï¼Œå¯ä»¥é€šè¿‡ç³»ç»Ÿè°ƒç”¨ä½¿ç”¨å†…æ ¸æ€æœåŠ¡ ä¼˜ç‚¹ï¼šç”Ÿæ€å¤§ å¾®å†…æ ¸ç»“æ„å°†æŸä¸ªåŠŸèƒ½ä» å†…æ ¸ä¸­æ‹†åˆ†å‡ºæ¥ ä¼˜ç‚¹ï¼š æœåŠ¡ä¸æœåŠ¡ä¹‹é—´æ˜¯å®Œå…¨éš”ç¦»çš„ æœºåˆ¶ä¸ç­–ç•¥çš„è¿›ä¸€æ­¥åˆ†ç¦» å¤–æ ¸ç»“æ„äº§ç”ŸåŸå› ï¼šè¿‡åº¦çš„ç¡¬ä»¶èµ„æºæŠ½è±¡å¸¦æ¥è¾ƒå¤§çš„æ€§èƒ½æŸå¤± ç”±åº”ç”¨æ¥æ§åˆ¶å¯¹ç¡¬ä»¶èµ„æºçš„æŠ½è±¡ æ“ä½œç³»ç»Ÿåªè´Ÿè´£å¯¹ç¡¬ä»¶èµ„æºçš„å¤šè·¯å¤ç”¨æ”¯æŒ å¤šå†…æ ¸æ¶æ„èŠ‚ç‚¹ä¹‹é—´çš„äº¤äº’ç”±æ“ä½œç³»ç»ŸèŠ‚ç‚¹çš„è¿›ç¨‹é—´é€šä¿¡å®Œæˆ 1.1_5 ä¸­æ–­å’Œå¼‚å¸¸ ä¸­æ–­æœºåˆ¶çš„è¯ç”Ÿ æ“ä½œç³»ç»Ÿä»‹å…¥ï¼Œå¼€å±•ç®¡ç†å·¥ä½œ !important â€œç”¨æˆ·æ€â€”&gt;æ ¸å¿ƒæ€â€æ˜¯é€šè¿‡ä¸­æ–­å®ç°çš„ã€‚å¹¶ä¸”ä¸­æ–­æ˜¯å”¯ä¸€é€”å¾„ ä¸­æ–­çš„æ¦‚å¿µå’Œä½œç”¨å½“ CPU æ­£åœ¨æ‰§è¡Œå½“å‰ç¨‹åºæ—¶ï¼Œè‹¥æœ‰æ›´ç´§æ€¥çš„ä»»åŠ¡ï¼ˆå¦‚ I/O å®Œæˆã€å¤–è®¾è¯·æ±‚ï¼‰éœ€è¦å¤„ç†ï¼Œå°±å¯ä»¥â€œæ‰“æ–­â€å½“å‰çš„æ‰§è¡Œæµç¨‹ï¼Œè½¬å»å¤„ç†è¿™ä¸ªç´§æ€¥äº‹ä»¶ï¼Œå¤„ç†å®Œåå†å›æ¥ç»§ç»­æ‰§è¡ŒåŸæ¥çš„ç¨‹åºã€‚ ä¸­æ–­çš„åˆ†ç±» å†…ä¸­æ–­ï¼ˆå¼‚å¸¸ï¼‰ é™·é˜±ï¼ˆtrapï¼‰ æ•…éšœï¼ˆfaultï¼‰ ä¸­æ­¢ï¼ˆabortï¼‰ å¤–ä¸­æ–­ ï¼ˆCPUå¤–éƒ¨ï¼‰ I/Oä¸­æ–­è¯·æ±‚ å¤–ä¸­æ–­çš„å¤„ç†è¿‡ç¨‹ å‘ç”Ÿä¸­æ–­åçš„è¿›ç¨‹é€šå¸¸ä¼šä¿å­˜ç›¸å…³å†…å®¹åˆ° PCB ä¸­ï¼ˆå¼‚å¸¸çš„æŒ‡ä»¤åœ°å€ï¼Œå¼‚å¸¸åŸå› ï¼Œæ ˆæŒ‡é’ˆï¼ˆä» EL0åˆ°EL1ï¼‰ï¼‰ 1.1_6 ç³»ç»Ÿè°ƒç”¨ æ¦‚å¿µï¼šåº”ç”¨ç¨‹åºé€šè¿‡ç³»ç»Ÿè°ƒç”¨è¯·æ±‚æ“ä½œç³»ç»Ÿçš„æœåŠ¡ã€‚ä¿è¯ç³»ç»Ÿçš„ç¨³å®šæ€§å’Œå®‰å…¨æ€§ã€‚ç³»ç»Ÿè°ƒç”¨å’Œåº“å‡½æ•°çš„åŒºåˆ«ï¼š ç³»ç»Ÿè°ƒç”¨æ˜¯æ“ä½œç³»ç»Ÿå‘ä¸Šå±‚æä¾›çš„æ¥å£ æœ‰çš„åº“å‡½æ•°æ˜¯å¯¹ç³»ç»Ÿè°ƒç”¨çš„è¿›ä¸€æ­¥å°è£… å½“ä»Šç¼–å†™çš„åº”ç”¨ç¨‹åºå¤§å¤šæ˜¯é€šè¿‡é«˜çº§è¯­è¨€æä¾›çš„åº“å‡½æ•°é—´æ¥åœ°è¿›è¡Œç³»ç»Ÿè°ƒç”¨ è¿›ç¨‹ 2.1_1 è¿›ç¨‹çš„å®šä¹‰ã€ç»„æˆã€ç»„ç»‡æ–¹å¼ã€ç‰¹å¾ å®šä¹‰ï¼šç»„æˆï¼šPCBï¼ˆè¿›ç¨‹å­˜åœ¨å”¯ä¸€çš„æ ‡å¿—ï¼‰ï¼Œç¨‹åºæ®µï¼Œæ•°æ®æ®µç»„ç»‡æ–¹å¼ï¼šé“¾æ¥æ–¹å¼ï¼ŒæŒ‡é’ˆæŒ‡å‘ä¸åŒçš„é˜Ÿåˆ—ï¼›ç´¢å¼•æ–¹å¼ï¼Œç´¢å¼•è¡¨ç‰¹å¾ï¼šåŠ¨æ€æ€§ã€å¹¶å‘æ€§ã€ç‹¬ç«‹æ€§ã€å¼‚æ­¥æ€§ã€ç»“æ„æ€§ 2.1_2 è¿›ç¨‹çš„çŠ¶æ€ä¸è½¬æ¢ çŠ¶æ€ï¼šè¿è¡ŒçŠ¶æ€ï¼šå æœ‰CPUï¼Œå¹¶åœ¨CPUä¸Šè¿è¡Œï¼Œå•æ ¸åªèƒ½ä¸€ä¸ªè¿›ç¨‹ï¼ˆåŒæ ¸ä¸¤ä¸ªï¼‰ï¼ˆCPUâˆšï¼Œå…¶å®ƒèµ„æºâˆšï¼‰é¢„å¤‡çŠ¶æ€ï¼šå·²ç»å…·å¤‡è¿è¡Œæ¡ä»¶ï¼Œä½†æ˜¯æ²¡æœ‰ç©ºé—²çš„CPUï¼Œæš‚æ—¶ä¸èƒ½è¿è¡Œï¼ˆCPUXï¼Œå…¶å®ƒèµ„æºâˆšï¼‰é˜»å¡çŠ¶æ€ï¼šç­‰åœ¨æŸä¸ªäº‹ä»¶çš„å‘ç”Ÿï¼Œæš‚æ—¶ä¸èƒ½è¿è¡Œï¼ˆCPUXï¼Œå…¶å®ƒèµ„æºXï¼‰æ–°ç”ŸçŠ¶æ€ï¼šåˆ›å»ºPCBï¼Œç¨‹åºæ®µï¼Œæ•°æ®æ®µ ç»ˆæ­¢çŠ¶æ€ï¼šå›æ”¶å†…å­˜ï¼Œç¨‹åºæ®µï¼Œæ•°æ®æ®µï¼Œæ’¤é”€PCB é‡ç‚¹å›¾ è¿›ç¨‹å†…å­˜çš„ç©ºé—´å¸ƒå±€ 2.1_3 è¿›ç¨‹æ§åˆ¶ åŸºæœ¬æ¦‚å¿µï¼šä»€ä¹ˆæ˜¯è¿›ç¨‹æ§åˆ¶ï¼Ÿ å®ç°å„ç§è¿›ç¨‹çŠ¶æ€è½¬æ¢ã€‚å¦‚ä½•å®ç°è¿›ç¨‹æ§åˆ¶ï¼Ÿ ç”¨â€œåŸè¯­â€å®ç°ã€‚ åŸè¯­åšçš„äº‹æƒ…ï¼š 1ã€æ›´æ–°PCBä¸­çš„ä¿¡æ¯ 2ã€å°†PCBæ’å…¥åˆé€‚çš„é˜Ÿåˆ— 3ã€åˆ†é…/å›æ”¶èµ„æº exï¼šwait waitä¸ä»…ç”¨äºç›‘æ§è¿›ç¨‹çš„ä½œç”¨ï¼Œè¿˜å¯ä»¥å›æ”¶å·²ç»è¿è¡Œç»“æŸçš„å­è¿›ç¨‹å’Œé‡Šæ”¾èµ„æº è¿›ç¨‹æ§åˆ¶ç›¸å…³çš„åŸè¯­ï¼š 1ã€è¿›ç¨‹çš„åˆ›å»ºï¼š åˆ›å»ºåŸè¯­ï¼šç”³è¯·ç©ºç™½PCBã€ä¸ºæ–°è¿›ç¨‹åˆ†é…æ‰€éœ€èµ„æºã€åˆå§‹åŒ–PCBã€å°†PCBæ’å…¥å°±ç»ªé˜Ÿåˆ— å¼•èµ·è¿›ç¨‹åˆ›å»ºçš„äº‹ä»¶ï¼šç”¨æˆ·ç™»å½•ã€ä½œä¸šè°ƒåº¦ã€æä¾›æœåŠ¡ã€åº”ç”¨è¯·æ±‚ ç¬¬ä¸€ä¸ªè¿›ç¨‹æ˜¯æ“ä½œç³»ç»Ÿåˆ›å»ºçš„ï¼Œæ˜¯ç‰¹å®šä¸”å”¯ä¸€çš„ï¼Œæ‰€æœ‰è¿›ç¨‹éƒ½ç”±è¿™ä¸ªè¿›ç¨‹äº§ç”Ÿ ex: fork forkå®Œæˆï¼Œä¸¤ä¸ªè¿›ç¨‹çš„å†…å­˜ï¼Œå¯„å­˜å™¨ï¼Œç¨‹åºè®¡æ•°å™¨çŠ¶æ€å®Œå…¨ä¸€è‡´ å¯¹äºçˆ¶è¿›ç¨‹ fork è¿”å›å€¼æ˜¯å­è¿›ç¨‹çš„PIDï¼Œå­è¿›ç¨‹forkè¿”å›å€¼æ˜¯0 ç”±äºç³»ç»Ÿè°ƒåº¦ï¼Œçˆ¶å­è¿›è¡Œçš„æ‰§è¡Œé¡ºåºæ˜¯ä¸ç¡®å®šçš„ 2ã€è¿›ç¨‹çš„ç»ˆæ­¢ï¼šæ’¤é”€åŸè¯­å¼•èµ·è¿›ç¨‹ä¸­æ­¢çš„äº‹ä»¶ï¼šæ­£å¸¸ç»“æŸã€å¼‚å¸¸ç»“æŸã€å¤–ç•Œå¹²é¢„ 3ã€è¿›ç¨‹çš„é˜»å¡ï¼šé˜»å¡åŸè¯­ï¼šè¿è¡Œæ€-&gt;é˜»å¡æ€ å¼•èµ·è¿›ç¨‹é˜»å¡çš„äº‹ä»¶ï¼šéœ€è¦ç­‰å¾…ç³»ç»Ÿåˆ†é…æŸç§èµ„æºã€éœ€è¦ç­‰å¾…ç›¸äº’åˆä½œçš„å…¶ä»–è¿›ç¨‹å®Œæˆå·¥ä½œ 4ã€è¿›ç¨‹çš„å”¤é†’ï¼šå”¤é†’åŸè¯­ï¼šé˜»å¡æ€-&gt;å°±ç»ªæ€ å¼•èµ·è¿›ç¨‹å”¤é†’çš„äº‹ä»¶ï¼šç­‰å¾…çš„äº‹ä»¶å‘ç”Ÿ 5ã€è¿›ç¨‹çš„åˆ‡æ¢åˆ‡æ¢åŸè¯­å¼•èµ·è¿›ç¨‹åˆ‡æ¢çš„äº‹ä»¶ï¼šå½“å‰è¿›ç¨‹äº‹ä»¶ç‰‡åˆ°ã€æœ‰æ›´é«˜ä¼˜å…ˆçº§çš„è¿›ç¨‹åˆ°è¾¾ã€å½“å‰è¿›ç¨‹ä¸»åŠ¨é˜»å¡ã€å½“å‰è¿›ç¨‹ç»ˆæ­¢ 2.1_4 è¿›ç¨‹é€šä¿¡ 1ã€å…±äº«å­˜å‚¨ ï¼ˆåˆ†é…å…±äº«ç©ºé—´ï¼Œä¸”äº’æ–¥ï¼ˆPã€Væ“ä½œï¼‰ åŸºäºæ•°æ®ç»“æ„çš„å…±äº«ï¼šå›ºå®šåˆ†é…ï¼ˆä½çº§ï¼‰ åŸºäºå­˜å‚¨åŒºçš„å…±äº«ï¼šåˆ’åˆ†å­˜å‚¨åŒºï¼ˆé«˜çº§ï¼‰ 2ã€æ¶ˆæ¯ä¼ é€’æ¶ˆæ¯ï¼šæ¶ˆæ¯å¤´ã€æ¶ˆæ¯ä½“ ç›´æ¥é€šä¿¡æ–¹å¼ï¼ˆç›´æ¥æŒ‚è½½æ¶ˆæ¯ï¼‰ é—´æ¥é€šä¿¡æ–¹å¼ï¼ˆé—´æ¥åˆ©ç”¨ä¿¡ç®±å‘é€æ¶ˆæ¯ï¼‰ 3ã€ç®¡é“é€šä¿¡ï¼ˆpipeï¼‰ åªèƒ½åŠåŒå·¥é€šä¿¡ äº’æ–¥ï¼ˆæ²¡å†™æ»¡ï¼Œä¸èƒ½è¯»ï¼Œåä¹‹åŒç†ï¼‰ 2.1_5 çº¿ç¨‹æ¦‚å¿µå’Œå¤šçº¿ç¨‹æ¨¡å‹ ä»€ä¹ˆæ˜¯çº¿ç¨‹ï¼Œä¸ºä»€ä¹ˆè¦å¼•å…¥çº¿ç¨‹ï¼Ÿ çº¿ç¨‹æ˜¯ä¸€ä¸ªåŸºæœ¬çš„CPUæ‰§è¡Œå•å…ƒï¼Œä¹Ÿæ˜¯ç¨‹åºæ‰§è¡Œæµçš„æœ€å°å•ä½ï¼Œè¿›ä¸€æ­¥æé«˜äº†ç³»ç»Ÿçš„å¹¶å‘åº¦ å¼•å…¥çº¿ç¨‹æœºåˆ¶åï¼Œæœ‰ä»€ä¹ˆå˜åŒ–ï¼Ÿ èµ„æºåˆ†é…ã€è°ƒåº¦ï¼šè¿›ç¨‹æ˜¯èµ„æºåˆ†é…çš„åŸºæœ¬å•ä½ï¼Œçº¿ç¨‹æ˜¯è°ƒåº¦çš„åŸºæœ¬å•ä½ å¹¶å‘æ€§ï¼šå„çº¿ç¨‹é—´ä¹Ÿèƒ½å¹¶å‘ï¼Œæå‡äº†å¹¶å‘åº¦ ç³»ç»Ÿå¼€é”€ï¼šå¯ä»¥åªåœ¨è¿›ç¨‹ä¸­åˆ‡æ¢ï¼Œå‡å°äº†CPUåˆ‡æ¢ç¯å¢ƒçš„ç³»ç»Ÿå¼€é”€ 1ã€çº¿ç¨‹æœ‰å“ªäº›é‡è¦çš„å±æ€§ çº¿ç¨‹æ˜¯å¤„ç†æœºè°ƒåº¦çš„åŸºæœ¬å•ä½ å¤šCPUè®¡ç®—æœºä¸­ï¼Œå„ä¸ªçº¿ç¨‹å¯å ç”¨ä¸åŒçš„CPU æ¯ä¸ªçº¿ç¨‹éƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹IDã€çº¿ç¨‹æ§åˆ¶å—ï¼ˆTCBï¼‰ çº¿ç¨‹ä¹Ÿæœ‰å°±ç»ªã€é˜»å¡ã€è¿è¡Œä¸‰ç§åŸºæœ¬çŠ¶æ€ çº¿ç¨‹å‡ ä¹ä¸æ‹¥æœ‰ç³»ç»Ÿèµ„æº åŒä¸€è¿›ç¨‹çš„ä¸åŒçº¿ç¨‹é—´å…±äº«è¿›ç¨‹çš„èµ„æº ç”±äºå…±äº«å†…å­˜åœ°å€ç©ºé—´ï¼Œç»Ÿä¸€è¿›ç¨‹ä¸­çš„çº¿ç¨‹é—´é€šä¿¡ç”šè‡³æ— éœ€ç³»ç»Ÿå¹²é¢„ åŒä¸€è¿›ç¨‹ä¸­çš„çº¿ç¨‹åˆ‡æ¢ï¼Œä¸ä¼šå¼•èµ·è¿›ç¨‹åˆ‡æ¢ ä¸åŒè¿›ç¨‹ä¸­çš„çº¿ç¨‹åˆ‡æ¢ï¼Œä¼šå¼•èµ·è¿›ç¨‹åˆ‡æ¢ åˆ‡æ¢åŒè¿›ç¨‹å†…çš„çº¿ç¨‹ï¼Œç³»ç»Ÿå¼€é”€å¾ˆå° åˆ‡æ¢è¿›ç¨‹ï¼Œç³»ç»Ÿå¼€é”€è¾ƒå¤§ 2ã€çº¿ç¨‹çš„å®ç°æ–¹å¼ ç”¨æˆ·çº§çº¿ç¨‹ï¼ˆULTï¼‰ï¼šç”±åº”ç”¨ç®¡ç†ï¼Œä»ç”¨æˆ·çš„è§†è§’çœ‹èƒ½çœ‹åˆ°çš„çº¿ç¨‹ å†…æ ¸çº§çº¿ç¨‹ï¼ˆKLTï¼‰ï¼šç”±æ“ä½œç³»ç»Ÿç®¡ç†ï¼Œä»æ“ä½œç³»ç»Ÿå†…æ ¸è§†è§’çœ‹èƒ½çœ‹åˆ°çš„çº¿ç¨‹ nä¸ªULTå¯ä»¥æ˜ å°„åˆ°mä¸ªKLTä¸Šï¼ˆn&gt;=mï¼‰ å†…æ ¸çº§çº¿ç¨‹æ‰æ˜¯å¤„ç†æœºåˆ†é…çš„å•ä½ 3ã€å¤šçº¿ç¨‹æ¨¡å‹ å¤šå¯¹ä¸€æ¨¡å‹ nä¸ªULTæ˜ å°„åˆ°1ä¸ªKLT ä¼˜ç‚¹ï¼šå¼€é”€å°ï¼Œæ•ˆç‡é«˜ç¼ºç‚¹ï¼šå®¹æ˜“é˜»å¡ï¼Œå¹¶å‘åº¦ä¸é«˜ ä¸€å¯¹ä¸€æ¨¡å‹ nä¸ªULTæ˜ å°„åˆ°nä¸ªKLT ä¼˜ç‚¹ï¼šå¹¶å‘èƒ½åŠ›å¾ˆå¼ºç¼ºç‚¹ï¼šå ç”¨æˆæœ¬é«˜ï¼Œå¼€é”€å¤§ å¤šå¯¹å¤šæ¨¡å‹ nä¸ªULTæ˜ å°„åˆ°mä¸ªKLTä¸Šï¼ˆn&gt;=mï¼‰ä¸­å’Œä»¥ä¸Šä¸¤ç§ä¼˜ç¼ºç‚¹ 2.2_1 å¤„ç†æœºè°ƒåº¦çš„æ¦‚å¿µã€å±‚æ¬¡ åŸºæœ¬æ¦‚å¿µï¼šé€šå¸¸è¿›ç¨‹æ•°é‡å¤§äºå¤„ç†æœºæ•°é‡ï¼Œæ‰€ä»¥è¦æŒ‰ç…§ä¸€å®šçš„ç®—æ³•é€‰æ‹©ä¸€ä¸ªè¿›ç¨‹ï¼Œå¹¶å°†å¤„ç†æœºåˆ†é…ç»™å®ƒè¿è¡Œï¼Œä»¥å®ç°è¿›ç¨‹çš„å¹¶å‘æ‰§è¡Œ ä¸‰ä¸ªå±‚æ¬¡ é«˜çº§è°ƒåº¦ï¼ˆä½œä¸šè°ƒåº¦ï¼‰ è¾…åŠ©å¤–å­˜ä¸å†…å­˜ä¹‹é—´çš„è°ƒåº¦ï¼Œä½œä¸šè°ƒå…¥æ—¶ä¼šå»ºç«‹ç›¸åº”çš„PCBï¼Œä½œä¸šè°ƒå‡ºæ—¶æ‰æ’¤é”€PCBï¼Œè°ƒå…¥å¯ç”±æ“ä½œç³»ç»Ÿå†³å®šï¼Œè°ƒå‡ºç”±ä½œä¸šè¿è¡Œç»“æŸæ‰è°ƒå‡º ä¸­çº§è°ƒåº¦ï¼ˆå†…å­˜è°ƒåº¦ï¼‰ å°†æš‚æ—¶ä¸ç”¨çš„è¿›ç¨‹æ”¾åˆ°å¤–å­˜ï¼ˆPCBä¸å¤–æ”¾ï¼‰ï¼Œæé«˜å†…å­˜åˆ©ç”¨ç‡å’Œç³»ç»Ÿååé‡ï¼Œè¿›ç¨‹çŠ¶æ€ä¸ºæŒ‚èµ·çŠ¶æ€ï¼Œå½¢æˆæŒ‚èµ·é˜Ÿåˆ— ä½çº§è°ƒåº¦ï¼ˆè¿›ç¨‹è°ƒåº¦ï¼‰ æœ€åŸºæœ¬ï¼Œç”¨ç®—æ³•ä¸ºè¿›ç¨‹åˆ†é…å¤„ç†æœºèµ„æºï¼Œå‡ åmsä¸€æ¬¡ ä¸‰å±‚è°ƒåº¦çš„è”ç³»ã€å¯¹æ¯”è¿›ç¨‹çš„â€œæŒ‚èµ·æ€â€ ä¸ƒçŠ¶æ€æ¨¡å‹ äº”çŠ¶æ€å‰é¢å­¦äº†ï¼ŒæŒ‚èµ·åˆ†ä¸ºå°±ç»ªæŒ‚èµ·ã€é˜»å¡æŒ‚èµ· 2.2_2 è¿›ç¨‹è°ƒåº¦çš„æ—¶æœºã€åˆ‡æ¢ä¸è¿‡ç¨‹è°ƒåº¦æ–¹å¼ 1ã€æ—¶æœºä»€ä¹ˆæ—¶å€™éœ€è¦è¿›ç¨‹è°ƒåº¦ï¼Ÿ ä¸»åŠ¨æ”¾å¼ƒï¼ˆè¿›ç¨‹æ­£å¸¸ç»ˆæ­¢ã€è¿è¡Œè¿‡ç¨‹ä¸­å‘ç”Ÿå¼‚å¸¸è€Œç»ˆæ­¢ã€è¿›ç¨‹ä¸»åŠ¨è¯·æ±‚é˜»å¡ï¼‰ è¢«åŠ¨æ”¾å¼ƒï¼ˆåˆ†ç»™è¿›ç¨‹çš„æ—¶é—´ç‰‡ç”¨å®Œã€æœ‰æ›´ç´§æ€¥çš„äº‹éœ€è¦å¤„ç†ã€æœ‰æ›´é«˜ä¼˜å…ˆçº§çš„è¿›ç¨‹è¿›å…¥å°±ç»ªé˜Ÿåˆ—ï¼‰ ä»€ä¹ˆæ—¶å€™ä¸èƒ½è¿›è¡Œè¿›ç¨‹è°ƒåº¦ï¼Ÿ åœ¨å¤„ç†ä¸­æ–­çš„è¿‡ç¨‹ä¸­ åœ¨æ“ä½œç³»ç»Ÿå†…æ ¸ç¨‹åºä¸´ç•ŒåŒºä¸­ ä¸´ç•Œèµ„æºï¼šä¸€ä¸ªæ—¶æ®µæ®µå†…å„è¿›ç¨‹äº’æ–¥åœ°è®¿é—®ä¸´ç•Œèµ„æº ä¸´ç•ŒåŒºï¼šè®¿é—®ä¸´ç•Œèµ„æºçš„é‚£æ®µä»£ç  å†…æ ¸ç¨‹åºä¸´ç•ŒåŒºä¼šè®¿é—®å°±ç»ªé˜Ÿåˆ—ï¼Œå¯¼è‡´å…¶ä¸Šé” åœ¨åŸå­æ“ä½œè¿‡ç¨‹ä¸­ï¼ˆåŸè¯­ï¼‰ 2ã€åˆ‡æ¢ä¸è¿‡ç¨‹ â€œç‹­ä¹‰çš„è°ƒåº¦â€ä¸â€œè¿›ç¨‹åˆ‡æ¢â€çš„åŒºåˆ« ç‹­ä¹‰ï¼šé€‰æ‹©ä¸€ä¸ªè¿›ç¨‹ å¹¿ä¹‰ï¼šç‹­ä¹‰+è¿›ç¨‹åˆ‡æ¢ è¿›ç¨‹åˆ‡æ¢çš„è¿‡ç¨‹éœ€è¦åšä»€ä¹ˆï¼Ÿ å¯¹åŸæ¥è¿è¡Œè¿›ç¨‹å„ç§æ•°æ®çš„ä¿å­˜ï¼ˆPCBä¸­ï¼‰ å¯¹æ–°çš„è¿›ç¨‹å„ç§æ•°æ®çš„æ¢å¤ 3ã€æ–¹å¼éå‰¥å¤ºè°ƒåº¦æ–¹å¼ï¼ˆéæŠ¢å å¼ï¼‰ åªå…è®¸è¿›ç¨‹ä¸»åŠ¨æ”¾å¼ƒå¤„ç†æœº å‰¥å¤ºè°ƒåº¦æ–¹å¼ï¼ˆæŠ¢å å¼ï¼‰ è¿›ç¨‹è¢«åŠ¨æ”¾å¼ƒï¼Œå¯ä»¥ä¼˜å…ˆå¤„ç†ç´§æ€¥ä»»åŠ¡ï¼Œé€‚åˆåˆ†æ—¶æ“ä½œç³»ç»Ÿã€å®æ—¶æ“ä½œç³»ç»Ÿ 2.2_3 è°ƒåº¦ç®—æ³•çš„è¯„ä»·æŒ‡æ ‡ 1ã€CPUåˆ©ç”¨ç‡ CPUåˆ©ç”¨ç‡=CPUå¿™ç¢Œçš„æ—¶é—´/æ€»æ—¶é—´ 2ã€ç³»ç»Ÿååé‡ æ€»å…±å®Œæˆäº†å¤šå°‘é“ä½œä¸š/æ€»å…±èŠ±äº†å¤šå°‘æ—¶é—´ 3ã€å‘¨è½¬æ—¶é—´ å‘¨è½¬æ—¶é—´ï¼ˆæäº¤ä½œä¸šåˆ°å®Œæˆä½œä¸šèŠ±è´¹çš„æ—¶é—´ï¼‰ã€å¹³å‡å‘¨è½¬æ—¶é—´ï¼ˆå„ä½œä¸šå‘¨è½¬æ—¶é—´ä¹‹å’Œ/ä½œä¸šæ•°ï¼‰ å¸¦æƒå‘¨è½¬æ—¶é—´ï¼ˆä½œä¸šå‘¨è½¬æ—¶é—´/ä½œä¸šå®é™…è¿è¡Œçš„æ—¶é—´ï¼‰ã€å¹³å‡å¸¦æƒå‘¨è½¬æ—¶é—´ï¼ˆå„ä½œä¸šå¸¦æƒå‘¨è½¬æ—¶é—´/ä½œä¸šæ•°ï¼‰ 4ã€ç­‰å¾…æ—¶é—´è¿›ç¨‹æˆ–ä½œä¸šç­‰å¾…å¤„ç†æœºçŠ¶æ€æ—¶é—´çš„å’Œè¿›ç¨‹ï¼šç­‰å¾…è¢«æœåŠ¡çš„æ—¶é—´ä¹‹å’Œ ä½œä¸šï¼šå»ºç«‹åçš„ç­‰å¾…æ—¶é—´+ä½œä¸šåœ¨å¤–å­˜åå¤‡é˜Ÿåˆ—ä¸­ç­‰å¾…çš„æ—¶é—´ 5ã€å“åº”æ—¶é—´ä»ç”¨æˆ·æäº¤è¯·æ±‚åˆ°é¦–æ¬¡äº§ç”Ÿå“åº”æ‰€ç”¨çš„æ—¶é—´ 2.2_4 FCFSã€SJFã€HRRNè°ƒåº¦ç®—æ³• è®°å½•æŸ¥çœ‹æ¯ä¸€ä¸ªè¿›ç¨‹åˆ°è¾¾çš„æ—¶é—´ 1ã€å…ˆæ¥å…ˆæœåŠ¡ï¼ˆFCFSï¼‰ å…ˆåˆ°è¾¾å…ˆè¿›è¡ŒæœåŠ¡ ä½œä¸š-åå¤‡é˜Ÿåˆ—ï¼›è¿›ç¨‹-å°±ç»ªé˜Ÿåˆ— éæŠ¢å å¼ å…¬å¹³ã€ç®—æ³•ç®€å• å¯¹é•¿ä½œä¸šæœ‰åˆ©ã€å¯¹çŸ­ä½œä¸šä¸åˆ©ã€ä¸ä¼šé¥¥é¥¿ 2ã€çŸ­ä½œä¸šä¼˜å…ˆï¼ˆSJFï¼Œshortest job firstï¼‰ æœ€çŸ­ï¼ˆæœåŠ¡æ—¶é—´æœ€çŸ­ï¼‰çš„ä½œä¸šä¼˜å…ˆå¾—åˆ°æœåŠ¡ï¼Œæ—¶é—´ç›¸åŒï¼Œå…ˆåˆ°è¾¾çš„å…ˆè¢«æœåŠ¡ éæŠ¢å å¼ï¼ˆSJFï¼‰ï¼šé€‰æœ€çŸ­éœ€è¦æ—¶é—´çš„ä½œä¸šå…ˆè¿›å…¥è¿è¡Œæ€ æŠ¢å å¼ï¼ˆSRTNï¼‰ï¼šæœ‰æ–°ä½œä¸šè¿›å…¥å°±ç»ªé˜Ÿåˆ—æˆ–æœ‰ä½œä¸šå®Œæˆäº†ï¼Œè€ƒå¯Ÿé˜Ÿåˆ—ä¸­çš„æœ€å°éœ€è¦æ—¶é—´çš„ä½œä¸š åœ¨æ‰€æœ‰è¿›ç¨‹éƒ½å‡ ä¹åŒæ—¶åˆ°è¾¾æ—¶ï¼Œé‡‡ç”¨SJPè°ƒåº¦ç®—æ³•çš„å¹³å‡ç­‰å¾…æ—¶é—´ã€å¹³å‡å‘¨è½¬æ—¶é—´æœ€å°‘è‹¥æ— çº¢è‰²å‰æï¼ŒæŠ¢å å¼çš„çŸ­ä½œä¸š/è¿›ç¨‹çš„å¹³å‡æ—¶é—´æœ€å°‘ ä¼˜ç‚¹ï¼šâ€œæœ€çŸ­çš„â€å¹³å‡ç­‰å¾…æ—¶é—´ï¼Œå¹³å‡å‘¨è½¬æ—¶é—´ ç¼ºç‚¹ï¼šå¯¹çŸ­ä½œä¸šæœ‰åˆ©ï¼Œå¯¹é•¿ä½œä¸šä¸åˆ©ï¼Œå¯èƒ½äº§ç”Ÿé¥¥é¥¿ç°è±¡ï¼ˆä¸€ç›´æœ‰æ—¶é—´çŸ­çš„ä»»åŠ¡åˆ°è¾¾ï¼‰ 3ã€é«˜å“åº”æ¯”ä¼˜å…ˆï¼ˆHRRNï¼‰è¦ç»¼åˆè€ƒè™‘ä½œä¸š/è¿›ç¨‹çš„ç­‰å¾…æ—¶é—´å’Œè¦æ±‚æœåŠ¡çš„æ—¶é—´ï¼ˆç­‰å¾…æ—¶é—´è¶Šé•¿æˆ–è€…æœåŠ¡æ—¶é—´è¶Šé•¿å°±è¶Šä¼šå…ˆæœåŠ¡ï¼‰ å“åº”æ¯”=ï¼ˆç­‰å¾…æ—¶é—´+è¦æ±‚æœåŠ¡æ—¶é—´ï¼‰/è¦æ±‚æœåŠ¡æ—¶é—´ åœ¨æ¯æ¬¡è°ƒåº¦æ—¶å…ˆè®¡ç®—å„ä¸ªä½œä¸š/è¿›ç¨‹çš„å“åº”æ¯”ï¼Œé€‰æ‹©å“åº”æ¯”æœ€é«˜çš„ä½œä¸š/è¿›ç¨‹ä¸ºå…¶æœåŠ¡ éæŠ¢å å¼ è¿›ç¨‹ä¸»åŠ¨æ”¾å¼ƒCPUæ—¶ï¼Œéœ€è¦è¯¥ç®—æ³•é€‰å–å°±ç»ªé˜Ÿåˆ—çš„ä½œä¸š ä¸ä¼šé¥¥é¥¿ 2.2_5 æ—¶é—´ç‰‡è½®è½¬ã€ä¼˜å…ˆçº§è°ƒåº¦ã€å¤šçº§åé¦ˆé˜Ÿåˆ—ï¼ˆé€‚åˆäº¤äº’å¼ç³»ç»Ÿï¼‰ 1ã€æ—¶é—´ç‰‡è½®è½¬ç®—æ³•ï¼ˆRRï¼‰ç®—æ³•æ€æƒ³ï¼šå…¬å¹³è½®æµåœ°ä½å„ä¸ªè¿›ç¨‹æœåŠ¡ï¼Œè®©æ¯ä¸ªè¿›ç¨‹åœ¨ä¸€å®šæ—¶é—´é—´éš”å†…éƒ½å¯ä»¥å¾—åˆ°å“åº”ç®—æ³•è§„åˆ™ï¼šæŒ‰ç…§å„è¿›ç¨‹åˆ°è¾¾å°±ç»ªé˜Ÿåˆ—çš„é¡ºåºï¼Œè½®æµè®©å„ä¸ªè¿›ç¨‹æ‰§è¡Œä¸€ä¸ªæ—¶é—´ç‰‡ï¼ˆå¦‚100msï¼‰ã€‚è‹¥è¿›ç¨‹æœªåœ¨ä¸€ä¸ªæ—¶é—´ç‰‡å†…æ‰§è¡Œå®Œï¼Œåˆ™å‰¥å¤ºå¤„ç†æœºï¼Œå°†è¿›ç¨‹é‡æ–°æ”¾åˆ°å°±ç»ªé˜Ÿåˆ—å¯¹ä½é‡æ–°æ’é˜Ÿã€‚ åªèƒ½ç”¨äºè¿›ç¨‹è°ƒåº¦ æŠ¢å å¼ ä¼˜ç‚¹ï¼šå“åº”å—ï¼Œé€‚ç”¨äºåˆ†æ—¶æ“ä½œç³»ç»Ÿ ç¼ºç‚¹ï¼šç”±äºé«˜é¢‘ç‡çš„è¿›ç¨‹åˆ‡æ¢ï¼Œå› æ­¤æœ‰ä¸€å®šçš„å¼€é”€ï¼›ä¸åŒºåˆ†ä»»åŠ¡çš„ç´§æ€¥ç¨‹åº¦ ä¸ä¼šé¥¥é¥¿ 2ã€ä¼˜å…ˆçº§è°ƒåº¦ç®—æ³•ç®—æ³•æ€æƒ³ï¼šæ ¹æ®ä»»åŠ¡çš„ç´§æ€¥ç¨‹åº¦æ¥å†³å®šå¤„ç†é¡ºåºç®—æ³•è§„åˆ™ï¼šæ¯ä¸ªè¿›ç¨‹/ä½œä¸šæœ‰å„è‡ªçš„ä¼˜å…ˆçº§ï¼Œè°ƒåº¦æ—¶é€‰æ‹©ä¼˜å…ˆçº§æœ€é«˜çš„ä½œä¸š/è¿›ç¨‹ é€‚ç”¨ï¼šä½œä¸š/è¿›ç¨‹/IO æŠ¢å å¼/ä¸å¯æŠ¢å å‡æœ‰ é™æ€ä¼˜å…ˆçº§ï¼šä¸å˜ åŠ¨æ€ä¼˜å…ˆçº§ï¼šå¯ä»¥å˜ é€šå¸¸ï¼šç³»ç»Ÿè¿›ç¨‹ä¼˜å…ˆçº§é«˜äºç”¨æˆ·è¿›ç¨‹ï¼Œå‰å°è¿›ç¨‹ä¼˜å…ˆçº§é«˜äºåå°è¿›ç¨‹ï¼Œæ“ä½œç³»ç»Ÿæ›´åå¥½I/Oè¿›ç¨‹ å¯ä»¥ä»è¿½æ±‚å…¬å¹³ã€æå‡èµ„æºåˆ©ç”¨ç‡ç­‰è§’åº¦è€ƒè™‘æ”¹å˜ä¼˜å…ˆçº§ å¯èƒ½ä¼šé¥¥é¥¿ï¼ˆä¸€ç›´æœ‰ç´§æ€¥è¿›ç¨‹ï¼‰ 3ã€å¤šçº§åé¦ˆé˜Ÿåˆ—è°ƒåº¦ç®—æ³•ç®—æ³•æ€æƒ³ï¼šå¯¹å…¶å®ƒç®—æ³•è°ƒåº¦çš„è¿™ç§æƒè¡¡ç®—æ³•å®ç°ï¼šè®¾ç½®å¤šçº§å°±ç»ªé˜Ÿåˆ—ï¼Œå„çº§é˜Ÿåˆ—ä¼˜å…ˆçº§ä»é«˜åˆ°ä½ï¼Œæ—¶é—´ç‰‡ä»å°åˆ°å¤§ã€‚æ–°è¿›ç¨‹åˆ°è¾¾æ—¶å…ˆè¿›å…¥ç¬¬ä¸€çº§é˜Ÿåˆ—ï¼ŒæŒ‰ç…§FCFSåŸåˆ™æ’é˜Ÿç­‰å¾…è¢«åˆ†é…æ—¶é—´ç‰‡ã€‚è‹¥ç”¨å®Œæ—¶é—´ç‰‡è¿›ç¨‹è¿˜æœªç»“æŸï¼Œåˆ™è¿›ç¨‹è¿›å…¥ä¸‹ä¸€çº§é˜Ÿåˆ—é˜Ÿå°¾ã€‚å¦‚æœæ­¤æ—¶å·²ç»åœ¨æœ€ä¸‹çº§çš„é˜Ÿåˆ—ï¼Œåˆ™é‡æ–°æ”¾å›æœ€ä¸‹çº§é˜Ÿåˆ—æœ«å°¾ã€‚åªæœ‰ç¬¬Kçº§é˜Ÿå¤´çš„è¿›ç¨‹ä¸ºç©ºæ—¶ï¼Œæ‰ä¼šä¸ºK+1çº§å¯¹å¤´çš„è¿›ç¨‹åˆ†é…æ—¶é—´ç‰‡ï¼Œè¢«æŠ¢å å¤„ç†æœºçš„è¿›ç¨‹é‡æ–°æ”¾å›åŸé˜Ÿåˆ—é˜Ÿå°¾ã€‚ ä¼˜ç‚¹ï¼šå¯¹å„ä¸ªè¿›ç¨‹ç›¸å¯¹å…¬å¹³ï¼ˆFCFSçš„ä¼˜ç‚¹ï¼‰ï¼Œæ¯ä¸ªæ–°åˆ°è¾¾çš„è¿›ç¨‹éƒ½å¯ä»¥å¾ˆå¿«å°±å¾—åˆ°å“åº”ï¼ˆRRçš„ä¼˜ç‚¹ï¼‰ï¼›çŸ­è¿›ç¨‹åªç”¨è¾ƒå°‘çš„æ—¶é—´å°±å¯ä»¥å®Œæˆï¼ˆSPFçš„ä¼˜ç‚¹ï¼‰ï¼›ä¸å¿…å®ç°ä¼°è®¡è¿›ç¨‹çš„è¿è¡Œæ—¶é—´ï¼ˆé¿å…ç”¨æˆ·ä½œå‡ï¼‰ï¼›å¯çµæ´»åœ°è°ƒæ•´å¯¹å„ç±»è¿›ç¨‹çš„åå¥½ç¨‹åº¦ï¼Œæ¯”å¦‚CPUå¯†é›†å‹è¿›ç¨‹ã€IOå¯†é›†å‹è¿›ç¨‹ é»˜è®¤æŠ¢å å¼ ä¼šé¥¥é¥¿ï¼ˆä¸€ç›´æœ‰æ–°è¿›ç¨‹åˆ°é«˜ä¼˜å…ˆçº§é˜Ÿåˆ—ä¸­ï¼‰ 2.3_1 è¿›ç¨‹åŒæ­¥ã€è¿›ç¨‹äº’æ–¥ 1ã€è¿›ç¨‹åŒæ­¥æŒ‡ä¸ºäº†å®ŒæˆæŸç§ä»»åŠ¡è€Œå»ºç«‹çš„ä¸¤ä¸ªæˆ–å¤šä¸ªè¿›ç¨‹ï¼Œè¿™äº›è¿›ç¨‹å› ä¸ºéœ€è¦åœ¨æŸäº›ä½ç½®ä¸Šåè°ƒä»–ä»¬çš„å·¥ä½œæ¬¡åºè€Œäº§ç”Ÿçš„åˆ¶çº¦å…³ç³»ã€‚è¿›ç¨‹é—´çš„ç›´æ¥åˆ¶çº¦å…³ç³»å°±æ˜¯æºäºå®ƒä»¬ä¹‹é—´çš„ç›¸äº’åˆä½œã€‚ 2ã€è¿›ç¨‹äº’æ–¥æŠŠä¸€ä¸ªæ—¶é—´æ®µå†…åªå…è®¸ä¸€ä¸ªè¿›ç¨‹ä½¿ç”¨çš„èµ„æºç§°ä¸ºä¸´ç•Œèµ„æºã€‚ å½“ä¸€ä¸ªè¿›ç¨‹è®¿é—®è¯¥èµ„æºæ—¶ï¼Œä¼šè¿›è¡Œä¸Šé”æ“ä½œ å¯¹ä¸´ç•Œèµ„æºçš„äº’æ–¥è®¿é—®ï¼Œå¯ä»¥åœ¨é€»è¾‘ä¸Šåˆ†ä¸ºå››ä¸ªéƒ¨åˆ†ï¼š 123456do{ entry section; //è¿›å…¥åŒº å¯¹è®¿é—®çš„èµ„æºæ£€æŸ¥æˆ–è¿›è¡Œä¸Šé” critical section; //ä¸´ç•ŒåŒº(æ®µ) è®¿é—®ä¸´ç•Œèµ„æºçš„é‚£éƒ¨åˆ†ä»£ç  exit section; //é€€å‡ºåŒº è´Ÿè´£è§£é” remainder section; //å‰©ä½™åŒº å…¶å®ƒå¤„ç†} while(true) 1ã€ç©ºé—²è®©è¿›ã€‚ä¸´ç•ŒåŒºç©ºçš„å¯ä»¥ç›´æ¥è¿›å» 2ã€å¿™åˆ™ç­‰å¾…ã€‚ ä¸´ç•ŒåŒºç¹å¿™ä¸èƒ½è¿›å» 3ã€æœ‰é™ç­‰å¾…ã€‚ ä¸èƒ½è®©è¿›ç¨‹ç­‰å¾…æ— é™é•¿æ—¶é—´ 4ã€è®©æƒç­‰å¾…ã€‚ ä¸èƒ½è¿›å»ï¼Œä¸è¦å µç€ 2.3_2 è¿›ç¨‹äº’æ–¥çš„è½¯ä»¶å®ç°æ–¹æ³• 1ã€å•æ ‡å¿—æ³• æˆ‘è®¿é—®å®Œä½ å†è®¿é—® ä¸¤ä¸ªè¿›ç¨‹åœ¨è®¿é—®å®Œä¸´ç•ŒåŒºåä¼šæŠŠä½¿ç”¨ä¸´ç•ŒåŒºçš„æƒé™æ•™ç»™å¦ä¸€ä¸ªè¿›ç¨‹ã€‚ä¹Ÿå°±æ˜¯è¯´æ¯ä¸ªè¿›ç¨‹è¿›å…¥ä¸´ç•ŒåŒºçš„æƒé™åªèƒ½è¢«å¦ä¸€ä¸ªè¿›ç¨‹èµ‹äºˆ 1234567891011int turn =0;//p0è¿›ç¨‹while(turn!=0); // æ¶ˆè€—ä¸æ˜¯å½“å‰éœ€è¦æ‰§è¡Œè¿›ç¨‹çš„æ—¶é—´ç‰‡æ—¶é—´ï¼Œæ¶ˆè€—å®Œå°±ä¼šè¿”å›åˆ°éœ€è¦æ‰§è¡Œçš„è¿›ç¨‹ä¸­critical section;turn = 1;remainder section;//p1è¿›ç¨‹while(turn!=1);critical section;turn = 0;remainder section; è¿›ç¨‹ä¹‹é—´å¯ä»¥å®ç°äº’æ–¥ å­˜åœ¨çš„é—®é¢˜ï¼šp1è¦è®¿é—®çš„è¯ï¼Œå¿…é¡»p0å…ˆè®¿é—®ï¼Œè¿èƒŒï¼šç©ºé—²è®©è¿›åŸåˆ™ï¼ˆæµªè´¹æ—¶é—´ï¼‰ 2ã€åŒæ ‡å¿—å…ˆæ£€æŸ¥ ç®—æ³•æ€æƒ³:è®¾ç½®ä¸€ä¸ªboolæ•°ç»„flag[]æ¥æ ‡è®°è‡ªå·±æ˜¯å¦æƒ³è¦è¿›å…¥ä¸´ç•ŒåŒºçš„æ„æ„¿ 1234567891011121314bool flag[2]={false,false};//p1è¿›ç¨‹while(flag[1]);flag[0]=true;critical section;flag[0]=false;remainder section;//p2è¿›ç¨‹while(flag[0]);flag[1]=true;critical section;flag[1]=false;remainder section; ä¸»è¦é—®é¢˜ï¼šç”±äºè¿›ç¨‹æ˜¯å¹¶å‘è¿›è¡Œçš„ï¼Œå¯èƒ½ä¼šè¿èƒŒå¿™åˆ™ç­‰å¾…çš„åŸåˆ™ï¼Œå¯èƒ½å°±æ˜¯ flag[0] = trueï¼›è¿˜æ²¡æœ‰æ‰§è¡Œå°±å‘ç”Ÿäº†è¿›ç¨‹åˆ‡æ¢ 3ã€åŒæ ‡å¿—åæ£€æŸ¥ ç®—æ³•æ€æƒ³:è®¾ç½®ä¸€ä¸ªboolæ•°ç»„flag[]æ¥æ ‡è®°è‡ªå·±æ˜¯å¦æƒ³è¦è¿›å…¥ä¸´ç•ŒåŒºçš„æ„æ„¿,ä¸è¿‡æ˜¯å…ˆä¸Šé”åæ£€æŸ¥ 12345678910111213bool flag[2]={false,false};//p1è¿›ç¨‹flag[0]=true;while(flag[1]);critical section;flag[0]=false;remainder section;//p2è¿›ç¨‹flag[0]=true;while(flag[0]);critical section;flag[1]=false;remainder section; ä¸»è¦é—®é¢˜ï¼šç”±äºè¿›ç¨‹æ˜¯å¹¶å‘è¿›è¡Œçš„ï¼Œå¯èƒ½ä¼šä¸¤ä¸ªåŒæ—¶ä¸Šé”ï¼Œéƒ½è¿›ä¸å»ï¼Œè¿åç©ºé—²è®©è¿›å’Œæœ‰é™ç­‰å¾…åŸåˆ™ è¿›ç¨‹ä¼šé¥¥é¥¿ï¼ˆä¼šéƒ½åœ¨whileå¾ªç¯ä¸­ï¼‰ 4ã€Peterson ç®—æ³• ä¸»åŠ¨è®©å¯¹æ–¹å…ˆä½¿ç”¨å¤„ç†å™¨ 1234567891011121314151617bool flag[2]={false,false}; // æ„æ„¿int turn=0; // è°¦è®©//p1è¿›ç¨‹flag[0]=true;turn=1;while(flag[1]&amp;&amp;turn==1);critical section;flag[0]=false;remainder section;//p2è¿›ç¨‹flag[1]=true;turn=0;while(flag[0]&amp;&amp;turn==0);critical section;flag[1]=false;remainder section; éµå¾ªç©ºé—²è®©è¿›ã€å¿™åˆ™ç­‰å¾…ã€æœ‰é™ç­‰å¾…ä¸‰ä¸ªåŸåˆ™ä½†æ˜¯æœªéµå¾ªè®©æƒç­‰å¾…çš„åŸåˆ™ 2.3_3 è¿›ç¨‹äº’æ–¥çš„ç¡¬ä»¶å®ç°æ–¹æ³• 1ã€ä¸­æ–­å±è”½æ–¹æ³• 1234æµç¨‹ï¼šå…³ä¸­æ–­ï¼ˆä¸å…è®¸è¿›ç¨‹ä¸­æ–­ï¼‰ -- ä¿è¯åœ¨è®¿é—®ä¸´ç•ŒåŒºä¸­ä¸ä¼šå‘ç”Ÿä¸­æ–­ä¸´ç•ŒåŒº -- è®¿é—®ä¸´ç•ŒåŒºå¼€ä¸­æ–­ -- è®¿é—®ç»“æŸ ç®€å•ã€é«˜æ ¡ å¤šå¤„ç†æœºï¼Œå¯èƒ½ä¼šåŒæ—¶è®¿é—®ä¸´ç•Œèµ„æº ä½¿ç”¨OSå†…æ ¸è¿›ç¨‹ 2ã€TestAndSetï¼ˆTSLæŒ‡ä»¤ï¼‰ 1234567891011//trueè¡¨ç¤ºå·²ç»ä¸Šé” -- åŸå­æ€§ï¼Œä¸ä¼šä¸­æ–­bool TestAndSet(bool *lock){ bool old; old=*lock; *lock=true; return old;}//ä»¥ä¸‹æ˜¯ä½¿ç”¨TSLæŒ‡ä»¤å®ç°äº’æ–¥çš„ç®—æ³•é€»è¾‘while(TestAndSet (&amp;lock));//ä¸Šé”å¹¶æ£€æŸ¥ -- ç›´åˆ°å¦å¤–ä¸€ä¸ªè®¿é—®å®Œä¸´ç•ŒåŒºè§£é”ä¸´ç•ŒåŒºä»£ç æ®µlock=false; //è§£é” TSLæ˜¯ç”¨ç¡¬ä»¶å®ç°çš„ï¼Œä¸Šé”ã€æ£€æŸ¥ä¸€æ°”å‘µæˆ ä¸æ»¡è¶³è®©æƒç­‰å¾…ï¼Œä¼šç›²ç­‰ï¼ˆCPUä¸€ç›´åœ¨å¾ªç¯æ£€æµ‹ï¼‰ 3ã€SwapæŒ‡ä»¤åˆ«ç§°ï¼šExchangeæŒ‡ä»¤ã€XCHGæŒ‡ä»¤ SwapæŒ‡ä»¤æ˜¯ç”¨ç¡¬ä»¶å®ç°çš„ 123456789101112131415//trueè¡¨ç¤ºå·²ç»ä¸Šé”void Swap(bool *a,bool *b){ bool temp; temp=*a; *a=*b; *b=temp;}//ä»¥ä¸‹æ˜¯ä½¿ç”¨SwapæŒ‡ä»¤å®ç°äº’æ–¥çš„ç®—æ³•é€»è¾‘bool old=true;while(old=true) Swap(&amp;lock,&amp;old);ä¸´ç•ŒåŒºä»£ç æ®µlock=false; //è§£é”//å‰©ä½™ä»£ç æ®µ ç®€å• é€‚ç”¨å¤šå¤„ç†æœº ä¸èƒ½è®©æƒç­‰å¾… 2.3_4 ä¿¡å·é‡æœºåˆ¶ æ¦‚å¿µï¼šç”¨æˆ·å¯ä»¥é€šè¿‡æ“ä½œç³»ç»Ÿæä¾›çš„ä¸€å¯¹åŸè¯­æ¥å¯¹ä¿¡å·é‡è¿›è¡Œæ“ä½œ ä¿¡å·é‡ï¼šä¿¡å·é‡æ˜¯ä¸€ç§å˜é‡ï¼ˆexï¼šboolï¼‰ï¼Œè¡¨ç¤ºç³»ç»Ÿä¸­æŸç§èµ„æºçš„æ•°é‡ ä¸€å¯¹åŸè¯­ï¼šwaitï¼ˆSï¼‰åŸè¯­å’Œsignalï¼ˆSï¼‰åŸè¯­ï¼Œåˆ†åˆ«ç®€ç§°P(S)ã€V(S)ï¼ˆä¸å¯åœæ­¢ï¼Œä¸€æ°”å‘µæˆï¼‰ å¯ä»¥ç†è§£ä¸ºæ¯ä¸€ä¸ªå‡½æ•°éƒ½æ˜¯ä¸€ä¸ªåŸè¯­ 1ã€æ•´å½¢ä¿¡å·é‡ç”¨ä¸€ä¸ªæ•´æ•°è¡¨ç¤ºç³»ç»Ÿèµ„æºçš„å˜é‡ï¼Œç”¨æ¥è¡¨ç¤ºç³»ç»Ÿä¸­æŸç§èµ„æºçš„æ•°é‡ 123456789int S=1;void wait(int S){ //waitåŸè¯­ï¼Œç›¸å½“äºï¼šè¿›å…¥åŒº while(S&lt;=0); //å¦‚æœèµ„æºæ•°ä¸å¤Ÿï¼Œå°±æ„å¿—å¾ªç¯ç­‰å¾… S=S-1; //å¦‚æœèµ„æºæ•°å¤Ÿï¼Œåˆ™å ç”¨ä¸€ä¸ªèµ„æº}void signal(int S){//signalåŸè¯­ï¼Œç›¸å½“äºâ€œé€€å‡ºåŒºâ€ S=S+1; //ä½¿ç”¨å®Œèµ„æºåï¼Œåœ¨é€€å‡ºåŒºé‡Šæ”¾èµ„æº} ä¸æ»¡è¶³è®©æƒç­‰å¾…å¯èƒ½ä¼šå‡ºç°ç›²ç­‰ é‡ç‚¹ 2ã€è®°å½•å‹ä¿¡å·é‡ï¼ˆIMPORTANTï¼‰è®°å½•å‹æ•°æ®ç»“æ„è¡¨ç¤ºçš„ä¿¡å·é‡ èµ„æºä¸è¶³æ”¾å…¥é˜»å¡é˜Ÿåˆ—ä¸­ç­‰å¾…ï¼ˆæ—¶é—´é¡ºåºï¼‰ æœ‰èµ„æºåˆ™å”¤é†’é˜»å¡åºåˆ—ä¸­çš„è¿›ç¨‹ IMPORTANT $wait: è¿è¡Œæ€ \\rightarrow é˜»å¡æ€$ $signal: é˜»å¡æ€ \\rightarrow å°±ç»ªæ€$ 12345678910111213141516171819//è®°å½•å‹ä¿¡å·é‡çš„å®šä¹‰typedef struct{ int value; struct process *L; //å­˜å‚¨ç­‰å¾…é˜Ÿåˆ—} semaphore;//æŸè¿›ç¨‹éœ€è¦ä½¿ç”¨èµ„æºæ—¶ï¼Œé€šè¿‡waitåŸè¯­ç”³è¯·void wait (semaphore S){ S.value--; if(S.value&lt;0){ block (S.L);//å°†è¯¥è¿›ç¨‹åŠ å…¥åˆ°æ¶ˆæ¯é˜Ÿåˆ—ä¸­(é˜»å¡) }}//è¿›ç¨‹ä½¿ç”¨å®Œèµ„æºåï¼Œé€šè¿‡signalåŸè¯­é‡Šæ”¾void signal (semaphore S){ S.value++; if(S.valie&gt;=0){ wakeup(S.L);//ï¼ˆå”¤é†’é˜»å¡é˜Ÿåˆ—ä¸­çš„è¿›ç¨‹ï¼‰zu se }} é™¤éç‰¹åˆ«è¯´æ˜ï¼Œå¦åˆ™é»˜è®¤Sä¸ºè®°å½•å‹ä¿¡å·é‡ æ»¡è¶³è®©æƒç­‰å¾… 2.3_5 ç”¨ä¿¡å·é‡æœºåˆ¶å®ç°è¿›ç¨‹äº’æ–¥ã€åŒæ­¥ã€å‰é©±å…³ç³» 1ã€å®ç°è¿›ç¨‹äº’æ–¥ è®¾ç½®äº’æ–¥ä¿¡å·é‡mutexï¼Œåˆå€¼ä¸ºï¼ˆç›¸å½“äº è¿›å…¥ä¸´ç•ŒåŒºçš„åé¢ï¼‰ ä¸´ç•ŒåŒºå‰æ‰§è¡Œ Pæ“ä½œï¼Œä¸´ç•ŒåŒºåæ‰§è¡Œ Væ“ä½œ å¯¹ä¸åŒçš„ä¸´ç•Œèµ„æºéœ€è¦è®¾ç½®ä¸åŒçš„äº’æ–¥ä¿¡å·é‡ PVå¿…é¡»æˆå¯¹å‡ºç°ï¼ˆPæ˜¯ç”³è¯·èµ„æºï¼ŒVæ˜¯é‡Šæ”¾èµ„æºï¼‰ 2ã€å®ç°è¿›ç¨‹åŒæ­¥ ä¿è¯ä¸€å‰ä¸€åçš„æ“ä½œé¡ºåº è®¾ç½®åŒæ­¥ä¿¡å·é‡Sï¼Œåˆå§‹ä¸º0 åœ¨â€œå‰æ“ä½œâ€ä¹‹åæ‰§è¡Œ V(S)ï¼šèµ„æºé‡ +1 åœ¨â€œåæ“ä½œâ€ä¹‹åæ‰§è¡Œ P(S) ï¼šèµ„æºé‡ -1 å‰ V å P ä¾‹é¢˜ï¼šS1æ‰§è¡Œå Vï¼ŒS2æ‰§è¡Œå‰P 3ã€å®ç°è¿›ç¨‹çš„å‰é©±å…³ç³» å˜é‡è®¾ç½®ä¸º 0ï¼Œå¦‚æœæˆ‘å‰é¢æ²¡æœ‰è¿›è¡Œé‡Šæ”¾èµ„æºï¼Œé‚£æˆ‘åé¢å°±æ²¡æœ‰èµ„æºå¯ç”¨ï¼Œæ‰€ä»¥å¯ä»¥æ»¡è¶³å‰é©±å…³ç³» è¦ä¸ºæ¯ä¸€å¯¹å‰é©±å…³ç³»å„è®¾ç½®ä¸€ä¸ªåŒæ­¥å˜é‡ åœ¨â€œå‰æ“ä½œâ€ä¹‹åå¯¹ç›¸åº”çš„åŒæ­¥å˜é‡æ‰§è¡ŒVæ“ä½œ åœ¨â€œåæ“ä½œâ€ä¹‹å‰å¯¹ç›¸åº”çš„åŒæ­¥å˜é‡æ‰§è¡ŒPæ“ä½œ 2.3_6 ç”Ÿäº§è€…-æ¶ˆè´¹è€…é—®é¢˜ é‡ç‚¹ï¼šæ‰¾åˆ°åŒæ­¥å…³ç³»ï¼Œæ”¾ç½® Pï¼ŒVæ“ä½œçš„ä½ç½® åªæœ‰ç¼“å†²åŒºæ²¡æ»¡æ—¶ï¼Œç”Ÿäº§è€…æ‰èƒ½æŠŠäº§å“æ”¾å…¥ç¼“å†²åŒºï¼Œå¦åˆ™å¿…é¡»ç­‰å¾… åªæœ‰ç¼“å†²åŒºä¸ç©ºæ—¶ï¼Œæ¶ˆè´¹è€…æ‰èƒ½ä»ä¸­å–å‡ºäº§å“ï¼Œå¦åˆ™å¿…é¡»ç­‰å¾… ç¼“å†²åŒºæ˜¯ä¸´ç•Œèµ„æºï¼Œå„ä¸ªè¿›ç¨‹äº’æ–¥è®¿é—® å®ç°äº’æ–¥çš„Pæ“ä½œè¦æ”¾åœ¨å®ç°åŒæ­¥çš„Pæ“ä½œä¹‹åï¼Œä¸ç„¶ä¼šå‘ç”Ÿæ­»é”** Væ“ä½œä¸ä¼šå¯¼è‡´è¿›ç¨‹å‘ç”Ÿé˜»å¡çš„çŠ¶æ€ï¼Œæ‰€ä»¥å¯ä»¥äº¤æ¢ ä½¿ç”¨æ“ä½œä¸è¦æ”¾åœ¨ä¸´ç•ŒåŒºï¼Œä¸ç„¶å¹¶å‘åº¦ä¼šé™ä½ï¼ˆä¸´ç•ŒåŒºä»£ç å˜é•¿ï¼Œä¸Šé”æ—¶é—´å˜é•¿ï¼‰ ![[Pasted image 20250614134815.png]] 2.3_7 å¤šç”Ÿäº§è€…-å¤šæ¶ˆè´¹è€…æ¨¡å‹ å…¶å®å°±æ˜¯æ‰¾å‡ºåŒæ­¥ï¼ˆå‰é©±ï¼‰å…³ç³»å’Œäº’æ–¥å…³ç³» IMPORTANT ä¸åŒç±»åˆ«çš„ç”Ÿäº§è€…ï¼Œä¸åŒç±»åˆ«çš„æ¶ˆè´¹è€… åœ¨ç”Ÿäº§-æ¶ˆè´¹è€…é—®é¢˜ä¸­ï¼Œå¦‚æœç¼“å†²åŒºå¤§å°ä¸º1ï¼Œé‚£ä¹ˆæœ‰å¯èƒ½ä¸éœ€è¦è®¾ç½®äº’æ–¥ä¿¡å·é‡å°±å¯ä»¥å®ç°äº’æ–¥è®¿é—®ç¼“å†²åŒºï¼Œç¼“å†²åŒº &gt; 1åˆ™å¯èƒ½ä¼šå­˜åœ¨ä¸åŒè¿›ç¨‹è®¿é—®åŒä¸€åœ°å€ï¼Œå¯¼è‡´æ•°æ®è¦†ç›– å…³ç³»å›¾ï¼šé‡ç‚¹ï¼šæ‰¾äº’æ–¥å…³ç³»å’ŒåŒæ­¥å…³ç³» åˆ†æåŒæ­¥é—®é¢˜æ˜¯ï¼Œåº”è¯¥ä»â€œäº‹ä»¶â€çš„è§’åº¦æ¥è€ƒè™‘ï¼Œç›¸å½“äºæ˜¯äº‹ä»¶çš„å‘å±•é¡ºåº 2.3_8 å¸çƒŸè€…é—®é¢˜ è§£å†³â€œå¯ä»¥è®©ç”Ÿäº§å¤šä¸ªäº§å“çš„å•ç”Ÿäº§è€…â€é—®é¢˜æä¾›ä¸€ä¸ªæ€è·¯ï¼› è‹¥ä¸€ä¸ªç”Ÿäº§è€…è¦ç”Ÿäº§å¤šç§äº§å“ï¼ˆæˆ–è€…è¯´ä¼šå¼•å‘å¤šç§å‰é©±äº‹ä»¶ï¼‰ï¼Œé‚£ä¹ˆå„ä¸ªVæ“ä½œåº”è¯¥æ”¾åœ¨å„è‡ªå¯¹åº”çš„â€œäº‹ä»¶â€å‘ç”Ÿä¹‹åçš„ä½ç½® 12345678910111213141516171819202122232425262728while (true) { // å¨å¸ˆä¸€ç›´åœ¨å·¥ä½œ // åˆ¶ä½œç‚’é¥­ å¼€å§‹ç‚’é¥­(); ç‚’é¥­åŠ çƒ­ä¸­(); ç‚’é¥­è°ƒå‘³(); // ... ä¸€ç³»åˆ—åˆ¶ä½œç‚’é¥­çš„æ­¥éª¤ ... ç‚’é¥­å‡ºé”…(); // &lt;-- ç‚’é¥­çœŸæ­£åšå¥½äº†ï¼ V(rice_ready); // ç«‹å³é€šçŸ¥ï¼šç‚’é¥­å‡†å¤‡å¥½äº†ï¼ // åˆ¶ä½œæ„å¤§åˆ©é¢ ç…®æ„é¢(); å‡†å¤‡é…±æ±(); æ··åˆæ„é¢å’Œé…±æ±(); // ... ä¸€ç³»åˆ—åˆ¶ä½œæ„å¤§åˆ©é¢çš„æ­¥éª¤ ... æ„å¤§åˆ©é¢è£…ç›˜(); // &lt;-- æ„å¤§åˆ©é¢çœŸæ­£åšå¥½äº†ï¼ V(pasta_ready); // ç«‹å³é€šçŸ¥ï¼šæ„å¤§åˆ©é¢å‡†å¤‡å¥½äº†ï¼ // åˆ¶ä½œçƒ¤é¸¡ è…Œåˆ¶é¸¡è‚‰(); æ”¾å…¥çƒ¤ç®±(); ç­‰å¾…çƒ¤ç†Ÿ(); // ... ä¸€ç³»åˆ—åˆ¶ä½œçƒ¤é¸¡çš„æ­¥éª¤ ... çƒ¤é¸¡å–å‡ºåˆ‡å—(); // &lt;-- çƒ¤é¸¡çœŸæ­£åšå¥½äº†ï¼ V(chicken_ready); // ç«‹å³é€šçŸ¥ï¼šçƒ¤é¸¡å‡†å¤‡å¥½äº†ï¼ // å¯ä»¥ç¨ä½œä¼‘æ¯æˆ–å‡†å¤‡ä¸‹ä¸€è½® ä¼‘æ¯ä¸€ä¸‹();} 2.3_9 è¯»è€…-å†™è€…é—®é¢˜ å…è®¸å¤šä¸ªè¯»è€…åŒæ—¶å¯¹æ–‡ä»¶æ‰§è¡Œè¯»æ“ä½œ åªå…è®¸ä¸€ä¸ªå†™è€…å¾€æ–‡ä»¶ä¸­å†™ä¿¡æ¯ ä»»ä¸€å†™è€…åœ¨å®Œæˆå†™æ“ä½œä¹‹å‰ä¸å…è®¸å…¶ä»–è¯»è€…æˆ–å†™è€…å·¥ä½œ å†™è€…æ‰§è¡Œå†™æ“ä½œå‰ï¼Œåº”è®©å·²æœ‰çš„è¯»è€…å’Œå†™è€…å…¨éƒ¨é€€å‡º PVæ“ä½œå¯ä»¥å®ç°ä¸€æ°”å‘µæˆ 1234567891011121314151617181920212223242526272829303132semaphore rw=1;//ç”¨äºå®ç°å¯¹æ–‡ä»¶çš„äº’æ–¥è®¿é—®ã€‚è¡¨ç¤ºå½“å‰æ˜¯å¦æœ‰è¿›ç¨‹åœ¨è®¿é—®å…±äº«æ–‡ä»¶int count=0;//è®°å½•å½“å‰æœ‰å‡ ä¸ªè¯»è¿›ç¨‹åœ¨è®¿é—®æ–‡ä»¶semaphore mutex=1;//ç”¨äºä¿è¯å¯¹countå˜é‡çš„äº’æ–¥è®¿é—® semaphore w=1; //ç”¨äºå®ç°â€œå†™ä¼˜å…ˆâ€ å¦‚æœé‡åˆ°å†™è¿›ç¨‹ï¼Œä¼šé˜»æ­¢åé¢æ–°æ¥çš„è¯»è€…è¿›ç¨‹ writer(){ while(1){ Pï¼ˆwï¼‰; P(rw); //å†™ä¹‹å‰â€œåŠ é”â€ å†™æ–‡ä»¶ã€‚ã€‚ã€‚ Vï¼ˆrw);//å†™ä¹‹åâ€œè§£é”â€ V(w); }}reader(){ while(1){ P(w); // --è¯»è¯»æ—¶å€™é”ä½ W P(mutex); //å„è¯»è¿›ç¨‹äº’æ–¥è®¿é—® count if(count==0) P(rw); //ç¬¬ä¸€ä¸ªè¯»è¿›ç¨‹çš„è¯»è¿›ç¨‹æ•°+1 ç”³è¯·æ–‡ä»¶è¯»å– count++; //è®¿é—®æ–‡ä»¶çš„è¯»è¿›ç¨‹æ•°+1 V(mutex); V(w); è¯»æ–‡ä»¶... P(mutex); //å„è¯»è¿›ç¨‹äº’æ–¥è®¿é—®count count--; //è®¿é—®æ–‡ä»¶çš„è¯»è¿›ç¨‹æ•°-1 if(count==0) V(rw); //æœ€åä¸€ä¸ªè¯»è¿›ç¨‹è´Ÿè´£â€œè§£é”â€ V(mutex); }} æˆ‘è®¤ä¸ºè¿™ä¸€éƒ¨åˆ†å¯ä»¥æ·±ç©¶æˆ‘è®¤ä¸ºä»–ç›¸å½“äºç»™ count è®¡æ•°è¿›è¡Œäº†ä¸€ä¸ªåŸå­æ€§æ“ä½œï¼Œæ”¾ç½®countä¸çœŸå®è¯»çš„äººæ•°ä¸ç¬¦ 12345P(mutex); //å„è¯»è¿›ç¨‹äº’æ–¥è®¿é—® count if(count==0) P(rw); //ç¬¬ä¸€ä¸ªè¯»è¿›ç¨‹çš„è¯»è¿›ç¨‹æ•°+1 ç”³è¯·æ–‡ä»¶è¯»å– count++; //è®¿é—®æ–‡ä»¶çš„è¯»è¿›ç¨‹æ•°+1V(mutex); è¯»è€…ä¼˜å…ˆé”ï¼šè¯»è¿›ç¨‹æˆªæ­¢æ‰èƒ½åˆ°å†™è¿›ç¨‹å†™è€…ä¼˜å…ˆé”ï¼šå†™è¿›ç¨‹æˆªæ­¢æ‰èƒ½åˆ°è¯»è¿›ç¨‹ 2.3_10 å“²å­¦å®¶è¿›é¤é—®é¢˜ äº”ä¸ªäººï¼Œå¿…é¡»æ‹¿å·¦å³çš„ç­·å­æ‰èƒ½åƒé¥­ é¿å…æ­»é”å‘ç”Ÿè§£å†³æ–¹æ¡ˆï¼š 1ã€å¯ä»¥å¯¹å“²å­¦å®¶è¿›ç¨‹æ–½åŠ ä¸€äº›é™åˆ¶æ¡ä»¶ï¼Œæ¯”å¦‚æœ€å¤šå…è®¸å››ä¸ªå“²å­¦å®¶åŒæ—¶è¿›é¤ï¼Œè¿™æ ·å¯ä»¥ä¿è¯è‡³å°‘æœ‰ä¸€ä¸ªå“²å­¦å®¶æ˜¯å¯ä»¥æ‹¿åˆ°å·¦å³ä¸¤åªç­·å­çš„ã€‚ 2ã€è¦æ±‚å¥‡æ•°å·å“²å­¦å®¶å…ˆæ‹¿å·¦è¾¹çš„ç­·å­ï¼Œç„¶åå†æ‹¿å³è¾¹çš„ç­·å­ï¼Œè€Œå¶æ•°å·å“²å­¦å®¶åˆšå¥½ç›¸åã€‚ç”¨è¿™ç§æ–¹æ³•å¯ä»¥ä¿è¯å¦‚æœç›¸é‚»çš„ä¸¤ä¸ªå¥‡å¶å·å“²å­¦å®¶éƒ½æƒ³åƒé¥­ï¼Œé‚£ä¹ˆåªä¼šæœ‰å…¶ä¸­ä¸€ä¸ªå¯ä»¥æ‹¿èµ·ç¬¬ä¸€åªç­·å­ï¼Œå¦ä¸€ä¸ªä¼šç›´æ¥é˜»å¡ã€‚è¿™å°±é¿å…äº†å æœ‰ä¸€åªåå†ç­‰å¾…å¦ä¸€åªçš„æƒ…å†µã€‚ 3ã€ä»…å½“ä¸€ä¸ªå“²å­¦å®¶å·¦å³ä¸¤åªç­·å­éƒ½å¯ç”¨æ—¶æ‰å…è®¸ä»–æŠ“èµ·ç­·å­ã€‚ 1234567891011121314semaphore chopstick[5]={1,1,1,1,1};semaphore mutex = 1; //äº’æ–¥åœ°å–ç­·å­Pi(){ //iå·å“²å­¦å®¶çš„è¿›ç¨‹ while(1){ P(mutex); p(chopstick[i]); //æ‹¿å³ p(chopstick[(i+1)%5]);//æ‹¿å·¦ V(mutex); åƒé¥­... V(chopstick[i]); V(chopstick[(i+1)%5]); æ€è€ƒ... }} 2.3_11 ç®¡ç¨‹ ä¸ºä»€ä¹ˆè¦å¼•å…¥ç®¡ç¨‹ P V æ“ä½œå®¹æ˜“å‡ºé”™ã€å›°éš¾ï¼ˆäººä¸ºå®šä½Pï¼ŒVé¡ºåºå›°éš¾ï¼‰ ç®¡ç¨‹çš„å®šä¹‰å’ŒåŸºæœ¬ç‰¹å¾å®šä¹‰ï¼šï¼ˆç±»ä¼¼äº C++ä¸­çš„CLASSï¼ˆç±»ï¼‰ï¼‰ å±€éƒ¨äºç®¡ç¨‹çš„å…±äº«æ•°æ®ç»“æ„è¯´æ˜ å¯¹è¯¥æ•°æ®ç»“æ„è¿›ç¨‹æ“ä½œçš„ä¸€ç»„è¿‡ç¨‹ å¯¹å±€éƒ¨äºç®¡ç¨‹çš„å…±äº«æ•°æ®è®¾ç½®åˆå§‹å€¼çš„è¯­å¥ ç®¡ç¨‹æœ‰ä¸€ä¸ªåå­— åŸºæœ¬ç‰¹å¾ï¼š å±€éƒ¨äºç®¡ç¨‹æ•°æ®ç»“æ„åªèƒ½è¢«å±€éƒ¨äºç®¡ç¨‹çš„è¿‡ç¨‹æ‰€è®¿é—® ä¸€ä¸ªè¿›ç¨‹åªæœ‰é€šè¿‡è°ƒç”¨ç®¡ç¨‹å†…çš„è¿‡ç¨‹ï¼ˆç‰¹å®šå…¥å£ï¼‰æ‰èƒ½è¿›å…¥ç®¡ç¨‹è®¿é—®å…±äº«æ•°æ® æ¯æ¬¡ä»…å…è®¸ä¸€ä¸ªè¿›ç¨‹åœ¨ç®¡ç¨‹å†…æ‰§è¡ŒæŸä¸ªå†…éƒ¨è¿‡ç¨‹ ç›¸å½“äºC++çš„ç±»ï¼Œç®¡ç¨‹æ˜¯æ•°æ®æ”¾åœ¨privateä¸­ï¼Œå‡½æ•°æ”¾åœ¨publicä¸­ æ‹“å±•1ï¼šç”¨ç®¡ç¨‹è§£å†³ç”Ÿäº§è€…æ¶ˆè´¹è€…é—®é¢˜ (ç›¸å½“äºæä¾›ä¸€ä¸ªå‡½æ•°ï¼Œè®©å®ç°å˜å¾—ç®€å•) 1234567891011121314151617181920212223242526272829303132333435monitor producerconsumer condition full,empty; int count = 0; void insert(Item item){ if(count == N) wait(full); count++; insert_item (item); if(count == 1) signal(empty); } Item remove(){ if(count == 0) wait(empty); count--; if(count == N-1) signal(full); return remove_item(); } end monitor;//ç”Ÿäº§è€…è¿›ç¨‹producer(){ while(1){ item = ç”Ÿäº§ä¸€ä¸ªäº§å“; producerconsumer.insert(item); }}//æ¶ˆè´¹è€…è¿›ç¨‹consumer(){ while(1){ item = producerconsumer.remove(); æ¶ˆè´¹äº§å“ item; }} æ‹“å±•2ï¼šJavaä¸­ç±»ä¼¼äºç®¡ç¨‹çš„æœºåˆ¶ javaä¸­ç”¨synchronizedæ¥æè¿°ä¸€ä¸ªå‡½æ•°,è¿™ä¸ªå‡½æ•°åŒä¸€æ—¶é—´åªèƒ½è¢«ä¸€ä¸ªçº¿ç¨‹è°ƒ 2.4_1 æ­»é”çš„æ¦‚å¿µ 1ã€ä»€ä¹ˆæ˜¯æ­»é”å„è¿›ç¨‹äº’ç›¸ç­‰å¾…å¯¹æ–¹æ‰‹é‡Œçš„èµ„æºï¼Œå¯¼è‡´å„è¿›ç¨‹éƒ½é˜»å¡ï¼Œæ— æ³•å‘å‰æ¨è¿›çš„ç°è±¡ã€‚ 2ã€è¿›ç¨‹æ­»é”ã€é¥¥é¥¿ã€æ­»å¾ªç¯çš„åŒºåˆ« æ­»é”ï¼šå®šä¹‰ï¼šå„è¿›ç¨‹äº’ç›¸ç­‰å¾…å¯¹æ–¹æ‰‹é‡Œçš„èµ„æºï¼Œå¯¼è‡´å„è¿›ç¨‹éƒ½é˜»å¡ï¼Œæ— æ³•å‘å‰æ¨è¿›çš„ç°è±¡ã€‚åŒºåˆ«ï¼šè‡³å°‘ä¸¤ä¸ªæˆ–ä¸¤ä¸ªçš„è¿›ç¨‹åŒæ—¶å‘ç”Ÿæ­»é”ï¼ˆå¤„äºé˜»å¡æ€ï¼‰ é¥¥é¥¿ï¼š exï¼šå¦‚è¯»å†™ï¼Œä¸€ç›´è¯»ï¼Œå°±ä¸ä¼šåˆ°å†™çš„æ­¥éª¤å®šä¹‰ï¼šç”±äºé•¿æœŸå¾—ä¸åˆ°æƒ³è¦çš„èµ„æºï¼ŒæŸè¿›ç¨‹æ— æ³•å‘å‰æ¨è¿›çš„ç°è±¡ã€‚åŒºåˆ«ï¼šå¯èƒ½åªæœ‰ä¸€ä¸ªè¿›ç¨‹å‘ç”Ÿé¥¥é¥¿ï¼ˆå¤„äºé˜»å¡æ€æˆ–è€…å°±ç»ªæ€ï¼‰ æ­»å¾ªç¯ï¼šå®šä¹‰ï¼šæŸè¿›ç¨‹æ‰§è¡Œè¿‡ç¨‹ä¸­ä¸€ç›´è·³ä¸å‡ºæŸä¸ªå¾ªç¯çš„ç°è±¡ã€‚åŒºåˆ«ï¼šæ­»å¾ªç¯æ˜¯ç¨‹åºå‘˜çš„é—®é¢˜ï¼ˆå¯èƒ½å¤„äºè¿è¡Œæ€ï¼‰ 3ã€æ­»é”äº§ç”Ÿçš„å¿…è¦æ¡ä»¶ â€“ ä»¥å“²å­¦å®¶é—®é¢˜ä¸ºä¾‹ äº’æ–¥æ¡ä»¶ï¼šå¤šä¸ªè¿›ç¨‹äº‰å¤ºèµ„æºå‘ç”Ÿæ­»é”ï¼ˆæˆ‘çš„åœ¨ä½ é‚£ï¼Œä½ çš„åœ¨æˆ‘è¿™ï¼‰ ä¸å‰¥å¤ºæ¡ä»¶ï¼šè¿›ç¨‹è·å¾—çš„èµ„æºä¸èƒ½ç”±å…¶å®ƒè¿›ç¨‹å¼ºè¡ŒæŠ¢å¤ºï¼ˆä½ çš„èµ„æºåœ¨æˆ‘è¿™é‡Œï¼Œç„¶åæˆ‘è¿˜ä¸ç»™ä½ ï¼‰ è¯·æ±‚å’Œä¿æŒæ¡ä»¶ï¼šæŸä¸ªè¿›ç¨‹æœ‰äº†èµ„æºï¼Œè¿˜åœ¨è¯·æ±‚èµ„æºï¼ˆæˆ‘æœ‰èµ„æºï¼Œä½†æ˜¯æˆ‘ç°åœ¨æœ‰ä¸€ä¸ªèµ„æºæ²¡æ‹¿åˆ°ï¼Œæˆ‘è¿›è¡Œä¸ä¸‹å»ï¼‰ å¾ªç¯ç­‰å¾…æ¡ä»¶ï¼šå­˜åœ¨èµ„æºçš„å¾ªç¯ç­‰å¾…é“¾ï¼ˆæ­»é”æ—¶ä¸€å®šæœ‰å¾ªç¯ç­‰å¾…ï¼Œå¾ªç¯ç­‰å¾…çš„æ—¶å€™ä¸ä¸€å®šå®šæ­»é”ï¼Œå¦‚æœå¾ªç¯çš„èµ„æºå¤§äº1ï¼Œå°±æœªå¿…ä¼šå‘ç”Ÿæ­»é”ï¼‰ 4ã€ä»€ä¹ˆæ—¶å€™ä¼šå‘ç”Ÿæ­»é” å¯¹ç³»ç»Ÿèµ„æºçš„ç«äº‰ è¿›ç¨‹æ¨è¿›é¡ºåºéæ³•ï¼šç”³è¯·çš„èµ„æºè¢«äº’ç›¸æ‰€å æœ‰è€Œé˜»å¡ ä¿¡å·é‡çš„ä½¿ç”¨ä¸å½“ä¹Ÿä¼šé€ æˆæ­»é” 5ã€æ­»é”çš„å¤„ç†ç­–ç•¥ é¢„é˜²æ­»é”ï¼šç ´åå¿…è¦æ¡ä»¶ é¿å…æ­»é”ï¼šç”¨ç®—æ³•æ£€æŸ¥ æ­»é”çš„æ£€æµ‹å’Œè§£é™¤ 2.4_2 æ­»é”çš„å¤„ç†ç­–ç•¥â€”â€”é¢„é˜²æ­»é” 1ã€ä¸å…è®¸æ­»é”å‘ç”Ÿ é™æ€ç­–ç•¥ï¼šé¢„é˜²æ­»é” ç ´åäº’æ–¥æ¡ä»¶ï¼ˆæœ‰äº›ä¸èƒ½ç ´åï¼‰ â€‹æŠŠäº’æ–¥çš„èµ„æºæ”¹é€ ä¸ºå…±äº«èµ„æº ç ´åä¸å‰¥å¤ºæ¡ä»¶ï¼ˆå¤æ‚ï¼Œé€ æˆä¹‹å‰å·¥ä½œå¤±æ•ˆï¼Œå¢åŠ ç³»ç»Ÿå¼€é”€ï¼Œä¼šå…¨éƒ¨æ”¾å¼ƒã€å¯¼è‡´é¥¥é¥¿ï¼‰ â€‹æ–¹æ¡ˆ1ï¼šå½“è¯·æ±‚å¾—ä¸åˆ°æ»¡è¶³çš„æ—¶å€™ï¼Œç«‹å³é‡Šæ”¾æ‰‹é‡Œçš„èµ„æº â€‹æ–¹æ¡ˆ2ï¼šç”±ç³»ç»Ÿä»‹å…¥ï¼Œå¼ºè¡Œå¸®åŠ©å‰¥å¤ºèµ„æº ç ´åè¯·æ±‚å’Œä¿æŒæ¡ä»¶ï¼ˆèµ„æºåˆ©ç”¨ç‡æä½ï¼Œå¯èƒ½ä¼šå¯¼è‡´æŸäº›è¿›ç¨‹é¥¥é¥¿ï¼‰ â€‹é‡‡ç”¨é™æ€åˆ†é…æ–¹æ³•ï¼Œä¸€æ¬¡æ€§å…¨éƒ¨ç”³è¯·ï¼Œå¦‚æœç”³è¯·ä¸åˆ°ï¼Œä¸è¦å…è®¸è¿è¡Œ ç ´åå¾ªç¯ç­‰å¾…æ¡ä»¶ï¼ˆä¸æ–¹ä¾¿å¢åŠ æ–°çš„è®¾å¤‡ï¼Œå®é™…ä½¿ç”¨ä¸é€’å¢é¡ºåºä¸ä¸€è‡´ï¼Œä¼šå¯¼è‡´èµ„æºçš„æµªè´¹ï¼Œå¿…é¡»æŒ‰è§„å®šæ¬¡åºç”³è¯·èµ„æºï¼‰ é¡ºåºèµ„æºåˆ†é…æ³•ï¼šå¯¹èµ„æºç¼–å·ï¼Œè¿›ç¨‹æŒ‰ç¼–å·é€’å¢é¡ºåºè¯·æ±‚èµ„æºï¼Œä¸èƒ½å‘ç”Ÿå¾ªç¯ç­‰å¾…é“¾ åŠ¨æ€æ£€æµ‹ï¼šé¿å…æ­»é” 2ã€å…è®¸æ­»é”å‘ç”Ÿ æ­»é”çš„æ£€æµ‹å’Œè§£é™¤ 2.4_3 æ­»é”çš„å¤„ç†ç­–ç•¥â€”â€”é¿å…æ­»é” åŠ¨æ€æ£€æµ‹ï¼šé¿å…æ­»é” ä»€ä¹ˆæ˜¯å®‰å…¨åºåˆ— ä¸€ä¸ªå®‰å…¨åºåˆ—æ¥è¿›è¡Œèµ„æºåˆ†é…å¯ä»¥æ»¡è¶³æ‰€éœ€è¿›ç¨‹çš„æ‰€æœ‰éœ€æ±‚ è¿›è¡Œåé¢çš„æŸäº›æƒ…å†µï¼Œä¸ä¼šä½¿ç³»ç»Ÿå‘ç”Ÿæ­»é” ä»€ä¹ˆæ˜¯ç³»ç»Ÿçš„ä¸å®‰å…¨çŠ¶æ€ï¼Œä¸æ­»é”æœ‰ä½•è”ç³»èµ„æºåˆ†é…ä¸å‡ï¼Œä¼šå­˜åœ¨ä¸€äº›è¿›ç¨‹çš„èµ„æºåœ¨äº’ç›¸çš„æ‰‹ä¸Šä»è€Œæ— æ³•ç»§ç»­è¿›è¡Œä¸‹å» å¦‚æœç³»ç»Ÿå¤„äºå®‰å…¨çŠ¶æ€ï¼Œå°±ä¸€å®šä¸ä¼šå‘ç”Ÿæ­»é”ã€‚å¦‚æœç³»ç»Ÿè¿›å…¥ä¸å®‰å…¨çŠ¶æ€ï¼Œå°±å¯èƒ½å‘ç”Ÿæ­»é”ï¼ˆå¤„äºä¸å®‰å…¨çŠ¶æ€æœªå¿…å°±æ˜¯å‘ç”Ÿäº†æ­»é”ï¼Œä½†å‘ç”Ÿæ­»é”æ—¶ä¸€å®šæ—¶åœ¨ä¸å®‰å…¨çŠ¶æ€ï¼‰ IMPORTANT å¦‚ä½•é¿å…ç³»ç»Ÿè¿›å…¥ä¸å®‰å…¨çŠ¶æ€**â€”â€”é“¶è¡Œå®¶ç®—æ³• åˆå§‹åˆ†é…å®Œæˆåï¼Œä¼˜å…ˆå…¨éƒ¨åˆ†é…ç»™æœ€å°‘çš„ï¼ˆè¿›ç¨‹æœªæ¥æ‰€éœ€çš„æœ€å¤§éœ€æ±‚ï¼‰ï¼Œå¹¶ä¸”æ‹¿å›èµ„æºâ€‹ æ­¥éª¤ï¼šâ€‹ 1ã€æ£€æŸ¥æ­¤æ¬¡ç”³è¯·èµ„æºé‡æ˜¯å¦è¶…è¿‡äº†ä¹‹å‰è¿›ç¨‹å£°æ˜çš„æœ€å¤§éœ€æ±‚æ•°â€‹ 2ã€æ£€æŸ¥æ­¤æ—¶ç³»ç»Ÿå‰©ä½™çš„å¯ç”¨èµ„æºæ˜¯å¦è¿˜èƒ½æ»¡è¶³è¿™æ¬¡è¯·æ±‚â€‹ 3ã€è¯•æ¢ç€åˆ†é…ï¼Œæ›´æ”¹å„æ•°æ®ç»“æ„â€‹ 4ã€ç”¨å®‰å…¨æ€§ç®—æ³•æ£€æŸ¥æ­¤æ¬¡æ‰€åˆ†é…æ˜¯å¦ä¼šå¯¼è‡´ç³»ç»Ÿè¿›å…¥ä¸å®‰å…¨çŠ¶æ€* å®‰å…¨æ€§ç®—æ³•ï¼šæ£€æŸ¥å½“å‰å‰©ä½™èµ„æºæ˜¯å¦èƒ½å¤Ÿæ»¡è¶³æŸä¸ªè¿›ç¨‹çš„æœ€å¤§éœ€æ±‚ï¼‰ 2.4_4 æ­»é”çš„å¤„ç†ç­–ç•¥â€”â€”æ£€æµ‹å’Œè§£é™¤ è¾¹çš„æ€§è´¨ï¼š $è¿›ç¨‹èŠ‚ç‚¹ \\rightarrow èµ„æºèŠ‚ç‚¹ ï¼ˆè¯·æ±‚èµ„æºï¼‰$ $èµ„æºèŠ‚ç‚¹ \\rightarrow è¿›ç¨‹èŠ‚ç‚¹ ï¼ˆåˆ†é…èµ„æºï¼‰$ æ­»é”çš„æ£€æµ‹ 1ã€ç”¨æŸç§æ•°æ®ç»“ æ„æ¥ä¿å­˜èµ„æºçš„è¯·æ±‚å’Œåˆ†é…ä¿¡æ¯ 2ã€æä¾›ä¸€ç§ç®—æ³•ï¼Œåˆ©ç”¨ä¸Šè¿°ä¿¡æ¯æ¥æ£€æµ‹ç³»ç»Ÿæ˜¯å¦å·²è¿›å…¥æ­»é”çŠ¶æ€ å¯¹äºä¸€ä¸ªèŠ‚ç‚¹ï¼Œå½“å‰çš„èµ„æºåˆ†é…æ˜¯æ»¡è¶³ä»–çš„è¿›ç¨‹çš„èµ„æºéœ€æ±‚çš„ï¼Œæˆ‘ä»¬å°±å¯ä»¥åˆ é™¤ä»–çš„æ‰€æœ‰çš„è¾¹ æ­»é”çš„è§£é™¤ 1ã€èµ„æºå‰¥å¤ºæ³•ï¼šæŒ‚èµ·æŸäº›æ­»é”è¿›ç¨‹ï¼Œå¹¶æŠ¢å å®ƒçš„èµ„æºï¼Œå°†è¿™äº›èµ„æºåˆ†é…ç»™å…¶ä»–çš„æ­»é”è¿›ç¨‹ã€‚ 2ã€æ’¤é”€è¿›ç¨‹æ³•ï¼šå¼ºåˆ¶æ’¤é”€éƒ¨åˆ†ï¼Œç”šè‡³å…¨éƒ¨æ­»é”è¿›ç¨‹ï¼Œå¹¶å‰¥å¤ºè¿™äº›è¿›ç¨‹çš„èµ„æºã€‚ 3ã€è¿›ç¨‹å›é€€æ³•ï¼šè®©ä¸€ä¸ªæˆ–å¤šä¸ªæ­»é”è¿›ç¨‹å›é€€åˆ°è¶³ä»¥é¿å…æ­»é”çš„åœ°æ­¥ã€‚ å†…å­˜ç®¡ç† 3.1_1 å†…å­˜çš„åŸºç¡€çŸ¥è¯† 1ã€ä»€ä¹ˆæ˜¯å†…å­˜å­˜å‚¨å•å…ƒï¼šæ¯ä¸ªåœ°å€å¯¹åº”ä¸€ä¸ªå­˜å‚¨å•å…ƒå†…å­˜åœ°å€ï¼šå­˜å‚¨å•å…ƒçš„ç¼–å· æŒ‰å­—èŠ‚ç¼–å€ ï¼šä¸€ä¸ªå­˜å‚¨å•å…ƒçš„å¤§å°ä¸ºä¸€ä¸ªå­—èŠ‚ æŒ‰å­—ç¼–å€ï¼šè®¡ç®—æœºçš„å­—é•¿å°±æ˜¯å­—çš„å¤§å° è¡¥å……çŸ¥è¯†ï¼š B:$2^{3}bit$ K:$2^{10}B$ M:$2^{20}B$ G:$2^{30}B$ 2ã€è¿›ç¨‹è¿è¡Œçš„åŸºæœ¬åŸç†æŒ‡ä»¤çš„å·¥ä½œåŸç†ï¼šé€»è¾‘åœ°å€vsç‰©ç†åœ°å€ï¼šé€»è¾‘åœ°å€å°±æ˜¯ç›¸å¯¹åœ°å€ï¼ˆç›¸å¯¹äºè¿›ç¨‹çš„èµ·å§‹åœ°å€è€Œè¨€çš„åœ°å€ï¼‰ï¼Œç‰©ç†åœ°å€æ˜¯ç»å¯¹åœ°å€ ä»å†™ç¨‹åºåˆ°ç¨‹åºè¿è¡Œï¼šç¼–è¾‘(.c)-ç¼–è¯‘(.o)-é“¾æ¥-è£…å…¥ï¼ˆå†…å­˜ï¼‰ å¦‚ä½•ä»é€»è¾‘åœ°å€$\\rightarrow$ ç‰©ç†åœ°å€ (MMU è¿›è¡Œåœ°å€ç¿»è¯‘ â€“ å¯„å­˜å™¨æ˜ å°„) ä¸‰ç§è£…å…¥æ–¹å¼ï¼šç»å¯¹è£…å…¥ï¼ˆåœ¨ç¼–è¯‘çš„æ—¶å€™å°±çŸ¥é“ç¨‹åºæ”¾åœ¨å†…å­˜çš„å“ªä¸ªä½ç½®ï¼‰ã€é™æ€é‡å®šä½ï¼ˆè£…å…¥æ—¶å°†é€»è¾‘åœ°å€è½¬ä¸ºç‰©ç†åœ°å€ï¼Œåœ°å€éœ€è¦è¿ç»­ï¼Œéœ€è¦åˆ†é…è¦æ±‚çš„æ‰€æœ‰ç©ºé—´ï¼‰ã€åŠ¨æ€é‡å®šä½ï¼ˆæŠŠåœ°å€è½¬åŒ–æ¨è¿Ÿåˆ°ç¨‹åºçœŸæ­£è¦æ‰§è¡Œæ—¶æ‰è¿›è¡Œï¼Œéœ€è¦é‡å®šä½å¯„å­˜å™¨å­˜å‚¨è¿›ç¨‹èµ·å§‹åœ°å€ï¼‰ ä¸‰ç§é“¾æ¥æ–¹å¼ é™æ€é“¾æ¥ï¼ˆåœ¨ç¨‹åºè¿è¡Œå‰ï¼Œå…ˆå°†å„ç›®æ ‡æ¨¡å—åŠå®ƒä»¬æ‰€éœ€çš„åº“å‡½æ•°è¿æ¥æˆä¸€ä¸ªå®Œæ•´çš„å¯æ‰§è¡Œæ–‡ä»¶åœ¨è¿›è¡Œè£…å…¥ï¼‰ã€è£…å…¥æ—¶åŠ¨æ€é“¾æ¥ï¼ˆå°†å„ç›®æ ‡æ¨¡å—è£…å…¥å†…å­˜æ—¶ï¼Œè¾¹è£…å…¥è¾¹é“¾æ¥çš„é“¾æ¥æ–¹å¼ï¼‰ã€è¿è¡Œæ—¶åŠ¨æ€é“¾æ¥ï¼ˆåœ¨ç¨‹åºæ‰§è¡Œä¸­éœ€è¦è¯¥æ¨¡å—æ—¶ï¼Œæ‰å¯¹å®ƒè¿›è¡Œé“¾æ¥ï¼Œå…¶ä¼˜ç‚¹æ—¶ä¾¿äºä¿®æ”¹å’Œæ›´æ–°ã€‚ï¼‰ 3.1_2 å†…å­˜ç®¡ç†çš„æ¦‚å¿µ å†…å­˜ç©ºé—´çš„åˆ†é…ä¸å›æ”¶ å†…å­˜ç©ºé—´çš„æ‰©å……ï¼ˆexï¼šè®¡ç®—æœºå†…å­˜åªæœ‰20Gï¼Œä½†æ˜¯æ¸¸æˆè¦100Gï¼‰ exï¼šå†…å­˜çš„è™šæ‹Ÿæ€§ åœ°å€è½¬æ¢ é€»è¾‘åœ°å€å’Œç‰©ç†åœ°å€è½¬æ¢MMU å­˜å‚¨ä¿æŠ¤ è®¾ç½®ä¸Šä¸‹é™å¯„å­˜å™¨ï¼ˆç»™å‡ºè‡ªå·±è¿›ç¨‹æ‰€åœ¨çš„åœ°å€èŒƒå›´ï¼Œé˜²æ­¢è®¿é—®å…¶ä»–è¿›ç¨‹çš„å†…å­˜ï¼‰ é‡‡ç”¨**é‡å®šä½å¯„å­˜å™¨ï¼ˆåŸºå€å¯„å­˜å™¨ï¼‰å’Œç•Œåœ°å€å¯„å­˜å™¨ï¼ˆé™é•¿å¯„å­˜å™¨ï¼‰*8 3.1_3 è¦†ç›–ä¸äº¤æ¢ è¿›ç¨‹æ˜ åƒï¼šä¸åŒä»£ç ä½ç½®å¯¹åº”çš„è™šæ‹Ÿåœ°å€ç©ºé—´ä½ç½®ï¼š è§£é¢˜æ¨¡ç‰ˆ ä¾‹é¢˜ï¼š å†…å­˜ç©ºé—´çš„æ‰©å…… è¦†ç›–æŠ€æœ¯ï¼šå°†ç¨‹åºåˆ†ä¸ºå¤šä¸ªæ®µï¼Œå†…å­˜åˆ†ä¸ºâ€å›ºå®šåŒºâ€œå’Œâ€è¦†ç›–åŒºâ€œï¼Œéœ€è¦å¸¸é©»çš„æ”¾åœ¨â€œå›ºå®šåŒºâ€ï¼Œè°ƒå…¥åå°±ä¸å†è°ƒå‡ºï¼Œä¸å¸¸ç”¨çš„æ®µæ”¾åœ¨â€è¦†ç›–åŒºâ€œï¼Œéœ€è¦ç”¨åˆ°æ—¶è°ƒå…¥å†…å­˜ï¼Œç”¨ä¸åˆ°æ—¶æ‰å‡ºå†…å­˜ï¼ˆä¸åŒæ—¶è®¿é—®çš„ç¨‹åºå¯ä»¥æ”¾åˆ°ä¸€ä¸ª â€œè¦†ç›–åŒºâ€ï¼Œå¿…é¡»å£°æ˜è¦†ç›–ç»“æ„ï¼Œå¯¹ç”¨æˆ·ä¸é€æ˜ï¼‰ äº¤æ¢æŠ€æœ¯ï¼šå†…å­˜ç©ºé—´ç´§å¼ æ—¶ï¼Œç³»ç»Ÿå°†å†…å­˜ä¸­æŸäº›è¿›ç¨‹æš‚æ—¶æ¢å‡ºå¤–å­˜ï¼ŒæŠŠå¤–å­˜ä¸­æŸäº›å·²å…·å¤‡è¿è¡Œæ¡ä»¶çš„è¿›ç¨‹æ¢å…¥å†…å­˜ï¼ˆPCBä¼šå¸¸é©»å†…å­˜ï¼Œä¸ä¼šè¢«æ¢å‡ºï¼‰ IMPORTANT è¿›ç¨‹ä¸ƒçŠ¶æ€æ¨¡å‹ï¼š 3.1_4 è¿ç»­åˆ†é…ç®¡ç†æ–¹å¼ è¿ç»­åˆ†é…æ–¹å¼ å•ä¸€è¿ç»­åˆ†é…ï¼šå†…å­˜è¢«åˆ†é…ä¸ºç³»ç»ŸåŒºå’Œç”¨æˆ·åŒºï¼Œç³»ç»ŸåŒºåœ¨ä½åœ°å€ï¼Œç”¨æˆ·åŒºæ˜¯ä¸€ä¸ªç”¨æˆ·ç‹¬äº« å›ºå®šåˆ†åŒºåˆ†é…ï¼šå°†ç”¨æˆ·åŒºåˆ†å‰²ä¸ºè‹¥å¹²å›ºå®šåˆ†åŒºç»™å„é“ç¨‹åºï¼Œåˆ†å‰²ç­–ç•¥æœ‰åˆ†åŒºå¤§å°ç›¸ç­‰å’Œåˆ†åŒºå¤§å°ä¸ç›¸ç­‰ï¼Œå¯ä»¥å»ºè®®ä¸€ä¸ªåˆ†åŒºè¯´æ˜è¡¨æ¥ç®¡ç†å„ä¸ªåˆ†åŒº(ä¿å­˜å¯¹åº”çš„åˆ†åŒºçš„å¤§å°ï¼Œèµ·å§‹åœ°å€ï¼ŒçŠ¶æ€) åŠ¨æ€åˆ†åŒºåˆ†é…ï¼šå¯å˜åˆ†åŒºåˆ†é…ï¼Œä¸ä¼šé¢„å…ˆåˆ’åˆ†å†…å­˜åˆ†åŒºï¼Œè€Œæ˜¯åœ¨è¿›ç¨‹è£…å…¥å†…å­˜æ—¶ï¼Œæ ¹æ®è¿›ç¨‹çš„å¤§å°åŠ¨æ€åœ°å»ºç«‹åˆ†åŒºï¼Œå¹¶ä½¿åˆ†åŒºçš„å¤§å°æ­£å¥½é€‚åˆè¿›ç¨‹çš„éœ€è¦ã€‚ å†…éƒ¨ç¢ç‰‡ï¼šåˆ†é…ç»™æŸè¿›ç¨‹çš„å†…å­˜åŒºåŸŸä¸­ï¼Œä½†æ˜¯æœ‰äº›éƒ¨åˆ†æ²¡æœ‰ç”¨ä¸Š å¤–éƒ¨ç¢ç‰‡ï¼šæ˜¯æŒ‡å†…å­˜ä¸­çš„æŸäº›ç©ºé—²åˆ†åŒºç”±äºå¤ªå°è€Œéš¾ä»¥åˆ©ç”¨ï¼ˆå¦‚æœæœ‰å¤–éƒ¨ç¢ç‰‡ï¼Œå¯ä»¥é‡‡ç”¨ç´§å‡‘æŠ€æœ¯ï¼‰ 3.1_5 åŠ¨æ€åˆ†åŒºåˆ†é…ç®—æ³• ç©ºé—²åˆ†åŒºçš„é€‰æ‹© 1ã€é¦–æ¬¡é€‚åº”ç®—æ³•ï¼ˆFirst Fit) ç®—æ³•æ€æƒ³ï¼šæ¯æ¬¡ä»ä½åœ°å€å¼€å§‹æŸ¥æ‰¾ï¼Œæ‰¾åˆ°ç¬¬ä¸€ä¸ªèƒ½æ»¡è¶³å¤§å°çš„ç©ºé—²åˆ†åŒºå¸¸ç”¨æ•°æ®ç»“æ„ï¼šç©ºé—²åˆ†åŒºè¡¨å’Œç©ºé—²åˆ†åŒºé“¾ 2ã€æœ€ä½³é€‚åº”ç®—æ³•(Best Fit) ç®—æ³•æ€æƒ³ï¼šä¸ºäº†ä¿è¯â€œå¤§è¿›ç¨‹â€åˆ°æ¥æ—¶èƒ½æœ‰è¿ç»­çš„å¤§ç‰‡åŒºåŸŸï¼Œå¯ä»¥å°½å¯èƒ½ç•™ä¸‹å¤§ç‰‡çš„ç©ºé—²åŒºï¼Œä¼˜å…ˆä½¿ç”¨æ›´å°çš„ç©ºé—²åŒºã€‚ ç©ºé—²åˆ†åŒºæŒ‰å®¹é‡é€’å¢æ¬¡åºé“¾æ¥ï¼Œåˆ†é…å†…å­˜æ—¶é¡ºåºæŸ¥æ‰¾ç©ºé—²åˆ†åŒºé“¾ ç¼ºç‚¹ï¼šä¼šç•™ä¸‹å°ç¢ç‰‡ 3ã€æœ€åé€‚åº”ç®—æ³•(Worst Fit) ç®—æ³•æ€æƒ³ï¼šå’Œæœ€ä½³é€‚åº”ç®—æ³•ç›¸åï¼ŒæŒ‰å®¹é‡é€’å‡æ¬¡åºæ’åˆ—ï¼Œæ¯æ¬¡å°½å¯èƒ½ç”¨å¤§çš„åˆ†åŒº ç¼ºç‚¹ï¼šå¦‚æœå‡ºç°â€œå¤§è¿›ç¨‹â€ï¼Œå°±æ²¡æœ‰å†…å­˜åˆ†åŒºå¯ç”¨ 4ã€é¢†è¿‘é€‚åº”ç®—æ³•(Next Fit) ç®—æ³•æ€æƒ³ï¼šæ¯æ¬¡ä»ä¸Šæ¬¡æŸ¥æ‰¾ç»“æŸçš„ä½ç½®å¼€å§‹æ£€ç´¢ ç¼ºç‚¹ï¼šå¤§ç©ºé—´å®¹æ˜“è¢«ç”¨å®Œ 3.1_6 åŸºæœ¬åˆ†é¡µå­˜å‚¨ç®¡ç†çš„åŸºæœ¬æ¦‚å¿µ ä¸€äº›ç›¸å…³çš„ç®€å•è®¡ç®— ç›¸å…³è®¡ç®— è¿›ç¨‹å¯ä»¥åˆ†ä¸ºå¤šä¸ªé¡µé¢ åˆ†é¡µç®¡ç†ï¼šç‰©ç†åœ°å€= é¡µé¢çš„å…¶å®ä½ç½®ï¼ˆPå·é¡µé¢åœ¨å†…å­˜ä¸­çš„èµ·å§‹åœ°å€ï¼‰+åç§»é‡ï¼ˆé¡µå†…åç§»é‡ï¼‰ $$ é¡µå· = (é€»è¾‘åœ°å€)/(é¡µé¢é•¿åº¦) $$ $$ é¡µå†…åç§»é‡ = (é€»è¾‘åœ°å€) % é¡µé¢é•¿åº¦ $$ ä¾‹é¢˜ï¼š æ¦‚å¿µï¼šå…è®¸ä¸€ä¸ªè¿›ç¨‹åˆ†æ•£åœ°è£…å…¥é“è®¸å¤šä¸ç›¸é‚»çš„ä½ç½® è¿ç»­åˆ†é…ï¼šä¸ºç”¨æˆ·è¿›ç¨‹åˆ†é…è¿ç»­çš„å†…å­˜ç©ºé—´ éè¿ç»­åˆ†é…ï¼šä¸ºç”¨æˆ·è¿›ç¨‹åˆ†é…åˆ†æ•£çš„å†…å­˜ç©ºé—´ å°†å†…å­˜åˆ†ä¸ºå¤§å°ç›¸ç­‰çš„å°åˆ†åŒºâ€œé¡µæ¡†â€ï¼Œå°†ç”¨æˆ·çš„è¿›ç¨‹ç©ºé—´ä¹Ÿåˆ†ä¸ºå¤§å°ç›¸ç­‰çš„ä¸€ä¸ªä¸ªåŒºåŸŸï¼Œä»¥é¡µ æ¡†çš„åŸºæœ¬å•ä½åˆ†é…ç»™æ¯ä¸ªè¿›ç¨‹ç‰‡ è®¡ç®—æœºä¸­ç”¨2çš„æ•´æ•°å€è¡¨ç¤ºé¡µé¢çš„å¤§å° é¡µè¡¨ï¼šå­˜æ”¾é¡µå·å’Œå—å·çš„å¯¹åº”å…³ç³» æ˜“é”™çŸ¥è¯†ç‚¹ï¼šé¡µæ¡†ï¼Œé¡µå¸§ï¼Œå†…å­˜å—ï¼Œç‰©ç†å—ï¼Œç‰©ç†é¡µå·ï¼ˆå†…å­˜åˆ’åˆ†çš„ï¼‰ VS é¡µï¼Œé¡µé¢ï¼ˆè¿›ç¨‹åˆ’åˆ†çš„ï¼‰é¡µæ¡†å·ï¼Œé¡µå¸§å·ï¼Œå†…å­˜å—å·ï¼Œç‰©ç†å—å· VS é¡µå·ï¼Œé¡µé¢å· 3.1_7 åŸºæœ¬åœ°å€å˜æ¢æœºæ„ ä¸¤æ¬¡è®¿å­˜ï¼šä¸€æ¬¡æŸ¥è¯¢é¡µè¡¨ï¼Œä¸€æ¬¡è®¿é—®çœŸå®ç‰©ç†åœ°å€ é¡µè¡¨å¯„å­˜å™¨ï¼ˆPTRï¼‰ï¼šå­˜æ”¾é¡µè¡¨åœ¨å†…å­˜ä¸­çš„èµ·å§‹åœ°å€Få’Œé¡µè¡¨é•¿åº¦Mï¼Œè¿›ç¨‹æœªæ‰§è¡Œæ—¶ï¼Œé¡µè¡¨çš„èµ·å§‹åœ°å€å’Œé¡µè¡¨çš„é•¿åº¦æ”¾åœ¨è¿›ç¨‹æ§åˆ¶å—ï¼ˆPCBï¼‰ä¸­ï¼Œå½“è¿›ç¨‹è¢«è°ƒåº¦æ—¶ï¼Œæ“ä½œç³»ç»Ÿå†…æ ¸ä¼šæŠŠå®ƒä»¬æ”¾åœ¨é¡µè¡¨å¯„å­˜å™¨ä¸­ã€‚ å›°éš¾ æ˜“æ··æ·†æ¦‚å¿µï¼š ä¸€ä¸ªé¡µè¡¨ä¸­æœ‰å¾ˆå¤šä¸ªå†…å­˜å— é¡µè¡¨å…¶å®å°±æ˜¯ä¸€å¼ è¡¨é‡Œé¢å­˜å‚¨äº†æ‰€æœ‰é¡µé¢çš„èµ·å§‹åœ°å€ï¼Œå­˜å‚¨äº†æ¯å·é¡µé¢çš„å†…å­˜å—å· é¡µè¡¨é¡¹åœ°å€ï¼›é¡µè¡¨èµ·å§‹åœ°å€F + é¡µå·P * é¡µè¡¨é¡¹é•¿åº¦ é¡µè¡¨é¡¹æ˜¯æŒ‡å‘ç‰©ç†åœ°å€çš„è™šæ‹Ÿåœ°å€ é¡µè¡¨é•¿åº¦ï¼šé¡µè¡¨ä¸­æœ‰å‡ ä¸ªé¡µè¡¨é¡¹ï¼šæ€»å…±æœ‰å‡ é¡µ é¡µè¡¨é¡¹é•¿åº¦ï¼šæ¯ä¸ªé¡µè¡¨é¡¹æ‰€å çš„å†…å­˜ ç›¸å…³è®¡ç®—ï¼š **é¡µå†…åç§»é‡ $\\rightarrow$ é¡µé¢å¤§å° 3.1_8 å…·æœ‰å¿«è¡¨çš„åœ°å€å˜æ¢æœºæ„ 1ã€å±€éƒ¨æ€§åŸç†æ—¶é—´å±€éƒ¨æ€§ï¼šè®¿é—®æŸä¸ªå˜é‡ï¼ˆæŒ‡ä»¤ï¼‰åï¼Œåœ¨ä¸ä¹…çš„å°†æ¥è¿˜ä¼šè¢«è®¿é—® ç©ºé—´å±€éƒ¨æ€§ï¼šç¨‹åºè®¿é—®äº†æŸä¸ªå­˜å‚¨å•å…ƒï¼Œä¸ä¹…ä¹‹åï¼Œå…¶é™„è¿‘çš„å­˜å‚¨å•å…ƒä¹Ÿå¾ˆæœ‰å¯èƒ½è¢«è®¿é—® 2ã€ä»€ä¹ˆæ˜¯å¿«è¡¨ï¼ˆTLBï¼‰ å¿«è¡¨ï¼šåˆç§°è”æƒ³å¯„å­˜å™¨ï¼ˆTLBï¼‰ï¼Œæ˜¯ä¸€ç§è®¿é—®é€Ÿåº¦æ¯”å†…å­˜å¿«å¾ˆå¤šçš„é«˜é€Ÿç¼“å†²å­˜å‚¨å™¨ï¼ˆé«˜é€Ÿç¼“å­˜ï¼‰ï¼Œç”¨æ¥å­˜æ”¾å½“å‰è®¿é—®çš„è‹¥å¹²é¡µè¡¨é¡¹ï¼Œä»¥åŠ é€Ÿåœ°å€å˜æ¢çš„è¿‡ç¨‹ã€‚ä¸æ­¤å¯¹åº”ï¼Œå†…å­˜ä¸­çš„é¡µè¡¨å¸¸ç§°ä¸ºæ…¢è¡¨ã€‚ 3ã€å¼•å…¥å¿«è¡¨åï¼Œåœ°å€çš„å˜æ¢è¿‡ç¨‹ 3.1_9 ä¸¤çº§é¡µè¡¨ 1ã€å•çº§é¡µè¡¨å­˜åœ¨ä»€ä¹ˆé—®é¢˜ï¼Ÿå¦‚ä½•è§£å†³ï¼Ÿ æ‰€æœ‰é¡µè¡¨é¡¹å¿…é¡»è¿ç»­å­˜æ”¾ï¼Œé¡µè¡¨è¿‡å¤§æ—¶éœ€è¦å¾ˆå¤§çš„è¿ç»­ç©ºé—´ åœ¨ä¸€æ®µæ—¶é—´å†…å¹¶éæ‰€æœ‰é¡µé¢éƒ½ç”¨å¾—åˆ°ï¼Œå› æ­¤æ²¡å¿…è¦è®©æ•´ä¸ªé¡µè¡¨å¸¸é©»å†…å­˜ 2ã€ä¸¤çº§é¡µè¡¨çš„åŸç†ã€é€»è¾‘åœ°å€ç»“æ„ å°†é•¿é•¿çš„é¡µè¡¨å†åˆ†é¡µ é€»è¾‘åœ°å€ç»“æ„ï¼šï¼ˆä¸€çº§é¡µå·ã€äºŒçº§é¡µå·ã€é¡µå†…åç§»é‡ï¼‰ é¡µç›®å½•è¡¨ã€å¤–å±‚é¡µè¡¨ã€é¡¶çº§é¡µè¡¨ 3ã€å¦‚ä½•å®ç°åœ°å€å˜æ¢ï¼Ÿ ï¼ˆå¤–é¡µè¡¨é¡¹ $\\rightarrow$å†…é¡µè¡¨é¡¹çš„å­˜æ”¾ä½ç½® $\\rightarrow$ å†…å­˜å— $\\rightarrow$ æ ¹æ®åç§»é‡å¾—åˆ°ç‰©ç†åœ°å€ï¼‰ æŒ‰ç…§åœ°å€ç»“æ„å°†é€»è¾‘åœ°å€æ‹†åˆ†æˆä¸‰éƒ¨åˆ† ä»PCBä¸­è¯»å‡ºé¡µç›®å½•è¡¨å§‹å€ï¼Œæ ¹æ®ä¸€çº§é¡µå·æŸ¥é¡µç›®å½•è¡¨ï¼Œæ‰¾åˆ°ä¸‹ä¸€çº§é¡µè¡¨åœ¨å†…å­˜ä¸­çš„å­˜æ”¾ä½ç½® æ ¹æ®äºŒçº§é¡µå·æŸ¥è¡¨ï¼Œæ‰¾åˆ°æœ€ç»ˆæƒ³è®¿é—®çš„å†…å­˜å—å· ç»“åˆé¡µå†…åç§»é‡å¾—åˆ°ç‰©ç†åœ°å€ 4ã€ä¸¤çº§é¡µè¡¨é—®é¢˜éœ€è¦æ³¨æ„çš„å‡ ä¸ªç»†èŠ‚ å¤šçº§é¡µè¡¨ä¸­ï¼Œå„çº§é¡µè¡¨çš„å¤§å°ä¸èƒ½è¶…è¿‡ä¸€ä¸ªé¡µé¢ã€‚è‹¥ä¸¤çº§é¡µè¡¨ä¸å¤Ÿï¼Œå¯ä»¥åˆ†æ›´å¤šçº§ ä¸ºä»€ä¹ˆé¡µé¢åç§»é‡ä¸º 12ä½ï¼Ÿ å› ä¸º æŒ‰å­—èŠ‚ç¼–åˆ¶ï¼Œé¡µé¢ä¸­çš„æ¯ä¸€è¡Œå°±åªæœ‰ä¸€ä¸ªå­—èŠ‚B å¤šçº§é¡µè¡¨çš„è®¿é—®æ¬¡æ•°ï¼ˆå‡è®¾æ²¡æœ‰å¿«è¡¨ç»“æ„ï¼‰â€”â€”Nçº§é¡µè¡¨è®¿é—®ä¸€ä¸ªé€»è¾‘åœ°å€éœ€è¦N+1æ¬¡è®¿å­˜ 3.1_10 åŸºæœ¬åˆ†æ®µå­˜å‚¨ç®¡ç†æ–¹å¼ 1ã€ä»€ä¹ˆæ˜¯åˆ†æ®µï¼Ÿ è¿›ç¨‹çš„åœ°å€ç©ºé—´ï¼šæŒ‰ç…§ç¨‹åºè‡ªèº«çš„é€»è¾‘å…³ç³»åˆ’åˆ†ä¸ºè‹¥å¹²ä¸ªæ®µï¼Œæ¯æ®µæœ‰æ®µåï¼Œæ¯æ®µä»0å¼€å§‹ç¼–å€ æ®µå·çš„ä½æ•°å†³å®šäº†æ¯ä¸ªè¿›ç¨‹æœ€å¤šå¯ä»¥åˆ†å‡ ä¸ªæ®µ æ®µå†…åœ°å€ä½æ•°å†³å®šäº†æ¯ä¸ªæ®µçš„æœ€å¤§é•¿åº¦æ˜¯å¤šå°‘ç›¸å½“äºå¤„äº ç¬¬å‡ æ®µ å’Œ è¿™ä¸€æ®µçš„å“ªä¸ªä½ç½® 2ã€ä»€ä¹ˆæ˜¯æ®µè¡¨æ®µè¡¨ï¼šæ®µæ˜ å°„è¡¨ï¼ˆmap: map[i] ç¬¬i å·æ®µçš„èµ·å§‹ä½ç½®ï¼‰ æ¯ä¸ªç¨‹åºè¢«åˆ†æ®µåï¼Œç”¨æ®µè¡¨è®°å½•è¯¥ç¨‹åºåœ¨å†…å­˜ä¸­å­˜æ”¾çš„ä½ç½® æ®µè¡¨ï¼š(æ®µå·) æ®µé•¿ åŸºå€ 3ã€å¦‚ä½•å®ç°åœ°å€å˜æ¢ æ³¨æ„å„ä¸ªæ®µçš„é•¿åº¦ä¸ä¸€æ ·ï¼Œæ‰€ä»¥ä¼šè¿›è¡Œæ£€æµ‹æ®µå†…åœ°å€æ˜¯å¦è¶…è¿‡æ®µé•¿ 4ã€åˆ†æ®µã€åˆ†é¡µç®¡ç†çš„å¯¹æ¯” é¡µï¼šä¿¡æ¯çš„ç‰©ç†å•ä½ï¼Œå®ç°ç¦»æ•£åˆ†é…ï¼Œæé«˜å†…å­˜åˆ©ç”¨ç‡ï¼Œåœ°å€æ˜¯ä¸€ç»´çš„ï¼Œè®¿å­˜ä¸¤æ¬¡ æ®µï¼šä¿¡æ¯çš„é€»è¾‘å•ä½ï¼Œå¯¹ç³»ç»Ÿå¯è§ï¼Œåœ°å€æ˜¯äºŒç»´çš„ï¼Œè®¿å­˜3æ¬¡åˆ†æ®µæ¯”åˆ†é¡µæ›´å®¹æ˜“å®ç°ä¿¡æ¯çš„å…±äº«å’Œä¿æŠ¤ï¼ˆä¸èƒ½è¢«ä¿®æ”¹çš„ä»£ç ç§°ä¸ºçº¯ä»£ç å’Œå¯é‡å…¥ä»£ç  æ‰å¯ä»¥è¢«å…±äº«è®¿é—®ï¼Œä¸å±äºä¸´ç•Œèµ„æºï¼‰ WHYï¼š å› ä¸ºåˆ†é¡µæ˜¯ç‰©ç†æ¨¡å—åˆ’åˆ†çš„ï¼Œè€Œåˆ†æ®µæ˜¯æŒ‰ç…§é€»è¾‘æ¨¡å—è¿›è¡Œåˆ’åˆ†çš„ã€‚ 3.1_11 æ®µé¡µå¼çš„ç®¡ç†æ–¹å¼ 1ã€åˆ†é¡µã€åˆ†æ®µç®¡ç†æ–¹å¼æœ€å¤§çš„ä¼˜ç¼ºç‚¹ åˆ†é¡µï¼šå†…å­˜ç©ºé—´åˆ©ç”¨ç‡é«˜ï¼Œç¢ç‰‡å°‘ï¼Œä¸æ–¹ä¾¿è¿›è¡Œä¿¡æ¯å…±äº«å’Œä¿æŠ¤ åˆ†æ®µï¼šæ–¹ä¾¿ä¿¡æ¯å…±äº«å’Œä¿æŠ¤ï¼Œå¦‚æœæ®µé•¿å¤§ï¼Œå®¹æ˜“äº§ç”Ÿå¤–éƒ¨ç¢ç‰‡ 2ã€åˆ†æ®µ+åˆ†é¡µçš„ç»“åˆâ€”â€”æ®µé¡µå¼ç®¡ç†æ–¹å¼ å…ˆåˆ†æ®µå†åˆ†é¡µ æ®µå· + é¡µå· + é¡µå†…åç§»é‡ è®¡ç®—ç‚¹ æ®µå·çš„ä½æ•°å†³å®šäº†æ¯ä¸ªè¿›ç¨‹æœ€å¤šå¯ä»¥åˆ†å‡ ä¸ªæ®µ é¡µå·ä½å†³å®šäº†æ¯ä¸ªæ®µæœ€å¤§æœ‰å¤šå°‘é¡µ é¡µå†…åç§»é‡å†³å®šäº†é¡µé¢å¤§å°ï¼Œå†…å­˜å—å¤§å° åœ°å€ç»“æ„æ˜¯äºŒç»´çš„åˆ†æ®µï¼ˆæ®µå·ï¼Œæ®µå†…åœ°å€ï¼‰æ˜¯ç”¨æˆ·å¯è§çš„ï¼Œåˆ†é¡µæ˜¯ç³»ç»Ÿè‡ªåŠ¨æ ¹æ®æ®µå†…åœ°å€è¿›è¡Œåˆ’åˆ†çš„ï¼ˆè¿ç»­ï¼‰ 3ã€æ®µè¡¨ã€é¡µè¡¨ 4ã€å¦‚ä½•å®ç°åœ°å€å˜æ¢ 3.2_1 è™šæ‹Ÿå†…å­˜çš„åŸºæœ¬æ¦‚å¿µ 1ã€ä¼ ç»Ÿå­˜å‚¨ç®¡ç†æ–¹å¼çš„ç‰¹å¾ã€ç¼ºç‚¹ä¹‹å‰è®²çš„ä¸€æ¬¡æ€§ï¼šä½œä¸šå¿…é¡»å…¨éƒ¨è£…å…¥å†…å­˜åæ‰èƒ½å¼€å§‹è¿è¡Œï¼Œå¹¶å‘æ€§ä¸‹é™ é©»ç•™æ€§ï¼šä¸€æ—¦ä½œä¸šè¢«è£…å…¥å†…å­˜ï¼Œå°±ä¼šä¸€ç›´é©»ç•™åœ¨å†…å­˜ï¼Œä½†æ˜¯å¯èƒ½è¿è¡Œåªéœ€è¦ä½œä¸šçš„ä¸€éƒ¨åˆ†æ•°æ® IMPORTANT 2ã€å±€éƒ¨æ€§åŸç† æ—¶é—´å±€éƒ¨æ€§ ç©ºé—´å±€éƒ¨æ€§ é«˜é€Ÿç¼“å­˜æŠ€æœ¯ 3ã€è™šæ‹Ÿå†…å­˜çš„å®šä¹‰å’Œç‰¹å¾ æ¦‚å¿µï¼šè™šæ‹Ÿå†…å­˜æœ€å¤§å®¹é‡æ˜¯è®¡ç®—æœºåœ°å€ç»“æ„ç¡®å®šçš„ è™šæ‹Ÿå†…å­˜çš„å®é™…å®¹é‡=min(å†…å­˜å’Œå¤–å­˜å®¹é‡ä¹‹å’Œï¼ŒCPUå¯»å€èŒƒå›´) egï¼šæŸè®¡ç®—æœºåœ°å€ç»“æ„ä¸º32ä½ï¼ŒæŒ‰å­—èŠ‚ç¼–å€ï¼Œå†…å­˜å¤§å°ä¸º512MBï¼Œå¤–å­˜å¤§å°ä¸º2GB. åˆ™è™šæ‹Ÿå†…å­˜çš„æœ€å¤§å®¹é‡ä¸º 2^32B=4GB è™šæ‹Ÿå†…å­˜çš„å®é™…å®¹é‡=min(2^32B,512MB+2GB)=2GB+512MB ç‰¹å¾ï¼š å¤šæ¬¡æ€§ï¼šæ— éœ€åœ¨ä½œä¸šè¿è¡Œæ—¶ä¸€æ¬¡æ€§å…¨éƒ¨è£…å…¥å†…å­˜ï¼Œè€Œæ˜¯å…è®¸è¢«åˆ†æˆå¤šæ¬¡è°ƒç”¨å†…å­˜ å¯¹æ¢æ€§ï¼šåœ¨ä½œä¸šè¿è¡Œæ—¶æ— éœ€ä¸€ç›´å¸¸é©»å†…å­˜ï¼Œè€Œæ˜¯å…è®¸åœ¨ä½œä¸šè¿è¡Œè¿‡ç¨‹ä¸­ï¼Œå°†ä½œä¸šæ¢å…¥æ¢å‡º è™šæ‹Ÿæ€§ï¼šä»é€»è¾‘ä¸Šæ‰©å……äº†å†…å­˜çš„å®¹é‡ï¼Œä½¿ç”¨æˆ·çœ‹åˆ°çš„å†…å­˜å®¹é‡ï¼Œè¿œå¤§äºå®é™…çš„å®¹é‡ 4ã€å¦‚ä½•å®ç°è™šæ‹Ÿå†…å­˜æŠ€æœ¯ åœ¨ç¨‹åºæ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œå½“æ‰€è®¿é—®çš„ä¿¡æ¯ä¸å†å†…å­˜æ—¶ï¼Œç”±æ“ä½œç³»ç»Ÿè´Ÿè´£å°†æ‰€éœ€ä¿¡æ¯ä»å¤–å­˜è°ƒå…¥å†…å­˜ï¼Œç„¶åç»§ç»­æ‰§è¡Œç¨‹åºã€‚(è¯·æ±‚è°ƒé¡µ) è‹¥å†…å­˜ç©ºé—´ä¸å¤Ÿï¼Œç”±æ“ä½œç³»ç»Ÿè´Ÿè´£å°†å†…å­˜ä¸­æš‚æ—¶ç”¨ä¸åˆ°çš„ä¿¡æ¯æ¢å‡ºåˆ°å¤–å­˜ã€‚ï¼ˆç½®æ¢åŠŸèƒ½ï¼‰ 3.2_2 è¯·æ±‚åˆ†é¡µç®¡ç†æ–¹å¼ 1ã€é¡µè¡¨æœºåˆ¶ è¯·æ±‚åˆ†é¡µå­˜å‚¨çš„é¡µè¡¨ï¼šå†…å­˜å—å· çŠ¶æ€ä½ è®¿é—®å­—æ®µ ä¿®æ”¹ä½ å¤–å­˜åœ°å€ 2ã€ç¼ºé¡µä¸­æ–­æœºæ„æŸ¥è¯¢é¡µè¡¨ä¸å­˜åœ¨å†…å­˜ä¸­ï¼Œä¼šäº§ç”Ÿç¼ºé¡µä¸­æ–­ï¼Œé€šè¿‡é¡µé¢ç½®æ¢ç®—æ³•è¿›è¡Œé¡µé¢æ·˜æ±° å†…ä¸­æ–­ï¼Œå¯è¢«ä¿®å¤ 3ã€åœ°å€å˜æ¢æœºæ„ æ•´ä½“æµç¨‹ 3.2_3 é¡µé¢ç½®æ¢ç®—æ³• æ¢å‡ºç£ç›˜éœ€è¦ I/Oå¤§é‡çš„æ¶ˆè´¹ ç¼ºé¡µä¸­æ–­ ä¸ç­‰äº å†…å­˜ç½®æ¢ï¼Œå› ä¸ºå†…å­˜ç½®æ¢æ˜¯å†…å­˜å—æ»¡äº†çš„æƒ…å†µä¸‹ 1ã€æœ€ä½³ç½®æ¢ç®—æ³•ï¼ˆOPTï¼‰ æ‰¾å‡ºæœ€åæ‰å‡ºç°çš„é¡µé¢å¹¶æ·˜æ±° æ¯æ¬¡é€‰æ‹©æ·˜æ±°çš„é¡µé¢æ˜¯ä»¥åæ°¸ä¸ä½¿ç”¨æˆ–è€…åœ¨æœ€é•¿æ—¶é—´å†…ä¸å†è¢«è®¿é—®çš„é¡µé¢ï¼Œè¿™æ ·å¯ä»¥ä¿è¯æœ€ä½çš„ç¼ºé¡µç‡ã€‚é—®é¢˜ï¼š å®é™…ä¸Šä¸çŸ¥é“åé¢çš„åºåˆ—ï¼ˆç†æƒ³åŒ–ç®—æ³•ï¼‰ 2ã€å…ˆè¿›å…ˆå‡ºç½®æ¢ç®—æ³•ï¼ˆFIFOï¼‰ æ¯æ¬¡é€‰æ‹©æ·˜æ±°çš„é¡µé¢æ˜¯æœ€æ—©è¿›å…¥å†…å­˜çš„é¡µé¢ é—®é¢˜ï¼š Beladyå¼‚å¸¸ï¼Œå½“åˆ†é…çš„å†…å­˜å—å¢å¤§æ—¶ï¼Œç¼ºé¡µæ¬¡æ•°åè€Œå¢åŠ  å› ä¸ºå…ˆè¿›å…¥çš„é¡µé¢å¯èƒ½åé¢ä¼šè¢«è®¿é—®åˆ°ï¼ˆå±€éƒ¨æ€§åŸç†ï¼‰ 3ã€æœ€è¿‘æœ€ä¹…æœªä½¿ç”¨ç½®æ¢ç®—æ³•ï¼ˆLRUï¼‰ æ¯æ¬¡æ·˜æ±°æœ€è¿‘æœ€ä¹…æœªä½¿ç”¨çš„é¡µé¢ è®°å½•ä¸Šæ¬¡è®¿é—®åˆ°ç°åœ¨çš„æ—¶é—´ï¼Œæ·˜æ±°æ—¶é—´æœ€å¤§çš„ æ€§èƒ½å¥½ï¼Œä½†æ˜¯éœ€è¦ç¡¬ä»¶æ”¯æŒï¼Œç®—æ³•å¼€é”€å¤§ 4ã€æ—¶é’Ÿç½®æ¢ç®—æ³•ï¼ˆæœ€è¿‘æœªç”¨ç®—æ³•ï¼ŒCLOCKï¼‰ ç®€å•çš„ï¼šæœ€å¤šç»å†ä¸¤è½®æ‰«æï¼Œåˆå§‹ä¸º1ï¼ˆè®¿é—®è¿‡ï¼‰ï¼Œæ‰«ä¸€ä¸‹ä¸º0ï¼ˆæ²¡æœ‰è®¿é—®è¿‡ï¼‰ï¼Œå†æ‰«ä¸€ä¸‹è¢«è¸¢ ç¬¬ä¸€è½®æ‰«æä¼šç»™æ‰€æœ‰çš„ 1å˜æˆ0ï¼Œè®¿é—®åˆ°0ï¼Œæ·˜æ±°è¿™ä¸ªé¡µé¢ï¼Œå°†æ–°é¡µé¢ç½®æ¢åˆ°æ·˜æ±°çš„é¡µé¢çš„ä½ç½®ï¼Œè®©å°†è¿™ä¸ªé¡µé¢è®¿é—®æ”¹æˆ1 ç¼ºç‚¹ï¼šæ²¡æœ‰è€ƒè™‘é¡µé¢æ˜¯å¦è¢«ä¿®æ”¹è¿‡ï¼ˆä¼šå¢å¤§å¼€é”€ï¼‰ 5ã€æ”¹è¿›å‹çš„æ—¶é’Ÿç½®æ¢ç®—æ³• å¦‚æœæ·˜æ±°çš„é¡µé¢æ²¡æœ‰è¢«ä¿®æ”¹è¿‡ï¼Œå°±ä¸éœ€è¦æ‰§è¡Œ I/O æ“ä½œï¼Œå†™å›å¤–å­˜ 00 è¡¨ç¤ºæ²¡æœ‰è¢«è®¿é—®è¿‡ï¼ˆç¬¬ä¸€ä¸ª0ï¼‰ï¼Œæ²¡æœ‰è¢«ä¿®æ”¹è¿‡ï¼ˆç¬¬äºŒä¸ª0ï¼‰ å…ˆæ‰¾ 00 $\\rightarrow 01\\text{ï¼ˆå°†æ‰€æœ‰çš„è®¿é—®ä½ï¼ˆç¬¬ä¸€ä¸ªå…¨è¢«è®¾ç½®ä¸º0ï¼‰ï¼‰} \\rightarrow 00 \\rightarrow 01$ ä¼˜å…ˆæ·˜æ±°æ²¡æœ‰è¢«ä¿®æ”¹è¿‡çš„ï¼Œå› ä¸ºæ²¡æœ‰ä¿®æ”¹è¿‡çš„ä¸ç”¨è¿›è¡ŒIOæ“ä½œ00-&gt;01ï¼ˆæ”¹ï¼‰-&gt;00-&gt;01 ç®—æ³•å¼€é”€å°ï¼Œæ€§èƒ½ä¹Ÿä¸é”™ 3.2_4 é¡µé¢åˆ†é…ç­–ç•¥ 1ã€é©»ç•™é›†æŒ‡è¯·æ±‚åˆ†é¡µå­˜å‚¨ç®¡ç†ä¸­ç»™è¿›ç¨‹åˆ†é…çš„ç‰©ç†å—çš„é›†åˆï¼ˆç›¸å½“äºç»™è¿›ç¨‹åˆ†çš„å†…å­˜ï¼‰ é©»ç•™é›†å¤ªå¤§ï¼šå¤šé“ç¨‹åºå¹¶å‘åº¦ä¸‹é™ï¼Œèµ„æºåˆ©ç”¨ç‡é™ä½ é©»ç•™é›†å¤ªå°ï¼šç¼ºé¡µé¢‘ç¹ï¼Œæ•ˆç‡ä½ï¼ŒèŠ±è´¹å¤§ 2ã€é¡µé¢åˆ†é…ã€ç½®æ¢ç­–ç•¥ å›ºå®šåˆ†é…å±€éƒ¨æ›¿æ¢ï¼šé©»ç•™é›†å¤§å°ä¸å¯æ”¹å˜ï¼Œåœ¨å†…å­˜ä¸­ï¼ˆå±äºè¿›ç¨‹ï¼‰çš„é¡µé¢è¿›è¡Œè°ƒæ¢ å¯å˜åˆ†é…å…¨å±€æ›¿æ¢ï¼šå¯ä»¥å°†æ“ä½œç³»ç»Ÿä¿ç•™çš„ç©ºé—²ç‰©ç†å—åˆ†é…ç»™ç¼ºé¡µè¿›ç¨‹ å¯å˜åˆ†é…å±€éƒ¨æ›¿æ¢ï¼šåªèƒ½é€‰è¿›ç¨‹è‡ªå·±çš„ç‰©ç†å—ç½®æ¢ï¼ˆç³»ç»Ÿåé¢å¯èƒ½ä¼šçœ‹ä»–å¯æ€œå¤šç»™ä»–ç‰©ç†å—ï¼‰ 3ã€è°ƒå…¥é¡µé¢çš„æ—¶æœº é¢„è°ƒé¡µç­–ç•¥ï¼šä¸€æ¬¡è°ƒç”¨è‹¥å¹²ä¸ªç›¸é‚»é¡µé¢ï¼Œè¿è¡Œå‰è°ƒå…¥ è¯·æ±‚è°ƒé¡µç­–ç•¥ï¼šè¿è¡Œæ—¶ç¼ºé¡µå†è°ƒå…¥ 4ã€ä»ä½•å¤„è°ƒé¡µ å¯¹æ¢åŒºï¼šå¿«ï¼Œé‡‡ç”¨è¿ç»­åˆ†é…æ–¹å¼ æ–‡ä»¶åŒºï¼šæ…¢ï¼Œé‡‡ç”¨ç¦»æ•£åˆ†é…æ–¹å¼ 5ã€æŠ–åŠ¨ï¼ˆé¢ ç°¸ï¼‰ç°è±¡ åˆšåˆšæ¢å‡ºé¡µé¢çš„åˆè¦æ¢å…¥å†…å­˜ï¼Œåˆšåˆšæ¢å…¥çš„é¡µé¢åˆè¦æ¢å‡ºå†…å­˜ï¼Œç‰©ç†å—ä¸å¤Ÿï¼ˆè¿›ç¨‹é¢‘ç¹è®¿é—®ï¼‰ åŸå› ï¼šåˆ†é…ç»™è¿›ç¨‹çš„ç‰©ç†å—ä¸å¤Ÿ 6ã€å·¥ä½œé›† æŒ‡åœ¨æŸæ®µæ—¶é—´é—´éš”é‡Œï¼Œè¿›ç¨‹å®é™…è®¿é—®é¡µé¢çš„é›†åˆï¼ˆä¸€ä¸ªçª—å£ï¼‰ å¯ä»¥æ ¹æ®å·¥ä½œé›†æ¥è¿›è¡Œé¡µé¢æ·˜æ±°ï¼ˆä¸åœ¨å·¥ä½œé›†ä¸­ --å±€éƒ¨æ€§åŸç†ï¼‰ 3.2_7 å†…å­˜æ˜ å°„æ–‡ä»¶ æ“ä½œç³»ç»Ÿå‘ä¸Šå±‚ç¨‹åºå‘˜æä¾›çš„åŠŸèƒ½ï¼ˆç³»ç»Ÿè°ƒç”¨ï¼‰ æ–¹ä¾¿ç¨‹åºå‘˜è®¿é—®æ–‡ä»¶æ•°æ® å®ç°æ–‡ä»¶æ•°æ®å…±äº« æ–‡ä»¶ç®¡ç† 4.1_1 åˆè¯†æ–‡ä»¶ç®¡ç† åŸºç¡€ç»“æ„ æ–‡ä»¶å­˜æ”¾åœ¨å¤–å­˜ä¹‹ä¸­ 4.1_2 æ–‡ä»¶çš„é€»è¾‘ç»“æ„ é€»è¾‘ç»“æ„ï¼šåœ¨ç”¨æˆ·çœ‹æ¥ï¼Œæ–‡ä»¶æ•°æ®æ˜¯æ€ä¹ˆç»„ç»‡èµ·æ¥çš„ç‰©ç†ç»“æ„ï¼šåœ¨æ“ä½œç³»ç»Ÿçœ‹ï¼Œæ–‡ä»¶æ•°æ®æ˜¯æ€ä¹ˆå­˜æ”¾åœ¨å¤–å­˜ä¸­ 1ã€æ— ç»“æ„æ–‡ä»¶æ–‡ä»¶ç”±ä¸€ç³»åˆ—äºŒè¿›åˆ¶æ–‡ä»¶æµç»„æˆ 2ã€æœ‰ç»“æ„æ–‡ä»¶ï¼ˆè®°å½•å¼æ–‡ä»¶ã€Œé¡ºåºæ–‡ä»¶ã€ï¼‰ é¡ºåºæ–‡ä»¶ï¼šæ–‡ä»¶ä¸­çš„è®°å½•ä¸€ä¸ªæ¥ä¸€ä¸ªé¡ºåºæ’åˆ—ï¼Œå®šé•¿æˆ–å˜é•¿ï¼Œå¯ä»¥é¡ºåºå­˜å‚¨æˆ–è€…é“¾å¼å­˜å‚¨ ä¸²ç»“æ„ï¼šè®°å½•ä¹‹é—´çš„é¡ºåºä¸å…³é”®å­—æ— å…³ï¼ˆä¸€èˆ¬æ˜¯æ ¹æ®æ—¶é—´æ’åºï¼‰ é¡ºåºç»“æ„ï¼šè®°å½•ä¹‹é—´çš„é¡ºåºæŒ‰å…³é”®å­—é¡ºåºæ’åˆ— é“¾å¼å­˜å‚¨ï¼šæ— æ³•éšæœºå­˜å– é¡ºåºå­˜å‚¨ï¼š å¯å˜é•¿ï¼šæ— æ³•éšæœºå­˜å– å®šé•¿ï¼šå¯ä»¥éšæœºå­˜å–ï¼Œ ä¸²ç»“æ„ï¼Œæ— æ³•å¿«é€Ÿæ‰¾åˆ°å…³é”®å­—ï¼› é¡ºåºç»“æ„ï¼Œå¯ä»¥å¿«é€ŸæŸ¥æ‰¾å…³é”®å­—ï¼ˆæŠ˜åŠæŸ¥æ‰¾ï¼‰ ç´¢å¼•æ–‡ä»¶ï¼šç´¢å¼•è¡¨æœ¬èº«æ˜¯å®šé•¿çš„é¡ºåºæ–‡ä»¶å»ºç«‹ä¸€ä¸ªç´¢å¼•è¡¨ï¼Œå®šé•¿è®°å½•çš„é¡ºåºæ–‡ä»¶ ç´¢å¼•é¡ºåºæ–‡ä»¶ï¼šå¤šçº§ç´¢å¼•è¡¨åµŒå¥—æŸ¥æ‰¾ï¼ˆé€šè¿‡å¤šçº§åˆ†ç»„æ¥åŠ é€ŸæŸ¥æ‰¾æ•ˆç‡ï¼‰ å¦‚ä½•è®¡ç®—ç´¢å¼•æŸ¥æ‰¾æ¬¡æ•°ï¼Ÿ æ ¹æ®ä¸€ä¸ªå±æ€§è¿›è¡Œåˆ†ç»„ï¼Œæ¥å¯¹åº”æ˜ å°„ï¼Œä¸²ç»“æ„çš„é¡ºåºæ–‡ä»¶ 4.1_3 æ–‡ä»¶ç›®å½• 1ã€æ–‡ä»¶æ§åˆ¶å—ï¼ˆFCBï¼‰æœç´¢ã€åˆ›å»ºæ–‡ä»¶ã€åˆ é™¤æ–‡ä»¶ã€æ˜¾ç¤ºç›®å½•ã€ä¿®æ”¹ç›®å½• FCBæ˜¯ä¸€ä¸ªæ–‡ä»¶ç›®å½•é¡¹ï¼Œå­˜å‚¨äº†æ–‡ä»¶çš„åŸºæœ¬ä¿¡æ¯ï¼Œå­˜å–æ§åˆ¶ä¿¡æ¯ï¼Œä½¿ç”¨ä¿¡æ¯ã€‚å¤šä¸ªFCBç»„æˆæ–‡ä»¶ç›®å½• 2ã€ç›®å½•ç»“æ„ å•çº§ç›®å½•ç»“æ„å®ç°æŒ‰åå­˜å–ï¼Œä¸å…è®¸æ–‡ä»¶é‡å ä¸¤çº§ç›®å½•ç»“æ„â€‹ ä¸»æ–‡ä»¶ç›®å½•ï¼ˆMFDï¼‰+ç”¨æˆ·æ–‡ä»¶ç›®å½•ï¼ˆUFDï¼‰-- å…è®¸ä¸åŒç”¨æˆ·çš„æ–‡ä»¶é‡åï¼Œä¹Ÿå¯ä»¥å®ç°è®¿é—®é™åˆ¶ğŸš« å¤šçº§ç›®å½•ç»“æ„ï¼ˆæ ‘å½¢ç›®å½•ç»“æ„ï¼‰ ç”¨æ ‡è¯†ç¬¦ â€˜/â€™ éš”å¼€ å½“ä»£æ“ä½œç³»ç»Ÿé‡‡ç”¨æ–¹æ³•ã€ä¸ä¾¿äºæ–‡ä»¶å…±äº« ç›¸å¯¹è·¯å¾„ï¼šä»å½“å‰è·¯å¾„å‡ºå‘ï¼ˆå‡å°‘ I/O æ¶ˆè€—ï¼‰ ç»å¯¹è·¯å¾„ï¼šä»æ ¹ç›®å½•å‡ºå‘ æ— ç¯å›¾ç›®å½•ç»“æ„ å¯ä»¥å…±äº«ï¼Œå¤åˆ¶ ä¸ç­‰äº å…±äº«æ–‡ä»¶ 3ã€ç´¢å¼•èŠ‚ç‚¹ï¼ˆå¯¹æ–‡ä»¶æ§åˆ¶å—å‹ç¼©æ–‡ä»¶åå’Œä¿¡æ¯ 4.1_4 æ–‡ä»¶çš„ç‰©ç†ç»“æ„ï¼ˆæ–‡ä»¶åˆ†é…æ–¹å¼ï¼‰ 1ã€å¯¹éç©ºé—²ç£ç›˜å—çš„ç®¡ç†ä¸€èˆ¬ç£ç›˜å—å’Œå†…å­˜å—æ˜¯å¤§å°ç›¸ç­‰çš„ï¼ˆä¾¿äºæ•°æ®äº¤æ¢ï¼‰ **é€»è¾‘åœ°å€ $\\rightarrow$ ç‰©ç†åœ°å€ è¿ç»­åˆ†é… è¿ç»­åˆ†é…æ–¹å¼è¦æ±‚æ¯ä¸ªæ–‡ä»¶åœ¨ç£ç›˜ä¸Šå æœ‰ä¸€ç»„è¿ç»­çš„å—ï¼Œå¯¹æ–‡ä»¶çš„æ‹“å±•ä¸æ–¹ä¾¿ï¼ˆå› ä¸ºæ˜¯è¿ç»­çš„ï¼Œå¦‚æœåé¢ç£ç›˜å—è¢«å æœ‰åˆ™ä¸å¥½æ‰©å±•ï¼‰ï¼Œæœ‰å¾ˆå¤šç£ç›˜ç¢ç‰‡ ç‰©ç†å—å·ï¼šèµ·å§‹å—å· + é€»è¾‘å—å· æ”¯æŒé¡ºåºè®¿é—®å’Œç›´æ¥è®¿é—®ï¼ˆéšæœºè®¿é—®ï¼‰ï¼Œåœ¨é¡ºåºè®¿é—®æ—¶å€™æ˜¯æœ€å¿«çš„ é“¾æ¥åˆ†é… ç¦»æ•£åˆ†é…æ–¹å¼ï¼Œé€šè¿‡æ˜ å°„æ¥å®ç°åœ°å€è®¿é—® éšå¼åˆ†é…ï¼šé‡‡ç”¨é“¾æ¥åˆ†é…æ–¹å¼çš„æ–‡ä»¶ï¼ˆåƒé“¾è¡¨ï¼Œè®°å½•èµ·å§‹å—å·å’Œç»“æŸå—å·ï¼‰ï¼Œåªæ”¯æŒé¡ºåºè®¿é—®ï¼Œä¸æ”¯æŒéšæœºè®¿é—®ï¼Œæ–¹ä¾¿æ‹“å±• æ˜¾ç¤ºåˆ†é…ï¼šæ–‡ä»¶åˆ†é…è¡¨FATï¼ˆå¸¸é©»å†…å­˜ï¼‰æ˜¾å¼è®°å½•ä¸‹ä¸€å—ç‰©ç†å—çš„ä½ç½®ï¼Œæ–¹ä¾¿æ‹“å±•ï¼Œæ”¯æŒéšæœºè®¿é—®ï¼ˆè®¿é—®iå·é€»è¾‘å—ï¼Œå¹¶ä¸éœ€è¦è®¿é—® 0-i-1å·é€»è¾‘å—ï¼‰ï¼Œæ–‡ä»¶è¡¨ä¼šå å†…å­˜ç©ºé—´ï¼ˆä¸éœ€è¦è®¿é—®ç£ç›˜ï¼Œå‡å°‘äº† I/O æ“ä½œï¼‰ 4.1_4 æ–‡ä»¶çš„ç‰©ç†ç»“æ„ï¼ˆæ–‡ä»¶åˆ†é…æ–¹å¼ï¼‰ ç´¢å¼•åˆ†é… ç´¢å¼•åˆ†é…å…è®¸æ–‡ä»¶ç¦»æ•£åœ°åˆ†é…åœ¨å„ä¸ªç£ç›˜å—ä¸­ï¼Œç³»ç»Ÿä¼šä¸ºæ¯ä¸ªæ–‡ä»¶å»ºç«‹ä¸€å¼ ç´¢å¼•è¡¨ï¼Œç´¢å¼•è¡¨è®°å½•äº†æ–‡ä»¶çš„å„ä¸ªé€»è¾‘å—å¯¹åº”çš„ç‰©ç†å— æ”¯æŒéšæœºè®¿é—®ï¼ˆåˆ†é…ä¸€ä¸ªç©ºé—²å—ï¼Œç„¶åå¢åŠ ä¸€ä¸ªç´¢å¼•è¡¨é¡¹ï¼‰ ç´¢å¼•è¡¨å ç©ºé—´ç´¢å¼•è¡¨æ¯”ç£ç›˜å—å¤§çš„è§£å†³åŠæ³• é“¾æ¥æ–¹æ¡ˆï¼ˆåˆ†é…å¤šä¸ªç´¢å¼•å—è¿›è¡Œé“¾æ¥ã€Œé“¾è¡¨ã€ï¼‰ ç´¢å¼•é“¾é•¿ï¼ŒæŸ¥æ‰¾ä½æ•ˆ å¤šå±‚ç´¢å¼• è®¾ç½®ä¸¤å±‚ç´¢å¼•è¡¨ï¼Œå¯ä»¥æ‰©å¤§ç´¢å¼•è¡¨æŒ‡å‘ï¼ŒåŠ é€Ÿç´¢å¼•é€Ÿåº¦ ç´¢å¼•è¡¨å¤§å°ä¸èƒ½è¶…è¿‡ä¸€ä¸ªç£ç›˜å— Kå±‚ç´¢å¼•ç»“æ„ï¼ˆé¡¶å±‚ç´¢å¼•è¡¨æ²¡æœ‰è¢«æ‰å…¥å†…å­˜ï¼‰ï¼Œè®¿é—®ä¸€ä¸ªæ•°æ®å—éœ€è¦K + 1æ¬¡ I/O æ“ä½œ æ–‡ä»¶æ•°æ®å°çš„è¯å¯èƒ½ä¼šæŸ¥æ‰¾ä½æ•ˆ æ··åˆç´¢å¼• IMPORTANT è®¡ç®—æœ€å¤§æ–‡ä»¶é•¿åº¦ ![[Pasted image 20250617134043.png]] 4.1_5 æ–‡ä»¶å­˜å‚¨ç©ºé—´ç®¡ç† 1ã€å­˜å‚¨ç©ºé—´çš„åˆ’åˆ†ä¸åˆå§‹åŒ– æ–‡ä»¶å·ï¼ˆé€»è¾‘å·ï¼‰çš„æ¦‚å¿µ ç›®å½•åŒºä¸æ–‡ä»¶åŒº 2ã€å‡ ç§ç®¡ç†æ–¹æ³• ç©ºé—²è¡¨æ³•ï¼šé¦–ä½ç½®+é•¿åº¦ï¼Œå›æ”¶æ—¶æ³¨æ„ä¿®æ”¹ï¼ˆâ€œé€‚åˆè¿ç»­åˆ†é…æ–¹å¼â€ï¼‰æ³¨æ„å›æ”¶ç£ç›˜å—çš„æ—¶å€™çš„åˆå¹¶é—®é¢˜ ç©ºé—²é“¾è¡¨æ³•ï¼ˆç©ºé—²ç›˜å—é“¾ã€ç©ºé—²ç›˜åŒºé“¾ï¼ˆè¿ç»­çš„ç©ºé—²ç›˜å—ç»„æˆä¸€ä¸ªç›˜åŒºï¼‰ï¼‰ æ¯ä¸€ä¸ªç›˜åŒºçš„ç¬¬ä¸€ä¸ªç›˜å—è®°å½•é•¿åº¦å’Œä¸‹ä¸€ä¸ªç›˜åŒºçš„æŒ‡é’ˆ åˆ†é…ï¼šç”³è¯·Kä¸ªç›˜å—ï¼Œä»é“¾å¤´åˆ°é“¾å°¾è¿›è¡Œåˆ†é… å›æ”¶ï¼šå›æ”¶çš„ç›˜å—ä¸€æ¬¡æŒ‚åˆ°é“¾å°¾ï¼Œä¿®æ”¹ç©ºé—²é“¾çš„æŒ‡é’ˆ ä½ç¤ºå›¾æ³• IMPORTANT ç›˜å—å· ä¸ï¼ˆå­—å·ï¼Œä½å·ï¼‰ç›¸äº’è½¬æ¢çš„å…¬å¼ n æ˜¯ ä½å· æˆç»„é“¾æ¥æ³•ï¼š æ–‡ä»¶å·çš„ç›®å½•åŒºä¸­ä¸“é—¨ç”¨ä¸€ä¸ªç£ç›˜å—ä½œä¸ºè¶…çº§å—ï¼Œå½“ç³»ç»Ÿå¯åŠ¨æ—¶éœ€è¦å°†è¶…çº§å†…å­˜å—è¯»å…¥å†…å­˜ã€‚å¹¶ä¸”ä¿è¯å†…å­˜ä¸å¤–å­˜ä¸­çš„è¶…çº§å—æ•°æ®ä¸€è‡´ã€‚ å›æ”¶å’Œåˆ†é…çš„æ–¹æ³• 4.1_6 æ–‡ä»¶çš„åŸºæœ¬æ“ä½œ åˆ›å»ºæ–‡ä»¶ï¼ˆcreateï¼‰ 1ã€åœ¨å¤–å­˜ä¸­æ‰¾åˆ°æ–‡ä»¶æ‰€éœ€çš„ç©ºé—´ 2ã€åˆ›å»ºè¯¥æ–‡ä»¶å¯¹åº”çš„ç›®å½•é¡¹ åˆ é™¤æ–‡ä»¶(delete) 1ã€æ‰¾åˆ°æ–‡ä»¶åå¯¹åº”çš„ç›®å½•é¡¹ 2ã€å›æ”¶æ–‡ä»¶å ç”¨çš„ç£ç›˜å— 3ã€åˆ é™¤æ–‡ä»¶å¯¹åº”çš„ç›®å½•é¡¹ è¯»æ–‡ä»¶(read) å†™æ–‡ä»¶(write) æ‰“å¼€æ–‡ä»¶(open) 1ã€æ‰¾åˆ°æ–‡ä»¶åå¯¹åº”çš„ç›®å½•é¡¹ 2ã€å°†ç›®å½•é¡¹å¤åˆ¶åˆ°å†…å­˜ä¸­çš„â€œæ‰“å¼€æ–‡ä»¶â€ä¸­ å…³é—­æ–‡ä»¶(close) 4.1_7 æ–‡ä»¶å…±äº« 1ã€åŸºäºç´¢å¼•ç»“ç‚¹çš„å…±äº«æ–¹å¼ï¼ˆç¡¬é“¾æ¥ï¼‰-- ç›´æ¥æŒ‡å‘ç‰©ç†åœ°å€ ä¸åŒç”¨æˆ·çš„ç´¢å¼•èŠ‚ç‚¹æŒ‡é’ˆç›´æ¥æŒ‡å‘æ–‡ä»¶çš„ç´¢å¼•èŠ‚ç‚¹ 2ã€åŸºäºç¬¦å·é“¾çš„å…±äº«æ–¹å¼ï¼ˆè½¯é“¾æ¥ï¼‰-- ä¿å­˜çš„æ˜¯æ–‡ä»¶è·¯å¾„ Linkç±»å‹çš„æ–‡ä»¶ï¼Œè®°å½•äº†è®¿é—®æ–‡ä»¶çš„å­˜æ”¾è·¯å¾„ï¼Œç›¸å½“äºwinçš„å¿«æ·æ–¹å¼ 4.1_8 æ–‡ä»¶ä¿æŠ¤ 1ã€å£ä»¤ä¿æŠ¤å£ä»¤å­˜æ”¾åœ¨ç³»ç»Ÿå†…éƒ¨ï¼Œä¸å®‰å…¨ 2ã€åŠ å¯†ä¿æŠ¤ ä¿å¯†æ€§å¼ºï¼Œä¸éœ€è¦åœ¨ç³»ç»Ÿä¸­å­˜å‚¨â€œå¯†ç â€ å°†æ•°æ®è¿›è¡ŒåŠ å¯†ï¼Œéœ€è¦çŸ¥é“å¯†ç æ‰èƒ½è§£å¯†ï¼ˆå¼‚æˆ–åŠ å¯†ï¼‰ ç¼–ç /è¯‘ç ï¼Œéœ€è¦èŠ±è´¹ä¸€å®šæ—¶é—´ 3ã€è®¿é—®æ§åˆ¶ åœ¨æ¯ä¸ªæ–‡ä»¶çš„FCBä¸­å¢åŠ ä¸€ä¸ªè®¿é—®æ§åˆ¶è¡¨ï¼ˆACLï¼‰ï¼Œè¯¥è¡¨è®°å½•äº†å„ä¸ªç”¨æˆ·å¯ä»¥å¯¹è¯¥æ–‡ä»¶æ‰§è¡Œå“ªäº›æ“ä½œæƒé™ 4.1_9 æ–‡ä»¶ç³»ç»Ÿçš„å±‚æ¬¡ç»“æ„ æ–‡ä»¶ç³»ç»Ÿå¸ƒå±€(å…¨å±€ç»“æ„) è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿä¸æ–‡ä»¶ç³»ç»ŸæŒ‚è½½ è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿ å‘ç”¨æˆ·æä¾›ç»Ÿä¸€çš„ç³»ç»Ÿè°ƒç”¨æ¥å£ vnode åªå­˜åœ¨äºä¸»å­˜ï¼ˆæ•°æ®ç»“æ„ï¼‰â€“ ç›¸å½“äºä¸€ä¸ªé»‘å¡ï¼Œå“ªé‡Œéƒ½å¯ä»¥ç”¨ inode æ—¢ä¼šè¢«è°ƒå…¥ä¸»å­˜ï¼Œä¹Ÿä¼šåœ¨å¤–å­˜ä¸­å­˜å‚¨ï¼ˆè®°å½• è¿™ä¸ªè¡¨å†…çš„æ•°æ®ï¼ˆå¤§å°ï¼Œä¿®æ”¹æ—¶é—´ï¼Œæ–‡ä»¶æ¨¡å¼â€¦ï¼‰ï¼‰ æ–°å»ºæ–‡ä»¶çš„æ—¶å€™ï¼Œä¼šå¢åŠ  æŒ‡å‘inode åˆ°æ–°ç›®å½•é¡¹ï¼‰ æ–‡ä»¶ç³»ç»ŸæŒ‚è½½ æ³¨å†Œæ–°æŒ‚è½½çš„æ–‡ä»¶ç³»ç»Ÿï¼ˆæŒ‚è½½è¡¨ï¼‰ æ–°æŒ‚è½½ç‚¹æ–‡ä»¶ç³»ç»Ÿï¼Œéœ€è¦å‘ VFS æä¾›ä¸€ä¸ªå‡½æ•°åœ°å€åˆ—è¡¨ æ–°æ–‡ä»¶ç³»ç»ŸåŠ åˆ°æŒ‚è½½ç‚¹ï¼Œå°±æ˜¯æŸä¸ªçˆ¶ç›®å½•ä¸‹ IOè®¾å¤‡ 5.1_1 I-Oè®¾å¤‡çš„æ¦‚å¿µå’Œåˆ†ç±» 1ã€ä»€ä¹ˆæ˜¯I-Oè®¾å¤‡è¾“å…¥/è¾“å‡ºï¼ˆInput / Outputï¼‰ 2ã€æŒ‰ä½¿ç”¨ç‰¹æ€§åˆ†ç±» äººæœºäº¤äº’çš„å¤–éƒ¨è®¾å¤‡ï¼ˆæ•°æ®ä¼ è¾“æ…¢ï¼‰ å­˜å‚¨è®¾å¤‡ï¼ˆç§»åŠ¨ç¡¬ç›˜ï¼Œå…‰ç›˜ï¼‰ ç½‘ç»œé€šä¿¡è®¾å¤‡ï¼ˆè·¯ç”±å™¨ï¼‰ 3ã€æŒ‰ä¼ è¾“é€Ÿç‡åˆ†ç±»ä½é€Ÿè®¾å¤‡ã€ä¸­é€Ÿè®¾å¤‡ã€é«˜é€Ÿè®¾å¤‡ 4ã€æŒ‰ä¿¡æ¯äº¤æ¢çš„å•ä½åˆ†ç±»å—è®¾å¤‡ï¼ˆä¼ è¾“å¿«ï¼Œå¯å¯»å€ï¼‰ã€å­—ç¬¦è®¾å¤‡ï¼ˆä¼ è¾“æ…¢ï¼Œä¸å¯å¯»å€ï¼Œå¸¸é‡‡ç”¨ä¸­æ–­é©±åŠ¨æ–¹å¼ï¼‰ 5.1_2 I-Oæ§åˆ¶å™¨ æœºæ¢°éƒ¨ä»¶ï¼šé¼ æ ‡ç­‰ç”µå­éƒ¨ä»¶ï¼šI/Oæ§åˆ¶å™¨ï¼Œè®¾å¤‡æ§åˆ¶å™¨ åŠŸèƒ½ï¼š 1ã€æ¥å—å’Œè¯†åˆ«CPUå‘å‡ºçš„å‘½ä»¤æ§åˆ¶å¯„å­˜å™¨ï¼šå­˜æ”¾å‘½ä»¤å’Œå‚æ•° 2ã€å‘CPUæŠ¥å‘Šè®¾å¤‡çš„çŠ¶æ€çŠ¶æ€å¯„å­˜å™¨ï¼šè®°å½•I/Oè®¾å¤‡çš„å½“å‰çŠ¶æ€ 3ã€æ•°æ®äº¤æ¢æ•°æ®å¯„å­˜å™¨ï¼šæš‚å­˜CPUå‘å‡º/è®¾å¤‡å‘å‡ºçš„æ•°æ® 4ã€åœ°å€è¯†åˆ«å†…å­˜æ˜ å°„IOï¼šç»™æ¯ä¸ªå¯„å­˜å™¨ä¸€ä¸ªç‰¹å®šçš„â€œåœ°å€â€ I/Oæ§åˆ¶å™¨ç»„æˆç»“æ„ ä¸€ä¸ªI/Oæ§åˆ¶å™¨å¯èƒ½å¯¹åº”å¤šä¸ªè®¾å¤‡ å› ä¸ºå­˜åœ¨å¤šä¸ªå¯„å­˜å™¨ï¼Œå¯¹å¯„å­˜å™¨çš„ç¼–åˆ¶æ–¹å¼ï¼š å¯„å­˜å™¨ç‹¬ç«‹ç¼–å€ï¼ˆä¸å†…å­˜ç‹¬ç«‹ç¼–å€ï¼‰â€“éœ€è¦ä¸“é—¨çš„æŒ‡ä»¤æ¥å®ç°ç¼–å€ï¼ˆåœ°å€å’Œç¼–å·ï¼‰ å†…å­˜æ˜ å°„I/Oï¼ˆè·Ÿå†…å­˜ç»Ÿä¸€ç¼–å€ï¼‰ â€“ å¯¹å†…å­˜è¿›è¡Œæ“ä½œçš„æŒ‡ä»¤è¿›è¡Œæ“ä½œ 5.1_3 I-Oæ§åˆ¶æ–¹å¼ 1ã€ç¨‹åºç›´æ¥æ§åˆ¶æ–¹å¼ è½®è¯¢ï¼šå®Œæˆä¸€æ¬¡è¯»/å†™æ“ä½œçš„æµç¨‹ CPUå¹²é¢„é¢‘ç¹ï¼Œè½®è¯¢æ£€æŸ¥çŠ¶æ€å¯„å­˜å™¨ä¸­çŠ¶æ€-- I/Oè®¾å¤‡æ˜¯å¦å‡†å¤‡å¥½ æ¯æ¬¡è¯»å†™ä¸€ä¸ªå­— å®ç°ç®€å• ä¼šä½¿CPUå¿™ç­‰ 2ã€ä¸­æ–­é©±åŠ¨æ–¹å¼ è®©cpuå‘å‡ºioæŒ‡ä»¤ååšå…¶å®ƒçš„äº‹æƒ… CPUä¼šåœ¨æ¯ä¸ªæŒ‡ä»¤å‘¨æœŸæœ«å°¾æ£€æŸ¥ä¸­æ–­ å¤§é‡ä¸­æ–­ä¼šä½¿cpuæ•ˆç‡ä½ æ¯æ¬¡è¯»å†™ä¸€ä¸ªå­— cpuå’ŒIOå¯å¹¶è¡Œå·¥ä½œ 3ã€DMAæ–¹å¼ï¼ˆç›´æ¥å­˜å‚¨å™¨å­˜å–ï¼‰æ•°æ®å•ä½ï¼šè¿ç»­çš„å¤šä¸ªå—ï¼ˆå­— $\\rightarrow$ å—ï¼‰å—å¿…é¡»æ˜¯è¿ç»­çš„ï¼Œè¯»åŒºçš„æ˜¯è¿ç»­çš„å¤šä¸ªå—ï¼Œè¯»å…¥å†…å­˜ååœ¨å†…å­˜ä¸­ä¹Ÿå¿…é¡»æ˜¯è¿ç»­çš„ ç›´æ¥ä»è®¾å¤‡åˆ°å†…å­˜ï¼ˆä¸ç»è¿‡CPUï¼‰ å‡å°‘äº†cpuå¹²é¢„ï¼ˆåªæœ‰ä¼ é€å¼€å§‹å’Œç»“æŸæ—¶ï¼‰ æ“ä½œæµç¨‹ DMAæ§åˆ¶å™¨ DRï¼šæ•°æ®å¯„å­˜å™¨ MARï¼šå†…å­˜åœ°å€å¯„å­˜å™¨ DCï¼šå‰©ä½™è¯»å†™å­—èŠ‚æ•° CRï¼šå‘½ä»¤/çŠ¶æ€å¯„å­˜å™¨ DMAè¯»å–æ•°æ®æ˜¯ä¸€ä¸ªå­—ä¸€ä¸ªå­—çš„è¯»å…¥ï¼Œå…ˆå­˜æ”¾DRä¸­ï¼Œå†æ”¾åˆ°å†…å­˜ä¸­ 4ã€é€šé“æ§åˆ¶æ–¹å¼å¼±é¸¡ç‰ˆCPU é€šé“ç¨‹åºï¼šä»»åŠ¡æ¸…å•ï¼Œç›¸å½“äº CPUç»™ä½ ä¸€å †ä»»åŠ¡æ¸…å•æ”¾åˆ°å†…å­˜ä¸­ï¼Œä½ ç…§ç€ä»»åŠ¡æ¸…å•å»å®Œæˆ CPUå‘é€å‘½ä»¤ç»™é€šé“ï¼Œç„¶åè®©é€šé“å¤„ç†IOæ“ä½œå°±è¡Œäº†ï¼Œå¤„ç†å®Œäº†ï¼Œå‘cpuå‘é€ä¸­æ–­ä¿¡å· æ“ä½œæµç¨‹ 5.1_4 I-Oè½¯ä»¶å±‚æ¬¡ç»“æ„ è¯·æ±‚å®ç°çš„é¡ºåºå’ŒåŠŸèƒ½ 1ã€ç”¨æˆ·å±‚è½¯ä»¶å®ç°ä¸ç”¨æˆ·äº¤äº’çš„æ¥å£ï¼Œå‘ä¸Šæä¾›æ–¹ä¾¿æ˜“ç”¨çš„åº“å‡½æ•° 2ã€è®¾å¤‡ç‹¬ç«‹æ€§è½¯ä»¶ï¼ˆè®¾å¤‡æ— å…³æ€§è½¯ä»¶ï¼‰å‘ä¸Šå±‚æä¾›ç»Ÿä¸€çš„è°ƒç”¨æ¥å£ï¼ˆread/writeï¼‰è®¾å¤‡çš„ä¿æŠ¤ï¼ˆç›¸å½“äºå¯¹æ–‡ä»¶çš„è®¿é—®æƒé™ï¼‰å·®é”™å¤„ç†ï¼ˆå¯¹è®¾å¤‡äº§ç”Ÿé”™è¯¯è¿›è¡Œå¤„ç†ï¼‰è®¾å¤‡çš„åˆ†é…ä¸å›æ”¶ï¼ˆèµ„æºåˆ†é…ï¼‰æ•°æ®ç¼“å†²åŒºç®¡ç†å»ºç«‹é€»è¾‘è®¾å¤‡ååˆ°ç‰©ç†è®¾å¤‡åçš„æ˜ å°„å…³ç³»ï¼Œæ ¹æ®è®¾å¤‡ç±»å‹é€‰æ‹©è°ƒç”¨ç›¸åº”çš„é©±åŠ¨ç¨‹åºï¼ˆé€»è¾‘è®¾å¤‡è¡¨ LUTï¼Œä¸åŒçš„è®¾å¤‡å¯èƒ½é©±åŠ¨ç¨‹åºä¸åŒï¼‰ 3ã€è®¾å¤‡é©±åŠ¨ç¨‹åºï¼ˆæ¯”å¦‚æ‰“å°æœºé©±åŠ¨ï¼‰è®¾ç½®è®¾å¤‡å¯„å­˜å™¨ã€æ£€æŸ¥è®¾å¤‡çŠ¶æ€ 4ã€ä¸­æ–­å¤„ç†ç¨‹åºè¿›è¡Œä¸­æ–­å¤„ç† 5ã€ç¡¬ä»¶æ‰§è¡ŒIOæ“ä½œï¼Œæœ‰æœºæ¢°éƒ¨ä»¶ã€ç”µå­éƒ¨ä»¶ç»„æˆ æ–°çŸ¥è¯†ç‚¹ï¼šè¾“å…¥è¾“å‡ºåº”ç”¨ç¨‹åºæ¥å£ 5.2_1 I-Oæ ¸å¿ƒå­ç³»ç»Ÿ 1ã€ç”¨æˆ·å±‚è½¯ä»¶å‡è„±æœºç³»ç»Ÿï¼ˆSPOOLing æŠ€æœ¯ï¼‰ 2ã€è®¾å¤‡ç‹¬ç«‹æ€§è½¯ä»¶ï¼ˆè®¾å¤‡æ— å…³æ€§è½¯ä»¶ï¼‰ IOè°ƒåº¦ã€è®¾å¤‡ä¿æŠ¤ã€è®¾å¤‡åˆ†é…ä¸å›æ”¶ã€ç¼“å†²åŒºç®¡ç† 3ã€è®¾å¤‡é©±åŠ¨ç¨‹åºï¼ˆæ¯”å¦‚æ‰“å°æœºé©±åŠ¨ï¼‰ 4ã€ä¸­æ–­å¤„ç†ç¨‹åº 5ã€ç¡¬ä»¶ 5.1_6 å‡è„±æœºæŠ€æœ¯ 1ã€ä»€ä¹ˆæ˜¯è„±æœºæŠ€æœ¯ï¼Œè„±æœºæŠ€æœ¯å¯ä»¥è§£å†³ä»€ä¹ˆé—®é¢˜ è„±ç¦»ä¸»æœºçš„æ§åˆ¶è¿›è¡Œè¾“å…¥/è¾“å‡ºæ§åˆ¶ï¼ˆä¸éœ€è¦ä¸»æœºï¼ŒCPUçš„å¹²é¢„ï¼‰ å‡è„±æœºæŠ€æœ¯ â€“ SPPOLingç³»ç»Ÿï¼šå¿…é¡»è¦æœ‰å¤šé“ç¨‹åºå¹¶å‘è¿›è¡Œ 2ã€å‡è„±æœºæŠ€æœ¯çš„å®ç°åŸç† æˆ‘è®¤ä¸ºæ˜¯å…ˆå­˜è¿›å»ç„¶åé€ä¸ªå¤„ç† è¾“å…¥äº•å’Œè¾“å‡ºäº• è¾“å…¥è¿›ç¨‹å’Œè¾“å‡ºè¿›ç¨‹ è¾“å…¥ç¼“å†²åŒºå’Œè¾“å‡ºç¼“å†²åŒº 3ã€å…±äº«æ‰“å°æœºçš„åŸç†åˆ†æï¼ˆSPPOLingï¼‰ å…ˆæŠŠé¡¹ç›®æŠ“ä½ç„¶åæ…¢æ…¢å¤„ç† ï¼šï¼‰ 5.1_7 è®¾å¤‡çš„åˆ†é…ä¸å›æ”¶ 1ã€è®¾å¤‡åˆ†é…æ—¶åº”è€ƒè™‘çš„å› ç´  è®¾å¤‡çš„å›ºæœ‰å±æ€§ï¼šç‹¬å è®¾å¤‡ã€å…±äº«è®¾å¤‡ã€è™šæ‹Ÿè®¾å¤‡ è®¾å¤‡åˆ†é…ç®—æ³•ï¼š è®¾å¤‡åˆ†é…ä¸­çš„å®‰å…¨ï¼šä¸ºè¿›ç¨‹åˆ†é…ä¸€ä¸ªè®¾å¤‡åå°±å°†è¿›ç¨‹é˜»å¡ï¼Œæœ¬æ¬¡IOå®Œæˆåæ‰å°†è¿›ç¨‹å”¤é†’ 2ã€é™æ€åˆ†é…ä¸åŠ¨æ€åˆ†é… é™æ€åˆ†é…ï¼šè¿›ç¨‹è¿è¡Œå‰ä¸ºå…¶åˆ†é…å…¨éƒ¨æ‰€éœ€èµ„æºã€è¿è¡Œç»“æŸåå½’è¿˜èµ„æºï¼ˆç ´åäº†â€œè¯·æ±‚å’Œä¿æŒâ€æ¡ä»¶ï¼‰ åŠ¨æ€åˆ†é…ï¼šè¿è¡Œä¸­åŠ¨æ€åˆ†é… 3ã€è®¾å¤‡åˆ†é…ç®¡ç†ä¸­çš„æ•°æ®ç»“æ„ ç³»ç»Ÿè®¾å¤‡è¡¨SDTï¼šè®°å½•å…¨éƒ¨è®¾å¤‡çš„æƒ…å†µï¼ˆç”¨è¡¨ç›®è®°å½•æ¯ä¸€ä¸ªè®¾å¤‡ä¿¡æ¯ï¼‰ è®¾å¤‡æ§åˆ¶è¡¨DCTï¼šè®°å½•è®¾å¤‡ä½¿ç”¨æƒ…å†µ æ§åˆ¶å™¨æ§åˆ¶è¡¨COCT é€šé“æ§åˆ¶è¡¨CHCT 4ã€è®¾å¤‡åˆ†é…çš„æ­¥éª¤æ ¹æ®è¿›ç¨‹è¯·æ±‚çš„ç‰©ç†è®¾å¤‡åï¼ˆSDTï¼‰â€”â€”&gt;è®¾å¤‡æ§åˆ¶è¡¨ï¼ˆDCTï¼‰â€”â€”&gt;æ§åˆ¶å™¨æ§åˆ¶è¡¨ï¼ˆCOCTï¼‰â€”â€”&gt;é€šé“ï¼ˆCHCTï¼‰ 5ã€è®¾å¤‡åˆ†é…æ­¥éª¤çš„æ”¹è¿›æ–¹æ³• å»ºç«‹é€»è¾‘è®¾å¤‡åå’Œè®¾å¤‡çš„æ˜ å°„ 5.1_8 ç¼“å†²åŒºç®¡ç† 1ã€ä»€ä¹ˆæ˜¯ç¼“å†²åŒºï¼Ÿæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿç¼“å†²åŒºæ˜¯ä¸€ä¸ªå­˜å‚¨åŒºåŸŸ ä½œç”¨ ç¼“å’ŒCPUä¸IOè®¾å¤‡ä¹‹é—´é€Ÿåº¦ä¸åŒ¹é…çš„çŸ›ç›¾ å‡å°‘å¯¹CPUçš„ä¸­æ–­é¢‘ç‡ è§£å†³æ•°æ®ç²’åº¦ä¸åŒ¹é…çš„é—®é¢˜ æé«˜CPUä¸IOè®¾å¤‡ä¹‹é—´çš„å¹¶è¡Œæ€§ ç¼“å†²åŒºç®¡ç†ç­–ç•¥ 2ã€å•ç¼“å†²åœ¨å†…å­˜ä¸­åˆ†é…ä¸€å—ç¼“å†²åŒº æ“ä½œæµç¨‹ å¤„ç†ä¸€å—æ—¶é—´=maxï¼ˆC,T)+M ![[Pasted image 20250617164845.png]] 3ã€åŒç¼“å†²åœ¨å†…å­˜ä¸­åˆ†é…ä¸¤å—ç¼“å†²åŒº-- ä¸¤ä¸ªç¼“å†²åŒº æ¯å¤„ç†ä¸€å—æ•°æ®ï¼šmax(T,C+M) 4ã€å¾ªç¯ç¼“å†² 5ã€ç¼“å†²æ± ç”±ç³»ç»Ÿä¸­å…±ç”¨çš„ç¼“å†²åŒºç»„æˆã€‚è¿™äº›ç¼“å†²åŒºå¯ä»¥åˆ†ä¸ºï¼šç©ºç¼“å†²é˜Ÿåˆ—ã€è£…æ»¡è¾“å…¥æ•°æ®çš„ç¼“å†²é˜Ÿåˆ—ã€è£…æ»¡è¾“å‡ºæ•°æ®çš„ç¼“å†²é˜Ÿåˆ— ç£ç›˜å­˜å‚¨ 5.3_1 ç£ç›˜çš„ç»“æ„ ç£ç›˜ã€ç£é“ã€æ‰‡åŒºçš„æ¦‚å¿µ å¦‚ä½•åœ¨ç£ç›˜ä¸­è¯»å†™æ•°æ® ç›˜é¢æŸ±é¢çš„æ¦‚å¿µ ç£ç›˜çš„ç‰©ç†åœ°å€ ç£ç›˜çš„åˆ†ç±» 5.2_2 ç£ç›˜è°ƒåº¦ç®—æ³• â€‹ 1ã€ä¸€æ¬¡ç£ç›˜è¯»/å†™æ“ä½œéœ€è¦çš„æ—¶é—´ å¯»æ‰¾æ—¶é—´Ts=s+m*n å»¶è¿Ÿæ—¶é—´Tr=1/(2r) ä¼ è¾“æ—¶é—´Tt=b/(rN) 2ã€ç£ç›˜è°ƒåº¦ç®—æ³• å…ˆæ¥å…ˆæœåŠ¡ï¼ˆFCFSï¼‰ æœ€çŸ­å¯»æ‰¾æ—¶é—´ä¼˜å…ˆï¼ˆSSTFï¼‰â€‹ ä¼˜å…ˆå¤„ç†æœ€è¿‘çš„ç£é“ï¼Œå¯èƒ½ä¼šäº§ç”Ÿé¥¥é¥¿ç°è±¡ æ‰«æç®—æ³•ï¼ˆSCANï¼‰ â€‹ åªæœ‰ç£å¤´ç§»åŠ¨åˆ°æœ€å¤–ä¾§ç£é“çš„æ—¶å€™æ‰èƒ½å¾€å†…ç§»åŠ¨ï¼Œç§»åŠ¨åˆ°æœ€å†…ä¾§ç£é“çš„æ—¶å€™æ‰èƒ½å¾€å¤–ç§»åŠ¨â€‹ LOOKï¼Œå¦‚æœåœ¨ç£å¤´ç§»åŠ¨æ–¹å‘ä¸Šå·²ç»æ²¡æœ‰åˆ«çš„è¯·æ±‚ï¼Œå°±å¯ä»¥ç«‹å³æ”¹å˜ç£å¤´ç§»åŠ¨æ–¹å‘ å¾ªç¯æ‰«æç®—æ³•ï¼ˆC-SCANï¼‰è¿”å›æ—¶ç›´æ¥å¿«é€Ÿç§»åŠ¨è‡³èµ·å§‹ç«¯è€Œä¸å¤„ç†ä»»ä½•è¯·æ±‚â€‹ C-LOOKï¼Œå¦‚æœåœ¨ç£å¤´ç§»åŠ¨æ–¹å‘ä¸Šå·²ç»æ²¡æœ‰åˆ«çš„è¯·æ±‚ï¼Œå°±å¯ä»¥ç«‹å³æ”¹å˜ç£å¤´ç§»åŠ¨æ–¹å‘ 5.2_3 å‡å°ç£ç›˜å»¶è¿Ÿæ—¶é—´çš„æ–¹æ³• 1ã€å¯»æ‰¾æ—¶é—´ï¼ˆå¯»é“æ—¶é—´ï¼‰ï¼šå¯åŠ¨ç£è‡‚ã€ç§»åŠ¨ç£å¤´æ‰€èŠ±çš„æ—¶é—´ 2ã€å»¶è¿Ÿæ—¶é—´ï¼šå°†ç›®æ ‡æ‰‡åŒºè½¬åˆ°ç£å¤´ä¸‹é¢æ‰€åŒ–çš„æ—¶é—´ ç£å¤´è¯»å–ä¸€å—å†…å®¹åï¼Œéœ€è¦ä¸€å°æ®µçš„æ—¶é—´å¤„ç† é‡‡ç”¨äº¤æ›¿ç¼–å·ç­–ç•¥ æŸ±é¢å·åœ¨ç›˜é¢å·ä¹‹å‰ï¼Œå¯ä»¥å‡å°‘ç£å¤´ç§»åŠ¨æ¶ˆè€—çš„æ—¶é—´ é”™ä½å‘½å 3ã€ä¼ è¾“æ—¶é—´ï¼šè¯»/å†™ æ•°æ®èŠ±è´¹çš„æ—¶é—´ 5.2_4 ç£ç›˜çš„ç®¡ç† 1ã€ç£ç›˜åˆå§‹åŒ–ä½çº§æ ¼å¼åŒ–/ç‰©ç†åˆ†åŒº 2ã€å¼•å¯¼å— ROMä¸å¯ä¿®æ”¹ï¼ŒROMä¸­åªå­˜æ”¾å¾ˆå°çš„â€œè‡ªä¸¾è£…å…¥ç¨‹åºâ€ 3ã€åå—çš„ç®¡ç†åœ¨FATè¡¨ä¸Šæ ‡æ˜ï¼ˆåå—å¯¹æ“ä½œç³»ç»Ÿä¸é€æ˜ï¼‰","link":"/2025/06/19/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%AC%94%E8%AE%B0-%E7%8E%8B%E9%81%93%E8%80%83%E7%A0%94/"},{"title":"åŸºäºYOLOçš„ç¥ç»ç½‘ç»œå‰ªæ","text":"è¿™æ˜¯ä¸€ä¸ªæ³¨æ„äº‹é¡¹æç¤ºæ¡†ã€‚è¿™ç§æç¤ºæ¡†é€šå¸¸ç”¨äºå±•ç¤ºä¸€èˆ¬æ€§çš„æç¤ºä¿¡æ¯ã€‚ è¿›è¡Œ é€‚é…YOLOæ¨¡å‹è®­ç»ƒçš„æ•°æ®é›†åˆ’åˆ† 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071import osimport shutilimport random# åŸå§‹æ•°æ®è·¯å¾„base_dir = './'dataset_dir = os.path.join(base_dir, 'output_dataset')images_dir = os.path.join(dataset_dir, 'images')labels_dir = os.path.join(dataset_dir, 'labels')# æ–°çš„è¾“å‡ºè·¯å¾„ï¼ˆä¸åœ¨ DATA1.0 ä¸‹ï¼‰output_dir = os.path.join(base_dir, 'dataset')train_images_dir = os.path.join(output_dir, 'images', 'train')val_images_dir = os.path.join(output_dir, 'images', 'val')train_labels_dir = os.path.join(output_dir, 'labels', 'train')val_labels_dir = os.path.join(output_dir, 'labels', 'val')# åˆ›å»ºæ–°ç›®å½•os.makedirs(train_images_dir, exist_ok=True)os.makedirs(val_images_dir, exist_ok=True)os.makedirs(train_labels_dir, exist_ok=True)os.makedirs(val_labels_dir, exist_ok=True)# æ”¶é›†æ‰€æœ‰å›¾åƒæ–‡ä»¶image_files = [ f for f in os.listdir(images_dir) if f.lower().endswith(('.jpg', '.jpeg', '.png')) and os.path.isfile(os.path.join(images_dir, f))]# æ‰“ä¹±é¡ºåºrandom.shuffle(image_files)# åˆ’åˆ†æ¯”ä¾‹split_ratio = 0.8split_index = int(len(image_files) * split_ratio)train_images = image_files[:split_index]val_images = image_files[split_index:]# å¤åˆ¶è®­ç»ƒé›†for img in train_images: base_name, ext = os.path.splitext(img) label = base_name + '.txt' # å›¾åƒå¤åˆ¶ shutil.copy(os.path.join(images_dir, img), os.path.join(train_images_dir, img)) # æ ‡ç­¾å¤åˆ¶ label_src = os.path.join(labels_dir, label) label_dst = os.path.join(train_labels_dir, label) if os.path.exists(label_src): shutil.copy(label_src, label_dst) else: print(f&quot;[è­¦å‘Š] ç¼ºå¤±æ ‡ç­¾æ–‡ä»¶: {label_src}&quot;)# å¤åˆ¶éªŒè¯é›†for img in val_images: base_name, ext = os.path.splitext(img) label = base_name + '.txt' # å›¾åƒå¤åˆ¶ shutil.copy(os.path.join(images_dir, img), os.path.join(val_images_dir, img)) # æ ‡ç­¾å¤åˆ¶ label_src = os.path.join(labels_dir, label) label_dst = os.path.join(val_labels_dir, label) if os.path.exists(label_src): shutil.copy(label_src, label_dst) else: print(f&quot;[è­¦å‘Š] ç¼ºå¤±æ ‡ç­¾æ–‡ä»¶: {label_src}&quot;)print(f&quot;âœ… æ•°æ®é›†åˆ’åˆ†å®Œæˆï¼Œè®­ç»ƒé›†ï¼š{len(train_images)}ï¼ŒéªŒè¯é›†ï¼š{len(val_images)}&quot;)print(f&quot;âœ… è¾“å‡ºè·¯å¾„ï¼š{output_dir}&quot;) ç»“æœï¼š æ³¨æ„ åˆ’åˆ†æ•°æ®é›†è¿›è¡Œè®­ç»ƒçš„æ—¶å€™éœ€è¦ä¿è¯æ¯ä¸€ä¸ªç±»åˆ«éƒ½åº”è¯¥æœ‰ è®­ç»ƒçš„æ•°æ® å’Œ æ¨ç†çš„æ•°æ®ï¼Œå¦‚æœå­˜åœ¨ä¸åŒç±»åˆ«éœ€è¦åœ¨è¿™ä¸ªä»£ç ä¸Šè¿›è¡Œç»†å¾®è°ƒæ•´ï¼ˆæ•°æ®é›†åˆ’åˆ†çš„æ—¶å€™è¿›è¡Œå›¾ç‰‡é€‰æ‹©çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥åŸºäºæ¯ä¸€ç§ç±»åˆ«çš„å›¾ç‰‡è¿›è¡Œåˆ’åˆ†ï¼‰ ![[Pasted image 20250614113717.png]]","link":"/2025/06/14/YOLO/"},{"title":"OrangePi5éƒ¨ç½²YOLOæ¨ç†æ¨¡å‹","text":"é˜è¿°ä¸€ä¸‹æˆ‘åœ¨ YOLOæ¨¡å‹è½¬åŒ– å’Œ å¼€å‘æ¿ä¸Šé…ç½®è¸©çš„å‘ã€‚ ï¼šï¼ˆ YOLOçš„ pt æ¨¡å‹ è½¬åŒ–ä¸º onnx è¿™é‡Œæœ‰ä¸€ä¸ª å°å‘ï¼Œä¹Ÿæ˜¯ä¼šå½±å“ä½ åé¢çš„è½¬åŒ–ç»“æœã€‚ æ¨¡å‹è½¬åŒ–ç”¨ultralytics_yolov8 è¿™ä¸ªGithubåº“. pt æ¨¡å‹ç›´æ¥æ”¾åˆ° ultralytics_yolov8è·¯å¾„ä¸‹ï¼Œç„¶åè¾“å…¥ä»¥ä¸‹ä¸¤æ¡æŒ‡ä»¤ 12export PYTHONPATH=./python ./ultralytics/engine/exporter.py æˆ–è€…ä¹Ÿå¯ä»¥ç›´æ¥è°ƒç”¨ è¿›è¡Œæ¨¡å‹è½¬åŒ– 1yolo export model=yolov8relupt.pt format=rknn è½¬åŒ–çš„æ—¶å€™å¦‚æœæ˜¾ç¤º yolo ä¸æ”¯æŒ rknnçš„æ ¼å¼è½¬åŒ–ï¼Œä½ å°±å¾—æ›´æ–°ä¸€ä¸‹yoloï¼ˆç›¸å½“äºæ›´æ–° ultralyticsåº“ï¼‰ æ— è®ºè¿™ä¸¤ç§æ–¹æ³•ä¸­çš„å“ªä¸€ç§ ç”Ÿæˆçš„ onnxæ¨¡å‹éƒ½éœ€è¦æœ‰ å¤§äºä¸€ä¸ªçš„æ£€æµ‹å¤´ã€‚(**è¿™æ˜¯å¿…é¡»æ»¡è¶³çš„æ¡ä»¶ï¼Œä¸ç„¶åé¢è½¬åŒ–ä¸º rknn çš„æ¨¡å‹æ˜¯æœ‰é—®é¢˜çš„) å¯ä»¥ä½¿ç”¨ netron è¿™ä¸ªç½‘ç«™æ¥æŸ¥çœ‹è‡ªå·±çš„ onnx æ¨¡å‹æ ·å­ï¼Œå‡ ä¸ªæ£€æµ‹å¤´å°±ç›¸å½“äºæœ‰å‡ ä¸ªåˆ†æ”¯ onnx è½¬åŒ–ä¸º rknn è¯¥æ“ä½œæ–¹æ³•ç…§ç€ YOLOv8 éƒ¨ç½² rk3588è¿›è¡Œæ“ä½œå°±å¯ä»¥ï¼Œæˆ‘æ“ä½œçš„æ—¶å€™æ²¡æœ‰ä»»ä½•é—®é¢˜ã€‚ åœ¨è¿™ä¸€æ­¥ä½ ä¹Ÿéœ€è¦æ£€æŸ¥çš„å°±æ˜¯ ä½ åˆ°å¯¼å‡º çš„ rknnæ¨¡å‹çš„æ£€æµ‹å¤´ï¼ˆç”¨ netronï¼‰ï¼Œæœ‰å‡ ä¸ªè¾“å‡ºç»“æœä¾¿å¯¹åº”ç€ä½  æœ‰ä¸€ä¸ªæ ‡ç­¾ã€‚å¦‚æœæ£€æµ‹å¤´åªæœ‰ä¸€ä¸ªæˆ–è€…è¿‡å°‘ä¾¿æ˜¯ä½ æ¨¡å‹è½¬åŒ–æœ‰é—®é¢˜ï¼Œè¯·æ£€æŸ¥å‰é¢æ­¥éª¤æ˜¯ä¸æ˜¯å­˜åœ¨é—®é¢˜ã€‚ rknn è¿›è¡Œæ¨¡å‹æ¨ç† è¿™é‡Œçš„æ“ä½œä¹Ÿæ˜¯ YOLOv8 éƒ¨ç½² rk3588è¿™ä¸ªåšä¸»ï¼Œä»–æœ‰ä¸€ä¸ªç°æˆçš„ C++ è°ƒç”¨ NPUçš„ä»£ç å¯ä»¥ç›´æ¥å¥—ç”¨ï¼Œä½†æ˜¯ä»–é‚£ä¸ªä»£ç å­˜åœ¨ä¸€ç‚¹ç¼ºé™·ä¾¿æ˜¯ï¼Œä½ æ¯ä¸€æ¬¡ç¼–è¯‘å®Œä»–é‚£ä¸ªè¯»å–å›¾ç‰‡çš„è·¯å¾„æ˜¯ä¸èƒ½æ”¹å˜çš„ï¼Œå»ºè®®å°†ä»–çš„C++è¿›è¡Œè°ƒæ•´ï¼Œå°†é‚£ä¸ª è¾“å…¥çš„å›¾ç‰‡çš„è·¯å¾„ å’Œ è¾“å‡ºçš„å›¾ç‰‡çš„è·¯å¾„ ä½œä¸º è¿è¡Œçš„ å‚æ•°è°ƒç”¨ è¿™é‡Œæœ‰ä¸€ä¸ªå­˜åœ¨çš„é—®é¢˜å°±æ˜¯ CV2 æ— æ³•è¯»å–å›¾ç‰‡çš„é—®é¢˜ å¦‚æœå½“ä½ é‡åˆ°äº† CV æ— æ³•è¯»å–å›¾ç‰‡çš„é—®é¢˜çš„æ—¶å€™ï¼ˆè¿™ä¸ªé—®é¢˜å›°æ‰°äº†æˆ‘10å‡ ä¸ªå°æ—¶ï¼Œåœ¨è¿™ä¸ªé€”ä¸­æˆ‘å°è¯•äº†å¾ˆå¤šå…¶ä»–æ¥è°ƒç”¨rknnæ¨¡å‹çš„ä»£ç ï¼Œå‘ç°è¦ä¸æ˜¯ç‰ˆæœ¬ä¸é€‚é…è¦ä¸å°±æ˜¯å¾ˆéº»çƒ¦ ğŸ˜­ ï¼Œå·®ç‚¹ç»™ å¼€å‘æ¿ å˜æˆè£…åƒåœ¾çš„äº†ï¼‰ å›¾ç‰‡çš„å°ºå¯¸å¿…é¡»å’Œä½ è®­ç»ƒçš„ yoloæ¨¡å‹çš„è¯»å–å›¾ç‰‡çš„å°ºå¯¸ä¿æŒä¸€è‡´ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œyoloçš„é»˜è®¤è¯»å–å›¾ç‰‡çš„å°ºå¯¸æ˜¯ 640*640 å›¾ç‰‡çš„åç¼€åå­—å¿…é¡»ä¸º png æœ€åæƒ³æ„Ÿè°¢çš„å°±æ˜¯ RKNNæŠ€æœ¯è®ºå›çš„å¤§ä½¬ä»¬ï¼Œå¸®æˆ‘èƒ½æ›´å¿«çš„è§£å†³æˆ‘é‡åˆ°çš„é—®é¢˜ï¼çœŸçš„é…ç¯å¢ƒé‡åˆ°çš„é—®é¢˜å°±æ˜¯ç»™äººä¸€ç§ç»æœ›çš„æ„Ÿè§‰ï¼Œè¿˜æœ‰å°±æ˜¯æ„Ÿè°¢ YOLOv8 éƒ¨ç½² rk3588è¿™ä¸ªåšä¸»çš„æ•™ç¨‹ã€‚ å‚è€ƒç½‘ç«™ï¼š YOLOv8 éƒ¨ç½² rk3588 rknnè°ƒç”¨çš„ C++ ä»£ç  â€¦ åšä¸»æ¨¡å‹è·‘é€šäº†ï¼Œæ”¾é•¿å‡ing","link":"/2025/04/15/OrangePi5-%E9%83%A8%E7%BD%B2-YOLO%E6%8E%A8%E7%90%86%E6%A8%A1%E5%9E%8B/"},{"title":"LatexåŸºç¡€å…¬å¼å­¦ä¹ ","text":"çªç„¶åšç¬”è®°éœ€è¦è¿™ä¸ªå°±åšäº†ä¸€ä¸ªç®€å•çš„å­¦ä¹ ã€‚ Markdown ä¸‹çš„ LATEX åœ¨ markdown ä¸‹è¿›è¡Œ Latex çš„å¼å­çš„ç¼–å†™çš„æ–¹æ³• ä½¿ç”¨ $$ ä½œä¸ºè¡Œå†…å¼å­ $$ + å›è½¦ ä½œä¸ºè¡Œé—´å¼å­ ä»¥ä¸‹çš„å…¬å¼ çš†çœå»äº† ç¬¦å· ç¬¦å· å¼å­ æ˜¾ç¤ºæ•ˆæœ ä¸Šæ ‡ x^{2} $x^{2}$ ä¸‹æ ‡ x_{2} $x_{2}$ åˆ†å¼ \\frac{x}{y} $\\frac{x}{y}$ ä¹˜ \\times $\\times$ é™¤ \\div $\\div$ åŠ å‡ \\pm $\\pm$ å‡åŠ  \\mp $\\mp$ æ±‚å’Œ \\sum $\\sum$ æ±‚å’Œä¸Šä¸‹æ ‡ \\sum_{infty} ^ {infty} $\\sum_{-\\infty}^{\\infty}$ æ±‚ç§¯ \\prod $\\prod$ å¾®åˆ† \\partial $\\partial$ ç§¯åˆ† \\int, \\displaystyle\\int $\\int,\\displaystyle\\int$ ä¸ç­‰äº \\neq $\\neq$ å¤§äºç­‰äº \\geq $\\geq$ å°äºç­‰äº \\leq $\\leq$ çº¦ç­‰äº \\approx $\\approx$ ä¸å¤§äºç­‰äº x + y \\ngeq z $x + y \\ngeq z$ ç‚¹ä¹˜ \\cdot $\\cdot$ æ˜Ÿä¹˜ \\ast $\\ast$ å–æ•´å‡½æ•° \\left \\lfloor \\frac{a}{b} \\right \\rfloot $\\left \\lfloor \\frac{a}{b} \\right \\rfloor$ å–é¡¶å‡½æ•° \\left \\lceil \\frac{a}{b} \\right \\rceil $\\left \\lceil \\frac{a}{b} \\right \\rceil$ æ‹¬å· ç¬¦å· å¼å­ æ˜¾ç¤ºæ•ˆæœ åœ†æ‹¬å· \\left(\\frac{a}{b} \\right) $\\left(\\frac{a}{b} \\right)$ æ–¹æ‹¬å· \\left[\\frac{a}{b} \\ right] $\\left[\\frac{a}{b}\\right]$ èŠ±æ‹¬å· \\left{\\frac{a}{b} \\right} $\\lbrace \\frac{a}{b} \\rbrace$ æ··åˆæ‹¬å· \\left[ a, b\\right) $\\left [a,b \\right)$ åŸºæœ¬å‡½æ•° ç¬¦å· å¼å­ æ˜¾ç¤ºæ•ˆæœ å¯¹æ•°1 \\log_x{y} $\\log_x{y}$ å¯¹æ•°2 \\ln{\\left(x + y\\right)} $\\ln{\\left(x + y\\right)}$ æ•°å­¦ç¬¦å· ç¬¦å· å¼å­ æ˜¾ç¤ºæ•ˆæœ æ— ç©· \\infty $\\infty$ çœç•¥å·1 \\cdots $\\cdots$ çœç•¥å·2 \\ldots $\\ldots$ çœç•¥å·3 \\vdots $\\vdots$ çœç•¥å·4 \\ddtos $\\ddots$ ç®­å¤´1 \\rightarrow $\\rightarrow$ ç®­å¤´2 \\leftarrow $\\leftarrow$ ç®­å¤´3 \\Rightarrow $\\Rightarrow$ ç®­å¤´4 \\Leftarrow $\\Leftarrow$ ç®­å¤´5 \\Uparrow $\\Uparrow$ ç®­å¤´6 \\Downarrow $\\Downarrow$ ç®­å¤´7 \\longrightarrow $\\longrightarrow$ â€¦ â€¦ â€¦(è‡ªè¡Œè„‘è¡¥) | \\mid $\\mid$ \\ \\backslash $\\backslash$ ä»»æ„ \\forall $\\forall$ å­˜åœ¨ \\exists $\\exists$ å³ç®­å¤´ \\implies $\\implies$ åŒå‘ç®­å¤´ \\iff $\\iff$ å·¦ç®­å¤´ \\impliedby $\\impliedby$ é«˜çº§è¿ç®—ç¬¦ ç¬¦å· å¼å­ æ˜¾ç¤ºæ•ˆæœ å¹³å‡æ•° \\overline{x} $\\overline{x}$ æ±‚æ ¹ \\sqrt{x} $\\sqrt{x}$ å¼€æ–¹ \\sqrt[n]{x} $\\sqrt[n]{x}$ é›†åˆè¿ç®— ç¬¦å· å¼å­ æ˜¾ç¤ºæ•ˆæœ å±äº \\in $a \\in b$ ä¸å±äº \\notin $a \\notin b$ å­é›† \\subset $a \\subset b$ çœŸå­é›† \\subseteq $a \\subseteq b$ å¹¶é›† \\cup $a \\cup b$ äº¤é›† \\cap $a \\cap b$ å¼‚æˆ– \\bigoplus $a \\bigoplus b$ å¸¸ç”¨è¡¨è¾¾ åˆ†æ®µå‡½æ•° $$ y = \\begin{cases} 2X + 1 &amp; x \\leq 0 \\ x &amp; x &gt; 0 \\end{cases} $$ â€¦ åç»­ä¼šæ›´æ–°æœºå™¨å­¦ä¹ æ–¹é¢çš„è¡¨è¾¾å¼ å‚è€ƒå†…å®¹ï¼š Markdownçš„latexä½¿ç”¨æ•™ç¨‹","link":"/2025/04/28/Latex%E5%9F%BA%E7%A1%80%E5%85%AC%E5%BC%8F%E5%AD%A6%E4%B9%A0/"},{"title":"æ•°æ®åº“åŸºç¡€å­¦ä¹ ","text":"æ•°æ®åº“çš„åŸºæœ¬å­¦ä¹  è‡ªæˆ‘è¯„ä»· å…³äºæ•°æ®åº“çš„å­¦ä¹ ï¼Œæˆ‘å¹¶æ²¡æœ‰ä¸€ç›´è·Ÿéšç€ä¸Šè¯¾è€å¸ˆçš„è„šæ­¥å»èµ°ï¼Œå› ä¸ºæ­£å¦‚PYTHONçš„å­¦ä¹ ä¸€èˆ¬ï¼Œæ•°æ®åº“çš„åŸºç¡€å­¦ä¹ ä¸éœ€è¦èŠ±è´¹å¤§é‡æ—¶é—´ï¼Œä¸»è¦æ˜¯æ³¨é‡è¯­æ³•çš„è°ƒç”¨ï¼Œç„¶åæ³¨é‡å¬ä¸Šè¯¾æ—¶è€å¸ˆè®²çš„ä¸€äº›æ˜“é”™çš„ç‚¹,(ex:NULLçš„ä¸åŒåœºæ™¯çš„è¡¨ç°)ï¼Œè¿›è€Œå»å®Œå–„è‡ªå·±çš„å­¦ä¹ ã€‚ æ•°æ®åº“æ›´æ³¨é‡äºå®é™…åº”ç”¨ï¼Œæˆ‘åœ¨æ­å»ºåšå®¢çš„æ—¶å€™ï¼Œæ–‡ç« å½’ç±»é—®é¢˜ä¾¿æ˜¯åº”ç”¨æ•°æ®åº“çš„ç›¸å…³çŸ¥è¯†ï¼Œå¹¶ä¸”åœ¨åšæœŸæœ«é¡¹ç›®çš„æ—¶å€™ï¼Œæ€è€ƒåˆ°äº†é¡¹ç›®åº”è¯¥ä¸æˆ‘ä»¬æ‰€å­¦ä¸“ä¸šç›¸äº’èåˆï¼Œæˆ‘ä»¬å¯¹åŸºç¡€çš„SQLç»ˆç«¯è¿›è¡Œäº†ä¸€äº›â€œåµŒå…¥å¼â€çš„æ”¹è‰¯ã€‚ æ•°æ®åº“è¯­æ³• æ•°æ®åº“è¯­æ³•å®æ“â€“å·²ç»é€šå…³ åŸºæœ¬æ“ä½œ æ•°æ®ç±»å‹ æ•°å­—ç±»å‹ æ•°æ®ç±»å‹ è¯´æ˜ INT/INTEGER æ•´æ•° SMALLINT å°èŒƒå›´æ•´æ•°ï¼ˆ32ä½ï¼‰ BIGINT å¤§èŒƒå›´æ•´æ•°ï¼ˆ64ä½ï¼‰ FLOAT å•ç²¾åº¦æµ®ç‚¹æ•° DOUBLE/REAL åŒç²¾åº¦æµ®ç‚¹æ•° DECIMAL(n, m) / NUMERIC(n, m) ç²¾ç¡®å°æ•°ï¼Œnä½mä½å°æ•° å­—ç¬¦ä¸²ç±»å‹ æ•°æ®ç±»å‹ è¯´æ˜ CHAR(n) å›ºå®šé•¿åº¦å­—ç¬¦ä¸² VARCHAR(n) å¯å˜é•¿åº¦å­—ç¬¦ä¸² TEXT/ CLOB é•¿æ–‡æœ¬ æ—¥æœŸæ—¶é—´ç±»å‹ æ•°æ®ç±»å‹ è¯´æ˜ DATE æ—¥æœŸ TIME æ—¶é—´ DATETIME æ—¥æœŸ+æ—¶é—´ TIMESTAMP æ—¶é—´æˆ³ï¼Œè®°å½•æ—¶é—´ç‚¹ å¸ƒå°”ä»¥åŠå…¶ä»–ç±»å‹ æ•°æ®ç±»å‹ è¯´æ˜ ENUM æšä¸¾ç±»å‹ï¼ˆconstï¼‰ JSON JSONæ•°æ®å’Œäº‹ UUID é€šç”¨å”¯ä¸€æ ‡è¯†ç¬¦ åŸºæœ¬è¯­æ³• åˆ›å»ºè¡¨æ ¼ï¼ˆCREATE TABLEï¼‰ 123456CREATE TABLE è¡¨åç§° ( åˆ—åç§°1 æ•°æ®ç±»å‹, åˆ—åç§°2 æ•°æ®ç±»å‹, åˆ—åç§°3 æ•°æ®ç±»å‹, ....); æ“ä½œå®ä¾‹ 1234567CREATE TABLE `user`( `id` int(100) unsigned NOT NULL AUTO_INCREMENT primary key, `password` varchar(32) NOT NULL DEFAULT '' COMMENT 'ç”¨æˆ·å¯†ç ', `mobile` varchar(32) NOT NULL DEFAULT '' COMMENT 'æ‰‹æœº', `update` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6) UNIQUE INDEX id_user_mobile(`mobile`)) COMMENT è¡¨ç¤ºæ³¨é‡Š UNSIGNED æ˜¯éè´Ÿæ•° AUTO_INCREMENT è‡ªåŠ¨é€’å¢æ ‡ç­¾ DEFAULT è¡¨ç¤ºé»˜è®¤ NOT NULL è¡¨ç¤ºä¸ä¸ºç©º CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6)ä¿®æ”¹æ›´æ–°æ—¶é—´ åˆ é™¤è¡¨æ ¼ 12DROP TABLE è¡¨åç§°; -- åˆ é™¤è¡¨TRUNCATE TABLE Shippers; -- ä¸åˆ é™¤è¡¨ï¼Œåˆ é™¤è¡¨å†…æ•°æ® SELECT 12SELECT åˆ—åç§° FROM è¡¨åç§° -- *è¡¨ç¤ºæ‰€æœ‰SELECT åˆ—åç§° FROM è¡¨åç§° WHERE åˆ—æ•°æ®æ»¡è¶³æ¡ä»¶ æ“ä½œå®ä¾‹ 12345678-- SELECT S_ID FROM Student WHERE S_ID in (1,10) and S_ID not in (5)-- SELECT S_ID FROM Student WHERE S_ID in(1, 10) limit 1 åªçˆ¬å–ä¸€æ¡æ•°æ®-- ç»“æœæ•°æ®è‡ªåŠ¨å»é‡SELECT DISTINCT åˆ—åç§° FROM è¡¨åç§°-- æ•°æ®åˆ†ç»„æ’åºç»Ÿè®¡COUNT(åˆ—) è®¡æ•° GROUP BY è¿›è¡Œåˆ†ç»„ order by æ’åºSELECT åˆ—æ•°æ®ï¼ŒCOUNT(åˆ—) FROM è¡¨ GROUP BY tag order by idSELECT tag UPDATE 1UPDATE è¡¨åç§° SET åˆ—åç§°1 = å€¼1ï¼Œåˆ—åç§°2 = å€¼2 WHERE æ¡ä»¶ æ“ä½œå®ä¾‹ 12345-- updateè¯­å¥è®¾ç½®å­—æ®µå€¼ä¸ºå¦ä¸€ä¸ªç»“æœå–å‡ºæ¥çš„å­—æ®µ UPDATE user set name = (SELECT name from user1 WHERE user1 .id = 1 )WHERE id = (SELECT id from user2 WHERE user2 .name='å°è‹'); -- æ›´æ–°è¡¨ orders ä¸­ id=1 çš„é‚£ä¸€è¡Œæ•°æ®æ›´æ–°å®ƒçš„ title å­—æ®µUPDATE orders set title='è¿™é‡Œæ˜¯æ ‡é¢˜' WHERE id=1; INSERT 123INSERT INTO è¡¨åç§°(åˆ—åç§°ï¼Œåˆ—åç§°) VALUES(å€¼ï¼Œå€¼)INSERT INTO è¡¨åç§° SET åˆ—åç§° = å€¼INSERT INTO è¡¨åç§° VALUES(å€¼1ï¼Œå€¼2) -- æŒ‰é¡ºåºæ’å…¥ æ“ä½œå®ä¾‹ 123INSERT INTO id SET a = 1, b = 2;-- ç­‰ä»·äºINSERT INTO id (a, b) VALUES(1,2) DELETE + WHERE 12DELECT FROM è¡¨ WHERE æ¡ä»¶;SELECT åˆ— FROM è¡¨ WHERE æ¡ä»¶ ANDï¼ŒORï¼ŒNOT,IN AND ç›¸å½“äº&amp;è¿ç®—ï¼ŒORç›¸å½“äºï½œè¿ç®—ï¼ŒNOTç›¸å½“äºï½è¿ç®—è®¡ç®—å’Œ ç®—æ³•ä¸­ä¸€è‡´ï¼Œå…ˆå¤„ç†æ‹¬å·ä¸­çš„BOOLEANï¼Œä¸åšè¿‡å¤šä»‹ç» IN è¡¨ç¤ºåœ¨æŸæŸä¹‹ä¸­ 123SELECT åˆ—åç§°, åˆ—åç§°, ... FROM è¡¨åç§° WHERE æ¡ä»¶1 AND æ¡ä»¶2 AND æ¡ä»¶3 ...;SELECT åˆ—åç§°1, åˆ—åç§°2, ... FROM è¡¨åç§° WHERE æ¡ä»¶1 OR æ¡ä»¶2 OR æ¡ä»¶3 ...;SELECT åˆ—åç§°1, åˆ—åç§°2, ... FROM è¡¨åç§° WHERE NOT æ¡ä»¶2; ORDER BYï¼ŒGROUP BY ORDER BYæ˜¯æ ¹æ®ä½ é€‰çš„å€¼è¿›è¡Œæ’åº 1SELECT åˆ—åç§°1, åˆ—åç§°2, ... FROM è¡¨åç§° ORDER BY åˆ—åç§°1, åˆ—åç§°2, ... ASC|DESC; GROUP BY æ ¹æ®ä½ é€‰çš„å€¼è¿›è¡Œåˆ†ç»„ 12345SELECT åˆ—åç§°(s)FROM è¡¨åç§°WHERE æ¡ä»¶GROUP BY åˆ—åç§°(s)ORDER BY åˆ—åç§°(s); UNION åˆå¹¶å¤šä¸ªSELECTè¯­å¥çš„ç»“æœ 123SELECT åˆ—åç§° FROM è¡¨1UNIONSELECT åˆ—åç§° FROM è¡¨2 æ“ä½œå®ä¾‹ 1SELECT E_name FROM China UNION SELECT E_name FROM English BETWEENï¼ŒAS BETWEENè¡¨ç¤ºåœ¨æŸä¸ªåŒºé—´ä¹‹ä¸­ 1SELECT åˆ— FROM è¡¨ BETWEEN å€¼1 AND å€¼2 ASä¸ºè¡¨æˆ–è€…åˆ—å–åˆ«åï¼ˆ&amp; â€“ C++ä¸­çš„å¼•ç”¨ï¼‰ 12SELECT åˆ— AS åˆ«å FROM è¡¨ -- ä¸ºåˆ—è®¾ç½®åˆ«åSELECT åˆ— FROM è¡¨ AS åˆ«å -- ä¸ºè¡¨è®¾ç½®åˆ«å JOIN INNER JOIN è¿”å›ä¸¤ä¸ªè¡¨ä¸­æ»¡è¶³æ¡ä»¶çš„åˆ— 1234SELECT åˆ—FROM è¡¨1INNER JOIN è¡¨2ON è¡¨1.åˆ— = è¡¨2.åˆ— LEFT JOIN æ³¨æ„ å³ä½¿å³è¡¨ä¸­æ²¡æœ‰åŒ¹é…ï¼Œä¹Ÿä¼šä»å·¦è¡¨è¿”å›æ‰€æœ‰æ»¡è¶³è¯¥åˆ—çš„æ•°æ® 1234SELECT åˆ—åç§°(s)FROM è¡¨1LEFT JOIN è¡¨2ON è¡¨1.åˆ—åç§° = è¡¨2.åˆ—åç§°; RIGHT JOIN æ³¨æ„ å³ä½¿å·¦è¡¨ä¸­æ²¡æœ‰åŒ¹é…ï¼Œä¹Ÿä¼šä»å³è¡¨è¿”å›æ‰€æœ‰æ»¡è¶³è¯¥åˆ—çš„æ•°æ® 1234SELECT åˆ—åç§°(s)FROM è¡¨1RIGHT JOIN è¡¨2ON è¡¨1.åˆ—åç§° = è¡¨2.åˆ—åç§°; FULL OUTER JOIN æ²¡æœ‰åŒ¹é…çš„ä¹Ÿä¼šè¿”å›è¯¥è¡Œï¼Œä½†æ˜¯ä¸æ˜¯æ˜¾ç¤ºé™¤äº†ä¸»é”®çš„æ•°æ® 12345SELECT åˆ—åç§°(s)FROM è¡¨1FULL OUTER JOIN è¡¨2ON è¡¨1.åˆ—åç§° = è¡¨2.åˆ—åç§°WHERE æ¡ä»¶; SQLå‡½æ•° COUNT ç”¨äºè®¡æ•° 1SELECT COUNT(åˆ—åç§°) FROM è¡¨åç§° WHERE æ¡ä»¶; AVG å–å¹³å‡å€¼ 1SELECT AVG(åˆ—åç§°) FROM è¡¨åç§° WHERE æ¡ä»¶; SUM æ±‚å’Œ 1SELECT SUM(åˆ—åç§°) FROM è¡¨åç§° WHERE æ¡ä»¶; MAXï¼ŒMIN æ±‚æœ€å¤§å€¼æœ€å°å€¼ 1SELECT MIN(åˆ—åç§°) FROM è¡¨åç§° WHERE æ¡ä»¶; è§¦å‘å™¨ 123456create trigger &lt;è§¦å‘å™¨åç§°&gt; { before | after} -- ä¹‹å‰æˆ–è€…ä¹‹åå‡ºå‘ insert | update | delete -- æŒ‡æ˜äº†æ¿€æ´»è§¦å‘ç¨‹åºçš„è¯­å¥çš„ç±»å‹ on &lt;è¡¨å&gt; -- æ“ä½œå“ªå¼ è¡¨ for each row -- è§¦å‘å™¨çš„æ‰§è¡Œé—´éš”ï¼Œfor each row é€šçŸ¥è§¦å‘å™¨æ¯éš”ä¸€è¡Œæ‰§è¡Œä¸€æ¬¡åŠ¨ä½œï¼Œè€Œä¸æ˜¯å¯¹æ•´ä¸ªè¡¨æ‰§è¡Œä¸€æ¬¡ã€‚ &lt;è§¦å‘å™¨SQLè¯­å¥&gt; 123456789101112delimiter $CREATE TRIGGER set_userdate BEFORE INSERT on `message`for EACH ROWBEGIN set @statu = new.status; -- å£°æ˜å¤åˆ¶å˜é‡ statu if @statu = 0 then -- åˆ¤æ–­ statu æ˜¯å¦ç­‰äº 0 UPDATE `user_accounts` SET status=1 WHERE openid=NEW.openid; end if;END$DELIMITER ; -- æ¢å¤ç»“æŸç¬¦å· OLDå’ŒNEWä¸åŒºåˆ†å¤§å°å†™ NEW ç”¨NEW.col_nameï¼Œæ²¡æœ‰æ—§è¡Œã€‚åœ¨DELETEè§¦å‘ç¨‹åºä¸­ï¼Œä»…èƒ½ä½¿ç”¨OLD.col_nameï¼Œæ²¡æœ‰æ–°è¡Œã€‚ OLD ç”¨OLD.col_nameæ¥å¼•ç”¨æ›´æ–°å‰çš„æŸä¸€è¡Œçš„åˆ— ç´¢å¼• æé«˜æŸ¥è¯¢æ•ˆç‡ï¼Œè¦æ±‚ç´¢å¼•å”¯ä¸€ æ™®é€šç´¢å¼• 12ALTER TABLE `è¡¨åå­—` ADD INDEX ç´¢å¼•åå­— ( `å­—æ®µåå­—` )-- å¯¹äºå­—æ®µåå­—ï¼ˆè¡¨ä¸­ä¸€åˆ—æ•°æ®ï¼‰æä¾› `ç´¢å¼•åå­—`ä½œä¸ºç´¢å¼• æ“ä½œå®ä¾‹ 12-- ç»™ user è¡¨ä¸­çš„ idå­—æ®µ æ·»åŠ ä¸»é”®ç´¢å¼•(PRIMARY key)ALTER TABLE `user` ADD PRIMARY key (id); ä¸»é”®ç´¢å¼• 1&gt; ALTER TABLE `è¡¨åå­—` ADD PRIMARY KEY ( `å­—æ®µåå­—` ) æ“ä½œå®ä¾‹ 12-- ç»™ user è¡¨ä¸­çš„ idå­—æ®µ æ·»åŠ ä¸»é”®ç´¢å¼•(PRIMARY key)ALTER TABLE `user` ADD PRIMARY key (id); å”¯ä¸€ç´¢å¼• 1ALTER TABLE `è¡¨åå­—` ADD UNIQUE (`å­—æ®µåå­—`) æ“ä½œå®ä¾‹ 12-- ç»™ user è¡¨ä¸­çš„ idå­—æ®µ æ·»åŠ ä¸»é”®ç´¢å¼•(PRIMARY key)ALTER TABLE `user` ADD PRIMARY key (id); å…¨æ–‡ç´¢å¼• 1ALTER TABLE `è¡¨åå­—` ADD FULLTEXT (`å­—æ®µåå­—`) æ“ä½œå®ä¾‹ 12-- ç»™ user è¡¨ä¸­çš„ description å­—æ®µæ·»åŠ å…¨æ–‡ç´¢å¼•(FULLTEXT)ALTER TABLE `user` ADD FULLTEXT (description); å»ºç«‹ç´¢å¼•çš„æ—¶æœº å¯ä»¥ä½¿ç”¨ LIKE ä»¥é€šé…ç¬¦%å’Œ_ä½œä¸ºå¼€å¤´æŸ¥è¯¢æ—¶ 12SELECT * FROM mytable WHERE username like'admin%'; -- è€Œä¸‹å¥å°±ä¸ä¼šä½¿ç”¨ï¼šSELECT * FROM mytable WHERE Name like'%admin'; -- å› æ­¤ï¼Œåœ¨ä½¿ç”¨LIKEæ—¶åº”æ³¨æ„ä»¥ä¸Šçš„åŒºåˆ«ã€‚ åˆ›å»ºè¡¨åçš„ä¿®æ”¹ æ·»åŠ åˆ— 1alter table è¡¨å add åˆ—å åˆ—æ•°æ®ç±»å‹ [after æ’å…¥ä½ç½®]; æ“ä½œå®ä¾‹ 123456-- åœ¨è¡¨studentsçš„æœ€åè¿½åŠ åˆ— address: alter table students add address char(60);-- åœ¨åä¸º age çš„åˆ—åæ’å…¥åˆ— birthday: alter table students add birthday date after age;-- åœ¨åä¸º number_people çš„åˆ—åæ’å…¥åˆ— weeks: alter table students add column `weeks` varchar(5) not null default &quot;&quot; after `number_people`; ä¿®æ”¹åˆ— 1alter table è¡¨å change åˆ—åç§° åˆ—æ–°åç§° æ–°æ•°æ®ç±»å‹; æ“ä½œå®ä¾‹ 123456-- å°†è¡¨ tel åˆ—æ”¹åä¸º telphone: alter table students change tel telphone char(13) default &quot;-&quot;;-- å°† name åˆ—çš„æ•°æ®ç±»å‹æ”¹ä¸º char(16): alter table students change name name char(16) not null;-- ä¿®æ”¹ COMMENT å‰é¢å¿…é¡»å¾—æœ‰ç±»å‹å±æ€§alter table students change name name char(16) COMMENT 'è¿™é‡Œæ˜¯åå­—'; åˆ é™¤åˆ— 1alter table è¡¨å drop åˆ—åç§°; æ“ä½œå®ä¾‹ 12-- åˆ é™¤è¡¨studentsä¸­çš„ birthday åˆ—: alter table students drop birthday; é‡å‘½åè¡¨ 1alter table è¡¨å rename æ–°è¡¨å; æ“ä½œå®ä¾‹ 12-- é‡å‘½å students è¡¨ä¸º workmates: alter table students rename workmates; æ¸…ç©ºè¡¨æ•°æ® DELETE:1. DMLè¯­è¨€;2. å¯ä»¥å›é€€;3. å¯ä»¥æœ‰æ¡ä»¶çš„åˆ é™¤; TRUNCATE:1. DDLè¯­è¨€;2. æ— æ³•å›é€€;3. é»˜è®¤æ‰€æœ‰çš„è¡¨å†…å®¹éƒ½åˆ é™¤;4. åˆ é™¤é€Ÿåº¦æ¯”deleteå¿«ã€‚ 12delete from è¡¨å; truncate table &quot;è¡¨å&quot;; æ“ä½œå®ä¾‹ 1234-- æ¸…ç©ºè¡¨ä¸º workmates é‡Œé¢çš„æ•°æ®ï¼Œä¸åˆ é™¤è¡¨ã€‚ delete from workmates;-- åˆ é™¤workmatesè¡¨ä¸­çš„æ‰€æœ‰æ•°æ®ï¼Œä¸”æ— æ³•æ¢å¤truncate table workmates; åˆ é™¤æ•´å¼ è¡¨ 1drop table è¡¨å; æ“ä½œå®ä¾‹ 12-- åˆ é™¤ workmates è¡¨: drop table workmates; åˆ é™¤æ•´ä¸ªæ•°æ®åº“ 1drop database æ•°æ®åº“å; æ“ä½œå®ä¾‹ 12-- åˆ é™¤ samp_db æ•°æ®åº“: drop database samp_db; ç›¸å…³æ•°æ®åº“çš„æ‰©å±•å†…å®¹ äº‹åŠ¡ä¸ç´¢å¼•ä¼˜åŒ– äº‹åŠ¡æ˜¯ä¸€ç»„æ•°æ®åº“æ“ä½œï¼ˆä¾‹å¦‚æ’å…¥ã€æ›´æ–°ã€åˆ é™¤ï¼‰ï¼Œè¿™äº›æ“ä½œè¦ä¹ˆå…¨éƒ¨æˆåŠŸæ‰§è¡Œï¼Œè¦ä¹ˆå…¨éƒ¨å¤±è´¥å›æ»šï¼Œç¡®ä¿æ•°æ®ä¸€è‡´æ€§ã€‚äº‹åŠ¡å…·æœ‰ ACID ç‰¹æ€§ï¼š Aï¼ˆAtomicityï¼ŒåŸå­æ€§ï¼‰ï¼šäº‹åŠ¡æ“ä½œä¸å¯åˆ†å‰²ï¼Œè¦ä¹ˆå…¨åšï¼Œè¦ä¹ˆå…¨ä¸åš Cï¼ˆConsistencyï¼Œä¸€è‡´æ€§ï¼‰ï¼šäº‹åŠ¡å®Œæˆåï¼Œæ•°æ®åº“ä¿æŒä¸€è‡´çŠ¶æ€ Iï¼ˆIsolationï¼Œéš”ç¦»æ€§ï¼‰ï¼šå¤šä¸ªäº‹åŠ¡å¹¶å‘æ‰§è¡Œæ—¶ï¼Œäº’ä¸å¹²æ‰° Dï¼ˆDurabilityï¼ŒæŒä¹…æ€§ï¼‰ï¼šäº‹åŠ¡ä¸€æ—¦æäº¤ï¼Œæ•°æ®æ°¸ä¹…ä¿å­˜ ç´¢å¼•ä¼˜åŒ– ç´¢å¼•æ˜¯æ•°æ®åº“ä¸­ç”¨äºåŠ é€ŸæŸ¥è¯¢çš„ç‰¹æ®Šç»“æ„ï¼Œç±»ä¼¼äºä¹¦çš„ç›®å½•ã€‚å¸¸è§çš„ç´¢å¼•ç±»å‹åŒ…æ‹¬ï¼š B+æ ‘ç´¢å¼•ï¼šé€‚åˆèŒƒå›´æŸ¥è¯¢å’Œæ’åº ï¼ˆäºŒåˆ†ï¼‰ å“ˆå¸Œç´¢å¼•ï¼šé€‚åˆç²¾ç¡®åŒ¹é…æŸ¥è¯¢ å…¨æ–‡ç´¢å¼•ï¼šç”¨äºæ–‡æœ¬æœç´¢ æ“ä½œå®ä¾‹ 123456789101112131415161718-- å¼€å¯äº‹åŠ¡START TRANSACTION;-- æ‰§è¡Œå¤šæ¡ SQL æ“ä½œUPDATE account SET balance = balance - 100 WHERE user_id = 1;UPDATE account SET balance = balance + 100 WHERE user_id = 2;-- æäº¤äº‹åŠ¡ï¼ˆæˆåŠŸæ—¶ï¼‰COMMIT;-- æˆ–è€…å›æ»šäº‹åŠ¡ï¼ˆå¤±è´¥æ—¶ï¼‰ROLLBACK;-- ä¸º user è¡¨çš„ email å­—æ®µæ·»åŠ  B+æ ‘ç´¢å¼•CREATE INDEX idx_email ON user(email);-- æŸ¥çœ‹æŸ¥è¯¢è®¡åˆ’ï¼Œä¼˜åŒ–ç´¢å¼•ä½¿ç”¨EXPLAIN SELECT * FROM user WHERE email = 'test@example.com'; å…³ç³»æ•°æ®åº“èŒƒå¼ å…³ç³»æ•°æ®åº“èŒƒå¼ï¼ˆNormalizationï¼‰æ˜¯è®¾è®¡æ•°æ®åº“è¡¨ç»“æ„çš„ä¸€å¥—è§„åˆ™ï¼Œæ—¨åœ¨å‡å°‘æ•°æ®å†—ä½™ã€ç¡®ä¿æ•°æ®ä¸€è‡´æ€§ã€‚å¸¸è§çš„èŒƒå¼åŒ…æ‹¬ï¼š ç¬¬ä¸€èŒƒå¼ï¼ˆ1NFï¼‰ï¼šç¡®ä¿è¡¨ä¸­æ¯ä¸ªå­—æ®µå€¼ä¸å¯å†åˆ†ï¼ˆåŸå­æ€§ï¼‰ï¼Œä¸”æ¯è¡Œæœ‰å”¯ä¸€æ ‡è¯†ï¼ˆä¸»é”®ï¼‰ã€‚ ç¬¬äºŒèŒƒå¼ï¼ˆ2NFï¼‰ï¼šåœ¨ 1NF åŸºç¡€ä¸Šï¼Œç¡®ä¿éä¸»é”®å­—æ®µå®Œå…¨ä¾èµ–äºä¸»é”®ï¼ˆæ¶ˆé™¤éƒ¨åˆ†ä¾èµ–ï¼‰ã€‚ ç¬¬ä¸‰èŒƒå¼ï¼ˆ3NFï¼‰ï¼šåœ¨ 2NF åŸºç¡€ä¸Šï¼Œç¡®ä¿éä¸»é”®å­—æ®µä¹‹é—´æ²¡æœ‰ä¼ é€’ä¾èµ–ã€‚ åèŒƒå¼åŒ–ï¼šåœ¨æŸäº›åœºæ™¯ï¼ˆå¦‚é«˜æ€§èƒ½æŸ¥è¯¢éœ€æ±‚ï¼‰ä¸‹ï¼Œå¯èƒ½æœ‰æ„è¿åèŒƒå¼ï¼Œå¢åŠ å†—ä½™ä»¥æå‡æŸ¥è¯¢æ•ˆç‡ã€‚ æ“ä½œå®ä¾‹ 12345678910111213141516171819202122232425262728-- æœªè§„èŒƒåŒ–è¡¨ï¼ˆè¿å 1NFï¼Œaddress å­—æ®µå¯å†åˆ†ï¼‰CREATE TABLE bad_order ( order_id INT PRIMARY KEY, customer_name VARCHAR(50), address VARCHAR(200) -- åŒ…å«åŸå¸‚ã€è¡—é“ç­‰);-- è§„èŒƒåŒ–åˆ° 1NFï¼ˆæ‹†åˆ† addressï¼‰CREATE TABLE good_order ( order_id INT PRIMARY KEY, customer_name VARCHAR(50), city VARCHAR(50), street VARCHAR(100));-- è§„èŒƒåŒ–åˆ° 2NFï¼ˆå°†å®¢æˆ·ä¿¡æ¯å•ç‹¬æ‹†å‡ºï¼Œæ¶ˆé™¤éƒ¨åˆ†ä¾èµ–ï¼‰CREATE TABLE customer ( customer_id INT PRIMARY KEY, customer_name VARCHAR(50), city VARCHAR(50), street VARCHAR(100));CREATE TABLE order ( order_id INT PRIMARY KEY, customer_id INT, FOREIGN KEY (customer_id) REFERENCES customer(customer_id)); è­¦å‘Š åç»­æ˜¯æƒ³åœ¨æˆ‘ä»¬çš„å›½åˆ›ä¸­è®¾è®¡ä¸€ä¸ªåº”ç”¨å¯ä»¥éœ€è¦ä¸€ä¸ªå‰åç«¯å¼€å‘çš„è½¯ä»¶ï¼Œåˆ°æ—¶å€™ä¼šæ›´æ–°æ•°æ®åº“åšé¡¹ç›®çš„å…·ä½“ç»†èŠ‚","link":"/2025/04/12/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80/"},{"title":"å…³äºè¿‡å»","text":"ä»Šå¤©çªç„¶å¬åˆ°â€œè€ç”·å­©â€ï¼Œâ€œæ›¾ç»å¿—åœ¨å››æ–¹å°‘å¹´ï¼Œç¾¡æ…•å—é£çš„é›â€ï¼Œ å¦‚æœä¸ç€æ€¥èµ¶è·¯ï¼Œè¯­æ–‡åº”è¯¥æ˜¯æœ€ç¾çš„å­¦ç§‘ã€‚æˆ‘ä¸€ç›´å–œæ¬¢è¯­æ–‡ä¸­é‚£äº›ç›´å‡»å†…å¿ƒçš„è¯—è¯å’Œç¾å¥ã€‚ æˆ‘çš„é’æ˜¥è¤ªè‰²çš„å¾ˆä¸¥é‡ï¼Œæˆ‘ä¸€åº¦ä»¥ä¸ºæˆ‘è®°å¿†ä¸­å‚æ™šçš„å¤•é˜³ï¼Œå†¬æ—¥é£˜æ´’çš„é›ªèŠ±ï¼Œé‚£å¹´å¤œæ™šä¸­ç››æ”¾çš„çƒŸèŠ±æ˜¯æˆ‘çš„ä¸€åœºæ¢¦ï¼Œå› ä¸ºè¿™ä¸€åˆ‡éƒ½å¤ªå¿«äº†ï¼Œå¤ªå¿«äº†ï¼Œå¿«åˆ°æˆ‘çš„çœ¼è§’çˆ¬å‡ºäº†çš±çº¹ï¼Œå¿«åˆ°äº†æˆ‘çœ‹ä¸æ¸…ç«™åœ¨æˆ‘é’æ˜¥ä¸­ç† ç† ç”Ÿè¾‰çš„ä½ ï¼Œå¿«åˆ°æˆ‘ä¸å†é²œæ´»çš„çµé­‚å’Œè€åŒ–çš„èº«ä½“å½»åº•çš„åˆäºŒä¸ºä¸€ã€‚ å¦‚æœæœ€åçš„æœ€åï¼Œæˆ‘è¿˜æ˜¯æ²¡èƒ½æ‹¥æœ‰å’Œæ—¶é—´ä¸€æ ·ç»ä¸å›å¤´çš„å‹‡æ°”ï¼Œä¸æ˜¯æˆ‘æ²¡æ‰¾åˆ°åƒé’¢é“é‚£èˆ¬ç‰¢ä¸å¯ç ´çš„å¿ƒï¼Œåªæ€ªç”Ÿå‘½å¤ªå¼ æ‰¬ï¼Œç”Ÿæ´»ä¹Ÿä»æ¥ä¸æ˜¯èµ°è¿‡åœºã€‚é‚£äº›åœ¨æ³¥åœŸé‡Œå‹ä¸‹å»çš„æ²¡ä¸€ä¸ªè„šå°éƒ½æ˜¯çœŸå®æœ‰åŠ›é‡çš„ï¼Œè€Œæˆ‘ä»¬èƒ½æ„ŸçŸ¥ï¼Œä¼šå¿ƒè·³ï¼Œæ‡‚å¾—çˆ±ï¼Œå°±æ²¡ä»€ä¹ˆå¤§ä¸äº†ã€‚æ‰€ä»¥äººè¦å…è®¸è‡ªå·±å›å¤´çœ‹ï¼Œå³ä½¿çœ¼æ³ªå†æŸ”è½¯ã€‚","link":"/2025/04/30/%E5%85%B3%E4%BA%8E%E8%BF%87%E5%8E%BB/"},{"title":"Typora to Obisidian","text":"Typora è½¬ Obisidian ğŸ‰ ç”±äº typora å½“æ–‡å­—è¿‡å¤šçš„æ—¶å€™ä¼šå¡é¡¿ï¼Œéå¸¸å½±å“æ•ˆç‡ï¼Œæ‰€ä»¥æˆ‘è½¬Obisidianäº†ï¼Œå…¶å® æˆ‘çš„ç¬”è®°è½¯ä»¶æ˜¯ ä» Typora $\\rightarrow$ notion $\\rightarrow$ Obisidian $\\rightarrow$ Typora $\\rightarrow$ Obisidianäº†ï¼Œä½†æ˜¯ç°åœ¨ç»ˆäºæ„Ÿè§‰åˆ°äº†, Obisidian æ˜¯æ¯”è¾ƒå¥½ç”¨çš„ã€‚","link":"/2025/05/08/Typora-%E8%BD%AC-obisidian/"},{"title":"Obisidian to Typora","text":"è¿˜æ˜¯ä» Obisidian è½¬ Typoraäº† Typora è¿˜æ˜¯å¤ªè½»é‡åŒ–äº†ï¼Œé™¤äº†æ–‡å­—è¿‡å¤šæœ‰ä¸€ç‚¹å¡ä»¥å¤–ï¼Œå…¶ä»–è¿˜æ˜¯å¤ªæ— æ•Œäº†ï¼Œä¸»è¦æ˜¯ Obisidian å¤ªä¸æ–¹ä¾¿äº†ï¼Œä»–æ˜¯éœ€è¦å°†æ¯ä¸€ä¸ªæ–‡ä»¶å½“æˆä¸€ä¸ªä»“åº“æ¥ä½¿ç”¨ï¼Œç„¶åæ¯ä¸€ä¸ªä»“åº“æ‰€å¯¹åº”çš„ä¸»é¢˜å•Šï¼Œä»€ä¹ˆéƒ½éœ€è¦æ›´æ”¹è¿˜æ˜¯ååˆ†çš„ä¸æ–¹ä¾¿ã€‚ä»¥åä¼šä½¿ç”¨ Obisidian æ¥å†™é•¿æ—¶é—´æ–‡ç« ï¼Œä½¿ç”¨ Typora æ¥ç¼–å†™ä¸€äº›å³æ—¶çš„æ–‡ç« ã€‚ ä¸ºäº†è§£å†³ TYPORA ä½¿ç”¨å¡é¡¿çš„é—®é¢˜ï¼Œæˆ‘åœ¨ç½‘ç»œä¸Šæ‰¾äº†å¾ˆå¤šç›¸å…³çš„èµ„æ–™ï¼Œå¯¹äºåœ¨ MAC ä¸Šçš„è§£å†³åŠæ³•å¤ªå°‘ï¼Œæ‰€ä»¥æˆ‘åªèƒ½é‡‡ç”¨åˆ†æ–‡ä»¶çš„æ ¼å¼æ¥å†™ç¬”è®°äº†ï¼Œä»¥åä¼šå°†ç®—æ³•çš„å†…å®¹è¿›è¡Œåˆ†å—ç¼–å†™ã€‚","link":"/2025/05/21/Obisidian%20to%20Typora/"},{"title":"ç®—æ³•ä¹‹ç¾","text":"é€‰è‡ª å¾®ä¿¡ çš„ ç®—æ³•ä¹‹ç¾. ä¸å®šæœŸæ›´æ–°ï¼ˆä¸»è¦è¿™ä¸ªå¾®ä¿¡æ¨æ–‡çš„ç®—æ³•çŸ¥è¯†éƒ½æ˜¯åæ•°å­¦çš„ç¡¬çŸ¥è¯†ï¼‰ æ•°è®ºåŠå…¶ç®—æ³• ç´ æ•°çš„åˆ¤å®š åŸºç¡€çš„ç´ æ•°åˆ¤å®š 12345678bool isprime(int a){ if(a &lt; 2) return true; for(int i = 2; i * i &lt;= a; i++){ if(a % i == 0) return false; } return true;} åŸƒå¼ç­› å¦‚æœè¿™ä¸ªæ•°å­—æ˜¯ç´ æ•°çš„è¯ï¼Œé‚£å°†è¿™ä¸ªæ•°å­—çš„å€æ•° éƒ½ä¸å¯èƒ½æ˜¯ç´ æ•° 123456789int prime[N],cnt = 0;bool Num[N];void erathic(int n){ for(int i = 2; i &lt;= n; i++){ if(!num[i]){prime[cnt++] = i;} for(int j = i * i; j &lt;= n; j += i){num[j] = true;} }} æ¬§æ‹‰ç­› æ¯ä¸ª åˆæ•°ï¼ˆéç´ æ•°ï¼‰ åªè¢«è‡ªå·±çš„ æœ€å°è´¨å› å­ ç­›æ‰ 123456789101112131415int prime[N],cnt = 0;bool num[N];int euler(int n){ menset(num,false,sizeof(num)) num[0] = num[1] = true; for(int i = 2; i &lt;= n; i++){ if(!num[i]){ prime[cnt++] = i; } for(int j = 0; j &lt; cnt &amp;&amp; prime[j] * i &lt;= n; j ++){ num[prime[j] * i] = true; if(i % prime[j] == 0) break; // ä¸å†ç»§ç»­ï¼Œå› ä¸º i * prime[j + 1] è¢«è®¾ç½®çš„è¯ï¼Œå°±ä¸æ»¡è¶³ æ¯ä¸ªåˆæ•° è¢« æœ€å°è´¨å› å­ ç­›æ‰ è¿™ä¸ªæ¡ä»¶ } }} æ¬§å‡ é‡Œå¾—ç®—æ³• æœ€å¤§å…¬çº¦æ•°çš„é‡è¦æ€§è´¨ï¼š a, b çš„æœ€å¤§å…¬çº¦æ•°ï¼Œç›¸å½“äº a * x å’Œ b * yï¼Œéšæ„æ•´æ•°x, y,ä½¿å¾— a * x å’Œ b * y çš„å·®å€¼æœ€å° åŸºæœ¬GCD ç®—æ³• æ ¸å¿ƒï¼šgcd(a, b) = gcd(b, a % b), gcd(n, 0) = n æ­£ç¡®æ€§æ ¸å¿ƒï¼šgcd(a, b) = gcd(a, a - b), a % b = a - (a / b)*b 1234int gcd(int a, int b){ if(b == 0) return a; return gcd(b, a % b);} æ‰©å±• æ¬§å‡ é‡Œå¾—ç®—æ³• åŸºæœ¬é—®é¢˜ï¼ša * x + b * y = gcd(a,b) æ±‚ x, y a mod b â†’(a - (a / b) * b) 12345678910int gcd(int a, int b, int &amp;x, int &amp;y){ if(b == 0){ x = 1; y = 0; return a; } int t = gcd(b, a % b, x,y); int t1 = x; x = y; y = t - (a / b) % y;} è´ç¥–å®šç†(è£´èœ€å®šç†) åŸºæœ¬å½¢å¼ï¼ša * x + b * y = gcd(a, b)ï¼Œx, y ä¸ºéšæœºæ•° å¦‚æœ a * x + b * y = 1 æ„å‘³ç€ aï¼Œbäº’è´¨ã€‚ a * x + b * y = k * gcd(a, b)","link":"/2025/04/17/%E7%AE%97%E6%B3%95%E4%B9%8B%E7%BE%8E/"},{"title":"ACMé›†è®­é¢˜","text":"Let me alone. æ³¨æ„ æœ¬é›†è®­é¢˜åœ¨æš‘å‡çš„æ—¶å€™ç»§ç»­æ›´æ–°ï¼ˆå› ä¸ºè¿™ä¸ªå­¦æœŸé›†è®­æ¬¡æ•°è¿‡å°‘ã€‚ï¼‰ é¢˜ç›® gcdå˜åŒ–æ¬¡æ•°ï¼Œ https://ac.nowcoder.com/acm/contest/69791/F çº¿æ®µæ ‘äºŒåˆ†ï¼Œ ç†è§£01æ’åºï¼Œhttps://www.luogu.com.cn/problem/P2824 https://ac.nowcoder.com/acm/contest/95323/K åŸºç¯æ ‘ https://www.luogu.com.cn/problem/P1399 ç‰›å®¢ åŸºç¡€ç®—æ³•ç­ GCD çš„å˜åŒ–æ¬¡æ•° æ³¨æ„åˆ°çš„æ€§è´¨ï¼šgcd(x, y) &lt;= min(x,y) â†’ gcd(x,y) &lt;= x / 2 ç›¸å½“äº GCD è¦ä¸ä¸å˜ï¼Œè¦ä¸å˜å° 1/2 O(log(n)) å¯¹äºä¸€ä¸ªå­åºåˆ—çš„ æœ€å¤§å…¬çº¦æ•°ï¼ˆGCDï¼‰ï¼Œå¯ä»¥è®¤å®šè¿™ä¸ª æœ€å¤§å…¬çº¦æ•°çš„ å¯èƒ½æ€§æ˜¯å¯ä»¥æšä¸¾çš„ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041#include&lt;bits/stdc++.h&gt;using namespace std;#define int long longconst int N = 6e5 + 10;vector&lt;pair&lt;int, int&gt;&gt; pos[N];void build(vector&lt;int&gt;&amp; a){ int n = a.size() - 1; pos[1].push_back({1,a[1]}); for(int i = 2; i &lt;= n; i++){ pos[i].push_back({i,a[i]}); int t = a[i]; for(auto [x,y] : pos[i - 1]){ int now = gcd(t,y); if(t != now){ pos[i].push_back({x,now}); t = now; } } }}signed main(){ ios::sync_with_stdio(false); cin.tie(0); cout.tie(0); int n, m; cin &gt;&gt; n &gt;&gt; m; vector&lt;int&gt; a(n + 1); for(int i = 1; i &lt;= n; i++) cin &gt;&gt; a[i]; build(a); while(m --){ int l, r; cin &gt;&gt; l &gt;&gt; r; int ans = 0; for(auto [x,y]: pos[r]){ if(x &gt;= l){ ans += 1; }else break; } cout &lt;&lt; ans &lt;&lt; &quot;\\n&quot;; }} æšä¸¾ æœ€è¿‘å°è¯•çš„å¾ˆå¤šé¢˜ç›®ï¼Œéƒ½å­˜åœ¨ä¸€ä¸ªå…³é”®ç‚¹ï¼Œä¾¿æ˜¯å¦‚æœæ•°æ®é‡æœ‰é™ï¼Œå¯ä»¥è¿›è¡Œæš´åŠ›æšä¸¾å¯èƒ½æ€§ã€‚ å­—ç¬¦ä¸²å“ˆå¸Œ è¿™ä¸ªé¢˜ç›®ä¸ä»…åº”ç”¨äº†æšä¸¾è¿˜è€ƒå¯Ÿäº† å­—ç¬¦ä¸²å“ˆå¸Œ ä¸ç¢°æ’çš„ç‰¹æ®Šæ€§è´¨ã€‚","link":"/2025/04/15/ACM%E9%9B%86%E8%AE%AD%E9%A2%98/"},{"title":"è€ç®—æ³•ç¬”è®°","text":"ä»£ç çš„å¼€å§‹ï¼Œç®—æ³•å­¦ä¹ çš„å¼€å§‹ å·¦ç¥è¯¾ç¨‹ç¬”è®° å‰ç½®åŸºæœ¬é—®é¢˜ï¼š 1. å½’å¹¶åˆ†æ²»ç®—æ³• å¤§èŒƒå›´çš„ç­”æ¡ˆ ç­‰ä¸ç­‰äº å·¦è¾¹éƒ¨åˆ† + å³è¾¹éƒ¨åˆ† + è·¨è¶Šå·¦å³ä¸¤è¾¹çš„ç­”æ¡ˆ ğŸ’¡è€ƒè™‘è·¨å·¦å³ æœ‰åºæ˜¯å¦èƒ½æå‡ä¾¿æ·æ€§ã€‚ å½’å¹¶æ’åºï¼š ğŸ’¡å½’å¹¶æ’åºæ˜¯ä¸€ä¸ªç¨³å®šçš„æ’åºã€‚ åˆ†æˆå·¦å³ï¼Œmergeæ’åº 123456789101112131415161718192021222324#include&lt;bits/stdc++.h&gt;using namespace std;const int N = 1e5+10;int a[N];int help[N];void merge(int l,int r){ int i = l, j = ((l + r) &gt;&gt; 1) + 1, t1 = 0; while(i &lt;= ((l + r)&gt;&gt; 1) &amp;&amp; j &lt;= r){ help[t1++] = (a[i] &lt;= a[j]) ? a[i++] : a[j++];} while(i &lt;= ((l + r)&gt;&gt; 1) ){. help[t1++] = a[i++]; } while(j &lt;= r){. help[t1++] = a[j++]; } for(i = r; i &gt;=l; i--){. a[i] = help[--t1]; }}void guibin(int l, int r,int n){ if(l &gt;= r) return ; guibin(l, (l + r) &gt;&gt; 1, n); guibin(((l + r) &gt;&gt; 1)+1, r, n); merge(l, r);} å½’å¹¶åˆ†æ²» ğŸ’¡ å½’å¹¶åˆ†æ²»æ˜¯åŸºäºå½’å¹¶æ’åºï¼Œåœ¨å½’å¹¶æ’åºçš„åŸºç¡€ä¸Šè¿›è¡Œåˆ† å·¦å³ + å·¦å³ä¸­çš„è¿‡æ¸¡ï¼Œä¸»è¦æ˜¯åˆ†æå·¦å³ä¸­çš„è¿‡æ¸¡è¿‡ç¨‹æ˜¯å¦è·Ÿå·¦å³éƒ¨åˆ†çš„æœ‰åºæ€§ç›¸å…³ã€‚ 2. éšæœºå¿«é€Ÿæ’åº åŸºæœ¬å†…å®¹ä¸å¿«é€Ÿæ’åºä¿æŒä¸€è‡´ï¼Œåªæ˜¯åœ¨é€‰æ‹©pivotçš„æ—¶å€™æ˜¯éšæœºé€‰æ‹©ã€‚ ğŸ’¡ pivotçš„éšæœºé€‰æ‹©æ˜¯ä»æ¦‚ç‡ä¸Šè®²å¿«é€Ÿæ’åºçš„æ—¶é—´å¤æ‚åº¦é™ä½åˆ°O(nlogn) å¿«æ’çš„é‡è¦éƒ¨åˆ†æ˜¯ partitionå‡½æ•° éƒ¨åˆ† 1234567891011121314151617181920212223242526272829303132333435#include&lt;bits/stdc++.h&gt;using namespace std;const int N = 1e5+10;int nums[N];int a,b;void swap(int i, int j){ int temp; temp = nums[i]; nums[i] = nums[j]; nums[j] = temp;}void part(int l, int r, int x){ int i = l; // å°äºåŒºåŸŸ a å¤§äºåŒºåŸŸ b a = l, b = r; while(i &lt;= b){ if(nums[i] &lt; x){ swap(i++,a++); }else if(nums[i] &gt; x){ swap(i, b--); }else i++; }}void quick__sort(int l, int r){ if(l &gt;= r){ return; } int pivot = nums[l]; part(l, r, pivot); quick__sort(l,a-1); quick__sort(b+1,r);} å¯ä»¥ç”¨ partition æ¥å¯»æ‰¾ ç¬¬kå¤§ ç¬¬kå° (è·å…°å›½æ——é—®é¢˜) 12345678910111213141516171819202122232425262728293031323334353637383940414243#include&lt;bits/stdc++.h&gt;using namespace std;const int N = 1e5+10;int nums[N];int a, b;void swap(int i, int j){ int temp = nums[i]; nums[i] = nums[j]; nums[j] = temp;}void partition(int l, int r, int x){ int i = l; a = l, b = r; while(i &lt;= b){ if(nums[i] &lt; x){ swap(i++,a++); }else if(nums[i] &gt; x){ swap(i, b--); }else i++; }}int find(int k, int n){ int ans = 0; for(int l = 0, r = n; l &lt;= r;){ partition(l, r, nums[l]); if(k &lt; a){ r = a -1; }else if(k &gt; b){ l = b + 1; }else{ ans = nums[k]; break; } } return ans;} æ„å»ºå‰ç¼€ä¿¡æ¯ï¼ˆ46ï¼‰ å¸¸è§æ„å»º æ„å»ºå‰ç¼€ä¿¡æ¯ ï¼ˆæœ€æ—© æœ€æ™šï¼‰ å‡ºç°çš„ä½ç½® å‰ç¼€å’Œæ¥ æ±‚åŒºé—´å’Œ sum[i] = sum[i-1] + a[i] {l , r} â†’ sum[r + 1] - sum[l] æ±‚ åŒºé—´ç´¯åŠ å’Œ ä¸ºç¡®å®šå€¼çš„ æœ€é•¿é•¿åº¦ï¼ˆå­æ•°ç»„ä¸ªæ•°ï¼‰ è®°å½• t = sum[i] - aim çš„æœ€æ—©å‡ºç°æ¬¡æ•°ï¼ˆi ä¹‹å‰çš„ t çš„å‡ºç°ä¸ªæ•°ï¼‰ æ­£æ•° å’Œ è´Ÿæ•° ç›¸ç­‰çš„ æœ€é•¿æ•°ç»„é•¿åº¦ æ­£æ•°ç›¸å½“äº 1 è´Ÿæ•°ç›¸å½“äº -1 æ±‚åŒºé—´ä¸º 0 1çš„å­æ•°ç»„æœ€é•¿é•¿åº¦ åŒºé—´å¤§äº 0 çš„æœ€é•¿æ•°ç»„é•¿åº¦ ï¼ˆå€¼åªæœ‰ -1, 1ï¼‰ aim = sum[i] - sum[j] â‰¥ 0 if sum[i] &gt; 0 â†’ ans = i if sum[i] â‰¤ 0 â†’ sum[i] -1 æœ€æ—©å‡ºç°çš„ä½ç½® ç§»é™¤æœ€çŸ­çš„æ•°ç»„å­æ•°ç»„é•¿åº¦ sum èƒ½è¢« p æ•´æ•° ä¸ ä½™æ•°ç›¸å…³ sum1 % p = a // sum2 % p = b if(a + b % p == 0) (sum1 + sum2) % p == 0 æ•´ä½“ aim = sum(æ€») % p â†’ çœ‹å“ªä¸ªåŒºé—´çš„ çš„ä½™æ•° (t + aim) % p == 0 find = (t + p - aim) % p (åŒä½™åŸç†) â†’ ä¸ç¯ä¹Ÿæœ‰å…³ ğŸ’¡ å•è°ƒé˜Ÿåˆ— å’Œ å•è°ƒæ ˆ ä¸€æ ·ï¼Œä¿å­˜ç€å¯¹äºç­”æ¡ˆçš„å¯èƒ½æ€§ï¼Œå¹¶ä¸”ä»æ ˆä¸­å¼¹å‡ºçš„æ—¶å€™ï¼Œè¿›è¡Œè®¡ç®—ï¼Œä¸è¿›è¡Œåç»­çš„è®¡ç®—ï¼Œä¸€èˆ¬åº”ç”¨äº åŒºé—´é—®é¢˜ã€‚ æ ¸å¿ƒæ€æƒ³ ï¼š è¶Šå¾€åçš„ æ»¡è¶³è¦æ±‚æ›´å¥½çš„é€‰æ‹© æ›´å¥½ å•è°ƒé˜Ÿåˆ— å•è°ƒé˜Ÿåˆ—åŸºæœ¬ç”¨æ³• â†’ ç”¨æ¥ç»´æŠ¤ä¸€ä¸ªçª—å£é‡Œé¢çš„æœ€å€¼ï¼ˆå·¦é—­å³å¼€ï¼‰ ğŸ’¡ å› ä¸ºä»å·¦å¼¹å‡ºçš„æ—¶å€™ï¼Œè¿™ä¸ªé˜Ÿåˆ—æ— è®ºå¦‚ä½•æ˜¯æ²¡æœ‰è¿‡æœŸä¸‹æ ‡çš„ï¼ˆè¦ä¸ä¸€å¼€å§‹è¢«æœ€å€¼ä»å³è¾¹é¡¶å‡ºå»äº†ï¼Œè¦ä¸è¶Šç•Œè¢«å·¦è¾¹å¼¹å‡ºå»äº†ï¼‰ 12345678910111213141516deque&lt;int&gt; q; for (l = r = 0; r &lt; n; r++) { while (!q.empty() &amp;&amp; a[r] &gt;= a[q.back()]) { q.pop_back(); } q.push_back(r); if (q.size() == limit + 1) { if (l++ == q.front()) { q.pop_front(); } } } ä¼˜å…ˆé˜Ÿåˆ—æ‰©å±• åŒºé—´å’Œ å°äº å®šå€¼çš„ æœ€çŸ­é•¿åº¦ 12345678910111213141516171819202122int shortestSubarray(vector&lt;int&gt;&amp; nums, int k) { int n = nums.size(); vector&lt;long long&gt; sum(n + 1, 0); deque&lt;int&gt; q; // å° -&gt; å¤§ for(int i = 1; i &lt;= n; i++){ sum[i] = sum[i-1] + nums[i-1]; } int ans = INT_MAX; q.push_back(0); for(int i = 1; i &lt;= n; i++){ while(!q.empty() &amp;&amp; sum[i] - sum[q.front()] &gt;= k){ //cout &lt;&lt; ans &lt;&lt; &quot; &quot; &lt;&lt; i - q.front() &lt;&lt; endl; ans = min(ans,i - q.front()); q.pop_front(); } while(!q.empty() &amp;&amp; sum[i] &lt;= sum[q.back()]){ q.pop_back(); } q.push_back(i); } return ans == INT_MAX ? -1 : ans; } åŒç«¯é˜Ÿåˆ—åƒè¯ä»»åŠ¡å®‰æ’ 123456789101112131415161718192021222324252627282930313233343536int n, s;cin &gt;&gt; n &gt;&gt;s;vector&lt;int&gt; a(n);vector&lt;int&gt; b(n);for(int i = 0; i &lt; n; i++) cin &gt;&gt; a[i]; // äººçš„ä½“åŠ›for(int i = 0; i &lt; n; i++) cin &gt;&gt; b[i]; // ä»»åŠ¡çš„éœ€æ±‚sort(a.begin(),a.end());sort(b.begin(),b.end());int ans = 0; // æœ€å°‘çš„è¯ä¸¸æ¬¡æ•°deque&lt;int&gt; q; /* å…ˆçœ‹æ¯ä¸€ä¸ªçš„åŠ›æ‰€èƒ½åŠ æ”¾å…¥é˜Ÿåˆ—ä¸­ */for(int i = 0, p = 0; i &lt; n; i++){ while(p &lt; n &amp;&amp; b[p] &lt;= a[i]){ q.push_back(b[p++]); } if(!q.empty() &amp;&amp; a[i] &gt;= q.front()){ q.pop_front(); }else { while(p &lt; n &amp;&amp; b[p] &lt; a[i] + s){ q.push_back(b[p++]); } if(q.empty()){ cout &lt;&lt; &quot;can't do it&quot; &lt;&lt; endl; return 0; }else{ ans++; q.pop_back(); // åƒè¯å–æœ€å¤§ } }}cout &lt;&lt; ans &lt;&lt; endl;return 0; å•è°ƒæ ˆ åŸºæœ¬ä½¿ç”¨æ–¹æ³• ç»´æŠ¤ å·¦å³ä¾§ æ¯” å½“å‰å…ƒç´  å¤§æˆ–è€…å° çš„æœ€è¿‘ä½ç½® ğŸ’¡ æ„å»ºä¸€ä¸ª æ ˆ â†’ è¶Šåå‡ºç°çš„å€¼ æœ‰æ›´å¤§çš„å½±å“åŠ› æ‰¾å‡º ä»¥æŸä¸ªå€¼ä¸ºæœ€å€¼çš„ å­æ•°ç»„ï¼ˆæœ€é•¿ æˆ–è€… å¯¹è¿™ä¸ªå­æ•°ç»„è¿›è¡Œä¸€äº›è®¡ç®—ï¼‰ åŒæ—¶é—´ç»´æŠ¤å·¦å³çš„ æœ€è¿‘çš„ æœ€å€¼ 1234567891011121314stack&lt;int&gt; s; // è®°å½•ä¸‹æ ‡for(int i = 0; i &lt; n; i++){ while(!s.empty() &amp;&amp; a[s.top()] &gt;= a[i]){ // i ä¸ºå³è¾¹ int cur = s.top(); s.pop(); // ä¸­é—´ int l = s.empty() ? -1 : s.top(); // å·¦è¾¹ } s.push(i);}while(!s.empty()){ int cur = s.top(); s.pop(); int l = s.empty() ? -1 : s.top(); ans += (cur - l) * (n - cur) * a[cur];} åˆ›æ–° ï¼š æ±‚ å­æ•°ç»„ä¸­çš„æœ€å°å€¼çš„å’Œ ğŸ’¡ ç”¨ å•è°ƒæ ˆ â†’ æ±‚å‡ºå·¦å³ä¸¤è¾¹ å°äº(å¤§äº) è¿™ä¸ªå€¼çš„ä½ç½® â†’ åœ¨è¿™ä¸ªä¸­é—´ iä½ç½®çš„å€¼ä¾¿æ˜¯æœ€å€¼ 12345678910111213141516171819202122232425262728#include&lt;bits/stdc++.h&gt;using namespace std;int main(){ int n; cin &gt;&gt; n; vector&lt;int&gt; a(n); for(int i = 0; i &lt; n; i++){ cin &gt;&gt; a[i]; } // åœ¨å­æ•°ç»„ä¸­ cur ä½ç½®ä¸ºæœ€å° i ä¸º å³è¾¹ stack&lt;int&gt; s; // è®°å½•ä¸‹æ ‡ long long ans = 0; for(int i = 0; i &lt; n; i++){ while(!s.empty() &amp;&amp; a[s.top()] &gt;= a[i]){ int cur = s.top(); s.pop(); // ä¸­é—´ int l = s.empty() ? -1 : s.top(); // å·¦è¾¹ ans += (cur - l) * (i - cur) * a[cur]; } s.push(i); } while(!s.empty()){ int cur = s.top(); s.pop(); int l = s.empty() ? -1 : s.top(); ans += (cur - l) * (n - cur) * a[cur]; } return 0;} å®ç°æœ€å°å­—å…¸åºï¼ˆå•è°ƒæ ˆï¼‰ ğŸ’¡ åˆ©ç”¨å•è°ƒæ ˆæ¥ç»´æŠ¤ä¸€ä¸ªä»å°åˆ°å¤§çš„ stack 123456789101112131415161718192021222324for(int i = 0; i &lt; a.size(); i++){ in[a[i] - 'a']++; } stack&lt;pair&lt;char,int&gt;&gt; s; vector&lt;bool&gt; vis(26,false); for(int i = 0; i &lt; a.size(); i++){ if(!vis[a[i] - 'a']){ while(!s.empty() &amp;&amp; s.top().first &gt; a[i] &amp;&amp; in[s.top().first - 'a'] &gt;= 1){ vis[s.top().first- 'a'] = false; s.pop(); } vis[a[i] - 'a'] = true; s.push({a[i], i}); } in[a[i] - 'a']--; } string ans = &quot;&quot;; while(!s.empty()){ ans = s.top().first + ans; s.pop(); } æ»‘åŠ¨çª—å£ + åŒæŒ‡é’ˆï¼ˆè§†é¢‘ï¼‰ æ•°æ®ç»“æ„ å‰ç¼€æ ‘ï¼ˆå­—å…¸æ ‘ï¼‰ ğŸ’¡ å‰ç¼€æ ‘æœ‰ç‚¹åƒé“¾å¼å‰å‘æ˜Ÿï¼Œæ˜¯ä¸€ä¸ªç”¨é™æ€æ•°ç»„æ¥è¿æ¥ã€‚ é‡ç‚¹éƒ¨åˆ† cntï¼šç”¨åºå·è¡¨ç¤ºè¿æ¥ï¼Œå¦‚æœè¿™ä¸ªèŠ‚ç‚¹æ²¡æœ‰ä½¿ç”¨è¿‡ï¼Œä»–æŠŠè¿™ä¸ªèŠ‚ç‚¹ç”¨cntæ¥ç¼–å·ï¼Œç„¶åcurä¼šä½¿ç”¨å®ƒæ¥è·³è½¬ï¼Œä¼šåˆ°è¾¾ä¸€ä¸ªæ²¡æœ‰å»è¿‡çš„å±‚æ¬¡ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849int cnt = 1; // å±‚æ¬¡ç¼–å·// æ’å…¥å•è¯void insert(const string&amp; word) { int cur = 1; pass[cur]++; for (char ch : word) { int path = ch - 'a'; if (tree[cur][path] == 0) { tree[cur][path] = ++cnt; } cur = tree[cur][path]; pass[cur]++; } end[cur]++;}// æŸ¥è¯¢å‰ç¼€çš„æ•°é‡int prefixNumber(const string&amp; prefix) { int cur = 1; for (char ch : prefix) { int path = ch - 'a'; if (tree[cur][path] == 0) { return 0; } cur = tree[cur][path]; } return pass[cur];}// åˆ é™¤å•è¯void deleteWord(const string&amp; word) { if (prefixNumber(word) &gt; 0) { int cur = 1; for (char ch : word) { int path = ch - 'a'; if (--pass[tree[cur][path]] == 0) { tree[cur][path] = 0; return; } cur = tree[cur][path]; } end[cur]--; }}// æ¸…ç©ºå‰ç¼€æ ‘void clear() { memset(tree, 0, sizeof(tree)); memset(pass, 0, sizeof(pass)); memset(end, 0, sizeof(end)); cnt = 1;} ä»¥ä¸‹æ˜¯å…³äº å­—å…¸æ ‘ + äºŒè¿›åˆ¶è¿ç®—ï¼š 123456789101112131415161718192021222324252627282930313233343536const int N = 1e3+10;const int M = 2;int pass[N];int End[N];int tree[N][M];int cnt = 1;void insert(int s){ int cur = 1; for(int i = 63; i &gt;= 0; i--){ int temp = ((1 &lt;&lt; i) &amp; s) &gt;&gt;i; //cout &lt;&lt; temp &lt;&lt; endl; if(tree[cur][temp] == 0){ tree[cur][temp] = ++cnt; } cur = tree[cur][temp]; } // æˆ‘å¦‚ä½•å–åˆ°è¿™ä¸ªäºŒè¿›åˆ¶ä¸Šé¢çš„å€¼}int exam(int t){ int cur = 1; int Max = 0; for(int i = 63; i &gt;= 0; i--){ int temp = (t &gt;&gt; i) &amp; 1; // æœ€å¥½ temp ^ aim == 1 aim == 1 ^ temp int aim = 1 ^ temp; if(tree[cur][aim] == 0){ aim ^= 1; } Max |= ((temp ^ aim) &lt;&lt; i); cur = tree[cur][aim]; } return Max;} å•è°ƒæ ˆ + å•è°ƒé˜Ÿåˆ— stack st ä¾¿æ˜¯å•è°ƒæ ˆçš„å½¢å¼ï¼Œåªæ˜¯æ ˆä¸­çš„å…ƒç´ æ˜¯å•è°ƒçš„ã€‚ priority_queue q ä¾¿æ˜¯å•è°ƒé˜Ÿåˆ—ï¼ˆä¼˜å…ˆé˜Ÿåˆ—ï¼‰çš„å½¢å¼ï¼Œåœ¨ä¼˜å…ˆé˜Ÿåˆ—ä¸­çš„å…ƒç´ æ˜¯å•è°ƒçš„ã€‚ å¹¶æŸ¥é›†ï¼ˆæ¨¡ç‰ˆï¼‰ 123456789101112131415161718192021222324const int N = 1e5 + 10;int father[N];// åˆå§‹åŒ–å¹¶æŸ¥é›†void build(int n) { for (int i = 0; i &lt; n; i++) { father[i] = i; }}// æŸ¥æ‰¾å…ƒç´ çš„æ ¹ï¼Œå¹¶è¿›è¡Œè·¯å¾„å‹ç¼©int find(int i) { if (i != father[i]) { father[i] = find(father[i]); } return father[i];}// åˆ¤æ–­ä¸¤ä¸ªå…ƒç´ æ˜¯å¦å±äºåŒä¸€ä¸ªé›†åˆbool isSameSet(int x, int y) { return find(x) == find(y);}// åˆå¹¶ä¸¤ä¸ªé›†åˆvoid unite(int x, int y) { father[find(x)] = find(y);} åŸºæœ¬å»ºå›¾æ–¹æ³• vector æ•°ç»„å»ºå›¾ 1vector&lt;pair&lt;int,int&gt;&gt;a[10005]; é“¾å¼å‰å‘æ˜Ÿ ğŸ’¡ **åˆå§‹çš„ cnt æ˜¯æ²¡æœ‰ä½¿ç”¨è¿‡çš„ ç„¶åå°†è¿™ä¸ª cnt å¯¹åº” vèŠ‚ç‚¹ next è¡¨ç¤º ä¸‹ä¸€æ¡è¾¹çš„ç¼–å· head[u] èŠ‚ç‚¹çš„ å¤´éƒ¨è¾¹çš„ç¼–å·** --- u -&gt; new -&gt; old ä¸€å¼€å§‹çš„ head[u] -&gt; old ç°åœ¨å°† head[u] -&gt; new å°† new çš„ next -&gt; old 1234567891011121314151617181920212223242526272829const int N = 1e5+10;int cnt = 0;int head[N];struct{ int to, next, w;}edge[N]; void init(){ for(int i = 0; i &lt; N; i++){ head[i] = -1; edge[i].next = -1; } cnt = 1;}void add(int u, int v, int w){ edge[cnt].to = v; edge[cnt].w = w; edge[cnt].next = head[u]; head[u] = cnt++;}// éå†æ–¹æ³•void ex(){ int u ; for(int e = head[u]; e &gt; 0; e = edge[e].next){ int v = edge[e].to; }} æ‹“æ‰‘æ’åº ğŸ’¡ æ‰€è°“çš„æ‹“æ‰‘æ’åºï¼Œå…¶å®æ˜¯å›¾è®ºé‡Œé¢çš„ä¸€ä¸ªå¸¸è§æ‰‹æ®µï¼Œå¸¸ç”¨äºæœ‰å‰åå…³ç³»çš„èŠ‚ç‚¹çŠ¶æ€é—®é¢˜ã€‚ å¸¸ä» å…¥åº¦ä¸º0 çš„èŠ‚ç‚¹å¼€å§‹è®¿é—®**ã€‚ï¼ˆä¸ priority_queue å°æ ¹å †ç»“åˆåº”ç”¨ï¼‰** å¦‚æœæ— æ³•æŠŠæ‰€æœ‰çš„ç‚¹éƒ½åˆ æ‰ï¼Œè¯´æ˜æœ‰å‘å›¾é‡Œæœ‰ç¯ 123const int N = 1e5+10;int queue[N]; // å¯ä»¥ç”¨ STL ä»£æ›¿ ï¼ˆqueueï¼‰int indegree[N]; æ‹“æ‰‘æ’åºæ‰©å±•çŸ¥è¯†ï¼ˆç±»ä¼¼æ ‘å‹dpï¼‰ ğŸ’¡ å°† ä¸Šæ¸¸èŠ‚ç‚¹çš„ä¿¡æ¯ â†’ æ¨é€åˆ°ä¸‹æ¸¸èŠ‚ç‚¹ å€å¢ç®—æ³• + STè¡¨ï¼ˆç”¨äºåŒºé—´æŸ¥è¯¢æœ€å€¼ï¼Œgcdï¼‰(å…ˆçœ‹ åŸºç¡€dp ) ğŸ’¡ åŸç†ï¼šæ¯ä¸€ä¸ªæ•°å­— éƒ½èƒ½ç”¨ äºŒè¿›æ•° æ¥è¡¨ç¤º // å°½é‡é€¼è¿› ç›®æ ‡å€¼ åº”ç”¨: å¯é‡å¤è´¡çŒ®é—®é¢˜ å‰æï¼šåé¢çš„ç‚¹ è·³çš„è·ç¦» ä¼š å¤§äºç­‰äº å‰é¢çš„ç‚¹ è·³è·ƒå…¬å¼ï¼šST[ i ][ p ] = ST[ ST[ i ][ p-1 ] ][ p-1] p â†’ è·³ 2 çš„ p æ¬¡æ–¹ ä» å¤§ â†’ å° å°è¯• ä»…éœ€ åˆå§‹åŒ– ST[ i ][ 0 ] ï¼Œå…¶ä½™ å¯ä»¥ç”¨ è·³è·ƒå…¬å¼ è§£å†³ // ä»åˆ—å¼€å§‹å¡« ğŸ’¡ 123456ST[i][p] = max(ST[i][p-1], ST[i + 2 ^ p-1][p-1])ST[i][p] = min(ST[i][p-1], ST[i + 2 ^ p-1][p-1])ST[i][p] = gcd(ST[i][p-1], ST[i + 2 ^ p-1][p-1]) (i , j) -&gt; max(ST[i][p], ST[j - 2 ^ p + 1][p]) // p == log2(i - j + 1) Maxï¼ŒMinçš„åŸºæœ¬ä»£ç  123456789101112131415161718192021const int N = 1e3 + 10;int Log2[N];int stmax[N][N];int stmin[N][N];int num[N];void bulid(int n){ Log2[0] = -1; for(int i = 1; i &lt;= n; i++){ Log2[i] = Log2[i &gt;&gt; 1] + 1; stmax[i][0] = num[i]; stmin[i][0] = num[i]; } for(int p = 1; p &lt;= Log2[n]; p ++){ for(int i = 1; i &lt;= n; i++){ stmax[i][p] = max(stmax[i][p-1],stmax[i + (1 &lt;&lt; (p-1))][ p-1 ]); stmin[i][p] = min(stmin[i][p-1],stmin[i + (1 &lt;&lt; p-1)][p-1]); } }} æ‰©å±•çš„å¯é‡å¤è´¡çŒ®åŒºé—´é—®é¢˜: åŒºé—´ä¸ åŒºé—´æˆ– (ä¸¤ä¸ªç›¸åŒçš„æ•°å­— ä¸ æˆ– ä¸ä¼šå½±å“ç»“æœ) æ ‘ä¸Šé—®é¢˜ æ ‘ä¸Šå€å¢ + LCA tarjianç®—æ³• ğŸ’¡ æ‰¹é‡ ç¦»çº¿ æŸ¥è¯¢ å¦‚æœè®¿é—®çš„ ans -&gt; u çš„å¯¹åº”èŠ‚ç‚¹v è®¿é—®è¿‡ ans = v çš„ä»£è¡¨èŠ‚ç‚¹ ç†è§£ï¼š å› ä¸º ä½ åˆ°è¿™ä¸ªèŠ‚ç‚¹çš„æ—¶å€™ï¼Œå¯¹åº”çš„èŠ‚ç‚¹è®¿é—®è¿‡äº†çš„è¯ï¼Œé‚£äº›èŠ‚ç‚¹æ˜¯åœ¨ä¸€ä¸ªé›†åˆé‡Œé¢çš„ï¼Œç„¶å èŠ‚ç‚¹éå†æ˜¯ å±äº DFSï¼Œæ‰€ä»¥éƒ½æ˜¯ åˆ†æ”¯è®¿é—®ï¼Œè®¿é—®å®Œè¿™ä¸ª åˆ†æ”¯ï¼Œ èŠ‚ç‚¹è¿›è¡Œæ±‡æ€»é›†åˆã€‚ 1234567891011121314151617void tarjan(int u, int f){ vis[u] = true; for(int e = head[u]; e != 0; e = ed[e].next){ int v = ed[e].to; if(v != f){ tarjan(v, u); father[v] = u; } } for(int e = q_head[u]; e != 0; e = que[e].next){ int v = que[e].to; if(vis[v]){ ans[que[e].w] = find(v); } }} STè¡¨ ğŸ’¡ å½“ Deep æ·±åº¦æ•°ç»„ åˆ°è¾¾åŒä¸€å±‚çš„æ—¶å€™ æ‰€å¯¹åº”çš„ èŠ‚ç‚¹ æ˜¯å¦ç›¸åŒ ç›¸åŒ ï¼š LCA = Deep å°çš„ ä¸ç›¸åŒï¼š å†æ¬¡åŒæ—¶é—´è·³ï¼ˆonly ä¸è·³åˆ°åŒä¸€èŠ‚ç‚¹æˆ‘ä»¬æ‰è·³ï¼‰ STè¡¨å®ç°çš„é—®é¢˜ ï¼š åŠ å¿« Deepæ•°ç»„çš„è·³è·ƒè¿‡ç¨‹ 1234567891011121314151617181920212223242526272829int LCA(int u, int v){ /* uåœ¨ä¸‹é¢ */ if(Deep[u] &lt; Deep[v]){ int t = u; u = v; v = t; } for(int i = power; i &gt;= 0; i--){ if(Deep[ST[u][i]] &gt;= Deep[v]){ u = ST[u][i]; } } if(u == v){ return v; } for(int i = power; i &gt;= 0; i--){ if(ST[u][i] != ST[v][i]){ u = ST[u][i]; v = ST[v][i]; } } return ST[v][0];} æ ‘çš„é‡å¿ƒï¼ˆæœ‰ä¸€ä¸ªæˆ–è€…ä¸¤ä¸ªï¼‰ æ ‘çš„é‡å¿ƒçš„åŸºæœ¬å®šä¹‰ï¼š æœ€å¤§å­æ ‘çš„èŠ‚ç‚¹æ•° è¶³å¤Ÿå° æ¯æ£µå­æ ‘çš„èŠ‚ç‚¹æ•° ä¸è¶…è¿‡ æ€»èŠ‚ç‚¹æ•°çš„ä¸€åŠ æ‰€æœ‰èŠ‚ç‚¹ æ±‡èšåˆ° é‡å¿ƒçš„ æ­¥æ•°æœ€å°‘ è¡¥å……æ€§è´¨ï¼š ä¸€æ£µæ ‘æœ€å¤šæœ‰ä¸¤ä¸ªé‡å¿ƒï¼Œä¸¤ä¸ªé‡å¿ƒä¸€å®šç›¸é‚» å¦‚æœæ ‘ä¸Šå¢åŠ æˆ–è€…åˆ é™¤ä¸€ä¸ªå¶èŠ‚ç‚¹ï¼Œé‡å¿ƒæœ€å¤šç§»åŠ¨ä¸€æ¡è¾¹ å°†ä¸¤æ£µæ ‘è¿èµ·æ¥ï¼Œæ–°æ ‘çš„é‡å¿ƒä¸€å®šåœ¨ä¸¤ä¸ªåŸæ¥é‡å¿ƒçš„è¿çº¿ä¸Š å¦‚æœè¾¹æƒä¸ºæ­£ï¼Œæ‰€æœ‰èŠ‚ç‚¹èµ°å‘é‡å¿ƒçš„ æ€»è·ç¦»å’Œ æœ€å° æ±‚æ³•ä¸€ : æœ€å¤§å­æ ‘ è¶³å¤Ÿå° 1234567891011121314151617181920212223int ans = 0, best = INT_MAX;/* é‡å¿ƒï¼š ä»¥å½“å‰èŠ‚ç‚¹ä¸º é‡å¿ƒï¼Œæ‰€æœ‰å­æ ‘ä¸­ æœ€å¤§æ•°é‡çš„å­æ ‘çš„ æ•°é‡è¶³å¤Ÿå°*/int dfs(int u, int f){ Size[u] = 1; int mx = 0; for(int v = head[u]; v != 0; v = edge[v].next){ int e = edge[v].to; if(e != f){ dfs(e,u); Size[u] += Size[e]; mx = max(mx, Size[e]); } } mx = max(mx, n - Size[u]); if(mx &lt; best || (mx == best &amp;&amp; u &lt; ans)){ ans = u; mx = best; }} æ±‚æ³•äºŒ ï¼šæ¯æ£µå­æ ‘çš„èŠ‚ç‚¹æ•° ä¸è¶…è¿‡æ€»èŠ‚ç‚¹çš„ä¸€åŠ 123456789101112131415161718int Size[N];vector&lt;int&gt; ans;void dfs(int u, int f){ Size[u] = 1; int Mx = 0; for(int e = head[u]; e != 0; e =edge[e].next){ int v = edge[e].to; if(v != f){ dfs(v,u); Size[u] += Size[v]; Mx = max(Size[v], Mx); } } Mx = max(Mx, n - Size[u]); if(Mx &lt;= n / 2){ ans.push_back(u); }} æ‰©å±•ï¼š å¸¦ ç‚¹æƒçš„æ ‘ å¦‚ä½•æ±‚é‡å¿ƒ ä»… ä¿®æ”¹ä¸€ä¸ª â†’ Size[u] çš„åˆå§‹å€¼ å˜æˆäº† ç‚¹æƒé‡ 56åˆ†ä»¥ä¸Š ğŸ’¡ é¦–å…ˆï¼šé‡å¿ƒ æ˜¯ä¸ è¾¹æƒ æ²¡æœ‰å…³ç³»çš„ï¼Œæ‰€è°“çš„ç‚¹æƒï¼Œå¯ä»¥ç†è§£ä¸ºä¸€ä¸ªç‹¬ç«‹çš„æ ‘ï¼Œæ ‘ä¸­çš„èŠ‚ç‚¹æ•°é‡ å°±æ˜¯ ç‚¹çš„æƒé‡ 1234567891011121314151617181920int Size[N];int a[N];vector&lt;int&gt; ans;int sum; // sum æ˜¯æ€»ç‚¹æƒå’Œvoid dfs(int u, int f){ Size[u] = a[u]; int Mx = 0; for(int e = head[u]; e != 0; e =edge[e].next){ int v = edge[e].to; if(v != f){ dfs(v,u); Size[u] += Size[v]; Mx = max(Size[v], Mx); } } Mx = max(Mx, sum - Size[u]); if(Mx &lt;= sum / 2){ ans.push_back(u); }} æ ‘çš„ç›´å¾„ æ ‘ä¸Šçš„æœ€é•¿è·¯å¾„ ä¸¤æ¬¡ DFSï¼ˆä»…ä½¿ç”¨æ²¡æœ‰ è´Ÿè¾¹æƒï¼‰ ğŸ’¡èƒ½å¾—åˆ°è·¯å¾„ä¿¡æ¯ 1. ä»æ ¹èŠ‚ç‚¹ æ‰¾ç¦»æ ¹èŠ‚ç‚¹æœ€è¿œçš„ç‚¹ 2. åœ¨ä» è¿™ä¸ªèŠ‚ç‚¹æ‰¾ç¦»è¿™ä¸ªèŠ‚ç‚¹æœ€è¿œçš„ç‚¹ 12345678910111213141516171819202122232425262728293031323334353637/* æ³•ä¸€ï¼š ä¸¤æ¬¡dfs ä¼˜ç‚¹ï¼šèƒ½å¾—åˆ°è·¯å¾„ä¿¡æ¯*/int start, End;int di[N]; // è®°å½•ä»è§„å®šèŠ‚ç‚¹åˆ° å½“å‰èŠ‚ç‚¹åˆ°è·ç¦»int la[N]; // è®°å½•è·¯å¾„void dfs(int u, int f, int w){ la[u] = f; di[u] = di[f] + w; for(int e = head[u]; e != 0; e = ed[e].next){ int v = ed[e].to; if(v != f){ dfs(v, u, ed[e].w); } }}pair&lt;int,int&gt; find_road(int n){ dfs(1, 0, 0); start = 1; for(int i = 1; i &lt;= n; i++){ if(di[i] &gt; di[start]){ start = i; } } dfs(start, 0, 0); End = 1; for(int i = 1; i &lt;= n; i++){ if(di[i] &gt; di[End]){ End = i; } } return {start, End};} æ ‘å‹dp ğŸ’¡ åªèƒ½å¾—åˆ° ç›´å¾„é•¿åº¦ 1234567891011int Max_dia = INT_MIN;void dp(int u, int f){ for(int e = head[u]; e != 0; e = ed[e].next){ int v = ed[e].to; if(v != f){ dp(v, u); Max_dia = max(Max_dia, dist[u] + dist[v] + ed[e].w); dist[u] = max(dist[u], dist[v] + ed[e].w); } }} ç›¸å…³ç»“è®ºï¼ˆè¾¹æƒä¸ºæ­£ï¼‰ å¦‚æœæœ‰ å¤šæ¡ç›´å¾„ï¼Œè¿™å¤šæ¡ç›´å¾„ä¸€å®š æœ‰ä¸€ä¸ª å…¬å…±è·¯æ®µ æ ‘ä¸Šä»»æ„ä¸€ç‚¹ï¼Œç›¸éš”æœ€è¿œçš„ç‚¹çš„é›†åˆï¼Œç›´å¾„çš„ä¸¤ç«¯ç‚¹è‡³å°‘æœ‰ä¸€ä¸ªåœ¨å…¶ä¸­ã€‚ æ ‘ä¸Šå·®åˆ† ç‚¹å·®åˆ† ğŸ’¡ 1.è®¡ç®—å…¬å¼ ï¼ˆå­èŠ‚ç‚¹çš„ å˜åŒ– ä¼šå‘ä¸Šä¼ é€’) (x â†’ y) + v x += v y += v LCA -= v LCA_father -= v 2.åˆå¹¶ num[i] += num[æ‰€æœ‰å­©å­] è¾¹å·®åˆ† ğŸ’¡ è®¡ç®—å…¬å¼ ç‚¹æƒå˜åŒ–: (x â†’ y) + v x += v y += v LCA -= 2*v æ›´æ–°æƒé‡ num[ i â†’ j è¾¹] += weight[ j ]ï¼ˆç‚¹æƒï¼‰ weight[ i ] += weight[ æ‰€æœ‰å­èŠ‚ç‚¹ ] æ ‘çŠ¶æ•°ç»„ï¼ˆè§†é¢‘ï¼‰ æ ‘çŠ¶æ•°ç»„ æ˜¯ å¤„ç†åŒºé—´æŸ¥è¯¢ çš„æ–¹æ³•ã€‚ ä¸€èˆ¬å¤„ç† å¯å·®åˆ†ä¿¡æ¯ ï¼ˆæ€»ä½“ æ˜¯ ç”±éƒ¨åˆ†æ„æˆçš„ï¼‰| ä¸‹æ ‡ä¸€å®šä» 1 å¼€å§‹ æ€ä¹ˆå¾—åˆ° æœ€å³è¾¹çš„ 1 â†’ i &amp; -i å¸¸è§æœ‰ä»¥ä¸‹å››ç§æŸ¥è¯¢ç±»å‹ å•ç‚¹å¢åŠ  + èŒƒå›´æŸ¥è¯¢ ç®¡ç†èŒƒå›´ (å»é™¤æœ€å³è¾¹çš„ 1ï¼ˆ lowbit(i) ï¼‰ + 1ï¼Œ è‡ªå·±) ğŸ’¡ è¾“å…¥çš„æ—¶å€™ treeæ•°ç»„ ç”¨add æ–¹æ³•è¿›è¡Œæ·»åŠ  123456789101112131415161718192021222324int tree[N];// å•ç‚¹å¢åŠ  åŒºé—´æŸ¥è¯¢int n; //æ•°ç»„é•¿åº¦int lowbit(int i){ // å–æœ€å³è¾¹çš„ 1 return i &amp; -i;}void add(int i, int w){ // ä¸‹æ ‡ + æœ€å³è¾¹çš„ 1 çš„åœ°æ–¹ + w while(i &lt;= n){ tree[i] += w; i += lowbit(i); }}// 1 -- r çš„èŒƒå›´å’Œint sum(int r){ // sum = tree[x] è‡ªå·± ç„¶åä¸æ–­å»é™¤æœ€å³è¾¹çš„ 1 int ans = 0; while(r &gt; 0){ ans += tree[r]; r -= lowbit(r); } return ans; } èŒƒå›´å¢åŠ  + å•ç‚¹æŸ¥è¯¢ ï¼ˆæ”¹æˆå·®åˆ†æ•°ç»„ï¼‰ ğŸ’¡ åŸæ•°ç»„ a[i] = sum(delat[1] + â€¦+ delat[i]) delat[i] = a[i] - a[i - 1] å·®åˆ†æ•°ç»„ å¯ä»¥ å®ç° åŸæ•°ç»„çš„ åŒºé—´å¢å‡ delat[l] + w, delat[r + 1] - w. æ„å»º treeæ•°ç»„çš„æ—¶å€™, add_sum( i , w); 1234567891011121314151617181920212223242526272829int tree[N];// å•ç‚¹å¢åŠ  åŒºé—´æŸ¥è¯¢int n; //æ•°ç»„é•¿åº¦int lowbit(int i){ // å–æœ€å³è¾¹çš„ 1 return i &amp; -i;}void add(int i, int w){ // ä¸‹æ ‡ + æœ€å³è¾¹çš„ 1 çš„åœ°æ–¹ + w while(i &lt;= n){ tree[i] += w; i += lowbit(i); }}// æŸ¥è¯¢ r ä½ç½®çš„å€¼int sum(int r){ // sum = tree[x] è‡ªå·± ç„¶åä¸æ–­å»é™¤æœ€å³è¾¹çš„ 1 int ans = 0; while(r &gt; 0){ ans += tree[r]; r -= lowbit(r); } return ans; }// å¢åŠ  l -&gt; r çš„å€¼void add_sum(int l, int r){ add(l, w),add(r + 1, -w);} èŒƒå›´å¢åŠ  + èŒƒå›´æŸ¥è¯¢ ğŸ’¡ sum(1 â†’ r) = r * Sum( delat[1 â†’ r] ) - sum(1 â†’ r)[(i - 1) * delat[i] ]\\ ç»´æŠ¤ ä¸¤ä¸ªå·®åˆ†æ•°ç»„ Di + ï¼ˆi - 1) * Di 12345678910111213141516171819202122232425262728293031323334353637const int N = 1e5 + 10;// Diint tree1[N];// (i - 1) * Diint tree2[N];int n;int lowbit(int i){ return i &amp; -i;}void add(int i, int w){ int t = i; while(t &lt;= n){ tree1[t] += w; t += lowbit(t); } t = i; int W = (i - 1) * w; while(t &lt;= n){ tree2[t] += W; t += lowbit(t); }}void Add(int l, int r, int w){ add(l, w); add(r + 1, -w);}// 1 -&gt; i çš„å’Œint sum(int i){ int ans = 0, t = i; while(t &gt; 0){ ans += (tree1[t] * i); ans -= tree2[t]; t = t - lowbit(t); } return ans;} äºŒç»´çš„å•ç‚¹å¢åŠ  + èŒƒå›´æŸ¥è¯¢ è¦ä» 1 1å¼€å§‹ 12345678910111213141516171819202122232425const int N = 1e3 + 10;const int M = 1e3 + 10;int tree[N][M];int n, m;int lowbit(int i){ return i &amp; -i;}void add(int x, int y, int w){ for(int i = x; i += lowbit(i); i &lt;= n){ for(int j = y; j += lowbit(j); j &lt;= m){ tree[i][j] += w; } }}// 1 -&gt; x 1 -&gt; yint sum(int x, int y){ int ans = 0; for(int i = x; i &gt; 0; i -= lowbit(i)){ for(int j = y; j &gt; 0; j-= lowbit(j)){ ans += tree[i][j]; } } return ans;} äºŒç»´æ•°ç»„çš„ èŒƒå›´å¢åŠ  + èŒƒå›´æŸ¥è¯¢ ğŸ’¡ delat[i] = a[i][j] - a[i-1][j] - a[i][j-1] + a[i-1][j-1] a[i][j] = (1, 1) â†’ (i, j) çš„ delat ç´¯åŠ å’Œ é€†åºé˜Ÿé—®é¢˜ çº¿æ®µæ ‘ åŸºæœ¬çº¿æ®µæ ‘ åŠ¨æ€è§„åˆ’ï¼ˆå…ˆåšé¢˜ç›®ï¼‰ èƒŒåŒ…dp ï¼ˆ66 - 75ï¼‰ åŒºé—´dp å°†å¤§èŒƒå›´ åˆ’åˆ†ä¸º è‹¥å¹²ä¸ª å°èŒƒå›´ çš„é—®é¢˜ ğŸ’¡ å¯èƒ½æ€§å±•å¼€ï¼š åŸºäº ä¸¤ä¾§ç«¯ç‚¹ è®¨è®º åŸºäº èŒƒå›´åˆ’åˆ† è®¨è®º çŠ¶æ€dp åˆ©ç”¨ äºŒè¿›åˆ¶ çš„ 0 1 æ¥è¡¨ç¤º èŠ‚ç‚¹ çŠ¶æ€ æ ‘å‹dp å°† å­æ ‘çš„ ä¿¡æ¯ è¿”å›ç»™çˆ¶äº² ğŸ’¡ çˆ¶äº²èŠ‚ç‚¹çš„ ans ä¾èµ–äº å­æ ‘çš„ä¿¡æ¯ æ•°ä½dp åˆ¤æ–­ æ•°å­—çš„ å¯èƒ½æ€§ ğŸ’¡ å¤§éƒ¨åˆ†éƒ½æ˜¯ ä»å·¦ å‘ å³ è¿›è¡Œå°è¯•ï¼ˆçº¿æ€§å±•å¼€ï¼‰ æ¢æ ¹dp å°† æ ¹èŠ‚ç‚¹ äº’æ¢ï¼Œè¦æ±‚å€¼çš„å˜åŒ– è½®å»“çº¿dp ä¸‰è¿›åˆ¶çŠ¶å‹dp dpä¼˜åŒ– å­—ç¬¦ä¸² KMP å‰ç¼€å‡½æ•° ğŸ’¡ NEXT å‡½æ•°æ„å»º å‰åç¼€ åŒ¹é…é•¿åº¦ 12345678910111213141516int Next[N];void get_next(string s){ Next[0] = -1; Next[1] = 0; int i = 2, cn = 0; // Next[i] è¡¨ç¤ºçš„æ˜¯ 1 - i-1 çš„æœ€é•¿å‰åç¼€åŒ¹é…é•¿åº¦ while(i &lt; s.size()){ if(s[i - 1] == s[cn]){ Next[i++] = ++cn; }else if(cn &gt; 0){ cn = Next[cn]; }else{ Next[i++] = 0; } } } ğŸ’¡ KMP æ˜¯ä¾é è¿™ä¸ª å‰ç¼€å‡½æ•°æ¥å®ç°çš„ å¦‚æœå½“å‰ çš„å­—ç¬¦ä¸åŒ¹é… éœ€è¦æ£€æµ‹çš„ å­—ç¬¦ï¼Œæ ¹æ® NEXT æ•°ç»„ å‘å‰è·³è½¬ æ‰©å±• KMP ï¼ˆZæ•°ç»„ï¼‰å‰ç¼€åŒ¹é…é—®é¢˜ åŠ¨æ€å›¾å±•ç¤º ğŸ”—ï¼šhttps://personal.utdallas.edu/~besp/demo/John2010/z-algorithm.htm ğŸ’¡ Z[i] è¡¨ç¤º s[0 - n-1] å’Œ s[i - n-1] çš„æœ€é•¿åŒ¹é…é•¿åº¦ çº¿æ€§åŠ é€Ÿè¿‡ç¨‹ï¼š å¦‚æœåœ¨æœ€å³çš„æœ€é•¿å‰ç¼€åŒ¹é…åŒºé—´ä¸­ï¼Œä¼šåŠ é€Ÿå‰ç¼€åŠ é€ŸåŒ¹é…è¿‡ç¨‹ 12345678910111213141516171819const int N = 2e6 + 10;int z[N];void Z(string s){ z[0] = 0; int n = s.size(); for(int i = 0, r = 0, l = 0; i &lt; n;i++){ if(i &lt;= r &amp;&amp; z[i - l] &lt; r - i + 1){ z[i] = z[i - l]; }else{ z[i] = max(0, r - i + 1); while(i + z[i] &lt; n &amp;&amp; s[z[i]] == s[i + z[i]]) z[i]++; if(i + z[i] - 1 &gt; r){ r = i + z[i] - 1; l = i; } } }} Manacher ğŸ’¡ P[i] æ•°ç»„æ˜¯ä¿ç•™äº†æ›´æ–°çš„æ•°ç»„çš„å›æ–‡ä¸²é•¿åº¦ # a # a # a # æ€»é•¿åº¦ ä¸º 2 * n + 1 1 2 3 4 3 2 1 123456789101112131415161718192021222324252627const int N = 3e7;int p[N];int Max = 0;string c(string s){ string s1 = &quot;#&quot;; for(auto x : s){ s1 += x; s1 += '#'; } return s1;}void manacher(string s){ int n = s.length(); int c = 0, r = 0; for(int i = 0, len; i &lt; n; i++){ len = r &gt; i ? min(p[2 * c - i], r - i) : 1; // è‡³å°‘çš„å›æ–‡åŠå¾„åŒºåŸŸ while(i + len &lt; n &amp;&amp; i - len &gt;= 0 &amp;&amp; s[i + len] == s[i - len] ){ len ++; } if(i + len &gt; r){ c = i; r = i + len; } Max = max(Max, len); p[i] = len; }} ACè‡ªåŠ¨æœº å­—ç¬¦ä¸²å“ˆå¸Œ æ•°å­¦ åŸƒå¼ç­› ğŸ’¡ å¦‚æœè¿™ä¸ª å…ƒç´  æ²¡æœ‰è®¿é—®è¿‡ï¼Œä¾¿æ˜¯è´¨æ•°ï¼Œå¹¶ä¸” è¿™ä¸ªè´¨æ•°çš„æ‰€æœ‰å€æ•°çš„å€¼ å°±ä¸æ˜¯è´¨æ•° 123456789101112131415161718void ehrlich(int n){ vector&lt;bool&gt; vis(n + 1, false); for(int i = 2; i * i &lt;= n; i++){ if(!vis[i]){ for(int j = i * i; j &lt;= n; j +=i){ vis[j] = true; } } } int cnt = 0; // è´¨æ•° è®°æ•° vis æœªè®¿é—®è¿‡çš„ ä¾¿æ˜¯è´¨æ•°å­— for(int i = 1; i &lt;= n; i++){ if(!vis[i]){ cnt ++; cout &lt;&lt; i &lt;&lt; &quot; &quot;; } }cout &lt;&lt; endl; } ä¹˜æ³•é€†å…ƒ $$ é€†å…ƒå«ä¹‰ ï¼š x\\rightarrow \\frac{1}{x} $$ æ³•ä¸€ ï¼šæ‰©å±•æ¬§å‡ é‡Œå¾— æ±‚é€†å…ƒ 12345678910111213141516typedef long long LL;LL ExGCD(LL a, LL mod, LL &amp;x, LL &amp;y){ if(mod == 0){ x = 1; y = 0; return a; } LL d = ExGCD(mod, a % mod, x, y), t = x; x = y; y = t - a / mod * x; return d;}int ExGcdInv(int a, int mod){ LL x, y; ExGCD(a, mod, x, y); return (x + mod) % mod;} æ³•äºŒ ï¼š å¿«é€Ÿå¹‚ æ±‚é€†å…ƒ 123456789101112LL fastpow(int a, int b, int mod){ LL ret = 1; while(b){ if(b &amp; 1) ret = ret * a % mod; a = a * a % mod; b &gt;&gt;= 1; } return ret;}LL FermatInv(int a, int mod){ return fastpow(a, mod - 2, mod);} æ³•ä¸‰ ï¼š è´¹é©¬å°é€’æ¨ æ±‚é€†å…ƒ $$ \\text{inv}[i] = ( \\text{mod} - (\\text{mod} \\div i) ) \\times \\text{inv}[\\text{mod} % i] % \\text{mod} $$ 1234567int invList[mod+ 10];voidGetInv(int mod){ invList[1]= 1;for(int i= 2; i&lt; mod; i++) invList[i]= 1LL* (mod- mod/ i)* invList[mod% i]% mod;} å®¹æ–¥åŸç† å¥‡ â• å¶ â– $$ \\textbf{ä¸¤ä¸ªé›†åˆï¼š} \\quad |A \\cup B| = |A| + |B| - |A \\cap B| $$ $$ \\textbf{ä¸‰ä¸ªé›†åˆï¼š} \\quad |A \\cup B \\cup C| = |A| + |B| + |C| |A \\cap B| - |A \\cap C| - |B \\cap C| |A \\cap B \\cap C| $$ $$ \\textbf{n ä¸ªé›†åˆçš„æƒ…å†µï¼ˆå®¹æ–¥åŸç†ï¼‰ï¼š} \\quad \\left| \\bigcup_{i=1}^{n} A_i \\right| = \\sum_{k=1}^{n} (-1)^{k+1} \\sum_{1 \\leq i_1 &lt; i_2 &lt; \\dots &lt; i_k \\leq n} \\left| A_{i_1} \\cap A_{i_2} \\cap \\dots \\cap A_{i_k} \\right| $$ ç›¸å…³é¢˜ç›®ï¼š è®¡ç®—åŒºé—´ [1,n] å†…ä¸è¢«ç»™å®šè´¨æ•°æ•´é™¤çš„æ•´æ•°ä¸ªæ•° ğŸ’¡ å› ä¸º éœ€è¦éšæœºé€‰ a0 â†’ an ä¸­çš„ä»»æ„å‡ ä¸ªæ•°çš„ç»„åˆï¼Œæ‰€ä»¥ç”¨ äºŒè¿›åˆ¶çš„å½¢å¼ æ¥è®¡ç®— 123456789101112131415161718192021222324252627282930313233typedef long long LL;int lcm(int a, int b){ return a / __gcd(a, b) * b;}int main(){ int k, n; cin &gt;&gt; k &gt;&gt; n; vector&lt;int&gt; a(k); for(auto&amp; x : a){ cin &gt;&gt; x; } LL t = 1 &lt;&lt; k; LL result = 0; for(int i = 1; i &lt;= t; i++){ int l = 1, bits = 0; for(int j = 0; j &lt; k; j++){ if(i &amp; (1 &lt;&lt; j)){ bits++; if(l &gt; n / a[i]){ l = n + 1; // ç›¸å½“äº æ²¡å¿…è¦è¿›è¡Œåç»­è®¡ç®— å› ä¸º n / l == 0 break; } l = lcm(l, a[i]); } } if(bits % 2) result += n / l; else result -= n / l; } cout &lt;&lt; n - result &lt;&lt; endl; return 0;} è®¡ç®—éäº’è´¨æ•´æ•°å¯¹çš„ä¸ªæ•° è®¡ç®—ç¬¦åˆæ’åˆ—æ¡ä»¶çš„æ–¹æ¡ˆæ•°ï¼ˆnï¼çš„æ’åˆ—ä¸­ï¼Œè‡³å°‘æœ‰ k ä¸ªå­—ç¬¦ åœ¨åŸä½ä¸Šçš„ ä¸ªæ•°ï¼‰ å¿«é€Ÿå¹‚ åŸºæœ¬å¿«é€Ÿå¹‚ 12345678910111213typedef long long LL;const int mod = 1e9 + 7;LL fastpow(int a, int b){ LL ant = 1; while(b){ if(b &amp; 1){ ant = ant * a %mod; } a = a * a %mod; b &gt;&gt;= 1; } return ant % mod;} çŸ©é˜µå¿«é€Ÿå¹‚ ğŸ’¡ çŸ©é˜µå¿«é€Ÿå¹‚ å¸¸ç”¨äº DPï¼ˆå›ºå®šçº¿æ€§é€’å½’ï¼‰é—®é¢˜ ä¸€ç»´ ké˜¶ï¼ˆk ä¸ªå¼å­ï¼‰ æ—¶é—´å¤æ‚åº¦ ï¼šO(logn * 2^k) $$ f(n) = c_1 f(n-1) + c_2 f(n-2) + â€¦ + c_k f(n-k) $$ kç»´ä¸€é˜¶ $$ \\mathbf{X}n = A \\mathbf{X}{n-1} $$ ğŸ’¡ ç›¸å½“äº ç¬¬ i ä½ç½®çš„ ans éœ€è¦ç¬¬ i-1 ä½ç½®çš„ ansï¼ˆå¯èƒ½æ˜¯äºŒç»´çš„ï¼Œä»¥ä¸ºç€éœ€è¦ i-1 ä½ç½®çš„å¤šä¸ªç­”æ¡ˆï¼‰ çŸ©é˜µå¿«é€Ÿå¹‚çš„åŸºæœ¬ä¼ªä»£ç  123456789101112131415161718192021222324252627282930vector&lt;vector&lt;int&gt;&gt; multiply(vector&lt;vector&lt;int&gt;&gt; a, vector&lt;vector&lt;int&gt;&gt; b){ int n = a.size(); int m = b[0].size(); int k = a[0].size(); vector&lt;vector&lt;int&gt;&gt; ans(n, vector&lt;int&gt;(m)); // ans[i][j] == açš„ ç¬¬iè¡Œ * bçš„ ç¬¬jåˆ— for(int i = 0; i &lt; n; i++){ for(int j = 0; j &lt; m; j++){ int temp = 0; for(int t = 0; t &lt; k; t++){ ans[i][j] +=a[i][t] * b[t][j]; } } } return ans;}vector&lt;vector&lt;int&gt;&gt; power(vector&lt;vector&lt;int&gt;&gt; a, int t){ int n = a.size(); vector&lt;vector&lt;int&gt;&gt; ans(n, vector&lt;int&gt; (n, 0)); for(int i = 0; i &lt; n; i++) ans[i][i] = 1; while(t){ if(t &amp; 1) ans = multiply(ans, a); a = multiply(a, a); t &gt;&gt;= 1; } return ans;} çŸ©é˜µå¿«é€Ÿå¹‚çš„ä½¿ç”¨ æ€ä¹ˆæ±‚å…³ç³»çŸ©é˜µ ä¸€ç»´ k é˜¶ $$ f(n) = c_1 f(n-1) + c_2 f(n-2) + â€¦ + c_k f(n-k) $$ $$ V_n = \\begin{bmatrix} f(n) &amp; f(n-1) &amp; \\dots &amp; f(n-k+1) \\end{bmatrix} çŸ©é˜µé€’æ¨å…³ç³»ï¼š V_n = V_{n-1} \\times T{\\prime} $$ $$ å…³ç³»çŸ©é˜µ T{\\prime} = \\begin{bmatrix} c_1 &amp; 1 &amp; 0 &amp; 0 &amp; \\dots &amp; 0 \\ c_2 &amp; 0 &amp; 1 &amp; 0 &amp; \\dots &amp; 0 \\ c_3 &amp; 0 &amp; 0 &amp; 1 &amp; \\dots &amp; 0 \\ \\vdots &amp; \\vdots &amp; \\vdots &amp; \\vdots &amp; \\ddots &amp; \\vdots \\ c_k &amp; 0 &amp; 0 &amp; 0 &amp; \\dots &amp; 0 \\end{bmatrix} $$ kç»´ ä¸€é˜¶ $$ \\mathbf{X}n = \\mathbf{X}{n-1} \\times A $$ $$ çŠ¶æ€å‘é‡ ï¼š \\mathbf{X}_n = [x_1(n), x_2(n), â€¦, x_k(n)] $$ $$ x_1(n) = c_1 x_1(n-1) + c_2 x_2(n-1) + \\dots + c_k x_k(n-1)\\ x_2(n) = d_1 x_1(n-1) + d_2 x_2(n-1) + \\dots + d_k x_k(n-1)\\ x_3(n) = e_1 x_1(n-1) + e_2 x_2(n-1) + \\dots + e_k x_k(n-1) \\\\dots\\ x_k(n) = f_1 x_1(n-1) + f_2 x_2(n-1) + \\dots + f_k x_k(n-1) $$ $$ A = \\begin{bmatrix} c_1 &amp; d_1 &amp; e_1 &amp; \\dots &amp; f_1 \\ c_2 &amp; d_2 &amp; e_2 &amp; \\dots &amp; f_2 \\ c_3 &amp; d_3 &amp; e_3 &amp; \\dots &amp; f_3 \\ \\vdots &amp; \\vdots &amp; \\vdots &amp; \\ddots &amp; \\vdots \\ c_k &amp; d_k &amp; e_k &amp; \\dots &amp; f_k \\end{bmatrix} $$","link":"/2025/03/25/%E8%80%81%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"åšæŒ","slug":"åšæŒ","link":"/tags/%E5%9D%9A%E6%8C%81/"},{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","link":"/tags/%E5%AD%A6%E4%B9%A0/"},{"name":"å¼€å‘","slug":"å¼€å‘","link":"/tags/%E5%BC%80%E5%8F%91/"},{"name":"ç®—æ³•","slug":"ç®—æ³•","link":"/tags/%E7%AE%97%E6%B3%95/"},{"name":"YOUTH","slug":"YOUTH","link":"/tags/YOUTH/"},{"name":"è®¡ç®—æœº","slug":"è®¡ç®—æœº","link":"/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA/"},{"name":"èŠ±å¼","slug":"èŠ±å¼","link":"/tags/%E8%8A%B1%E5%BC%8F/"},{"name":"MarkDown","slug":"MarkDown","link":"/tags/MarkDown/"},{"name":"æ²‰æ·€","slug":"æ²‰æ·€","link":"/tags/%E6%B2%89%E6%B7%80/"},{"name":"çƒ­çˆ±","slug":"çƒ­çˆ±","link":"/tags/%E7%83%AD%E7%88%B1/"}],"categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","link":"/categories/%E7%AE%97%E6%B3%95/"},{"name":"ç”Ÿæ´»","slug":"ç”Ÿæ´»","link":"/categories/%E7%94%9F%E6%B4%BB/"},{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","link":"/categories/%E5%AD%A6%E4%B9%A0/"},{"name":"å¼€å‘","slug":"å¼€å‘","link":"/categories/%E5%BC%80%E5%8F%91/"},{"name":"Codeforces","slug":"Codeforces","link":"/categories/Codeforces/"},{"name":"ç‰›å®¢","slug":"ç‰›å®¢","link":"/categories/%E7%89%9B%E5%AE%A2/"}],"pages":[{"title":"categories","text":"$ /Library/PostgreSQL/11/scripts/runpsql.sh ;exit Server [localhost]: Database [postgres]: Port [5432]: Username [postgres]: Password for user postgres: 123456 psql (11.3) Type â€œhelpâ€ for help. postgres=#","link":"/categories/index.html"},{"title":"link","text":"","link":"/link/index.html"},{"title":"tags","text":"","link":"/tags/index.html"},{"title":"about","text":"ä½ å¯¹æˆ‘çš„ç™¾èˆ¬æ³¨è§£å’Œè¯†è¯»ï¼Œå¹¶ä¸æ„æˆä¸‡åˆ†ä¹‹ä¸€çš„æˆ‘ï¼Œå´æ˜¯ä¸€è§ˆæ— é—çš„ä½ ã€‚ âœ¨é€‰è‡ªRobomaster","link":"/about/index.html"}]}